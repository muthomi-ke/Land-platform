(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Py(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xc={exports:{}},Xi={},wc={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function n1(){if(mm)return Pe;mm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function _(N,z,ee){this.props=N,this.context=z,this.refs=E,this.updater=ee||b}_.prototype.isReactComponent={},_.prototype.setState=function(N,z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,z,"setState")},_.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function L(){}L.prototype=_.prototype;function P(N,z,ee){this.props=N,this.context=z,this.refs=E,this.updater=ee||b}var C=P.prototype=new L;C.constructor=P,k(C,_.prototype),C.isPureReactComponent=!0;var T=Array.isArray,O=Object.prototype.hasOwnProperty,A={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function W(N,z,ee){var ae,V={},ve=null,ye=null;if(z!=null)for(ae in z.ref!==void 0&&(ye=z.ref),z.key!==void 0&&(ve=""+z.key),z)O.call(z,ae)&&!D.hasOwnProperty(ae)&&(V[ae]=z[ae]);var oe=arguments.length-2;if(oe===1)V.children=ee;else if(1<oe){for(var Ce=Array(oe),de=0;de<oe;de++)Ce[de]=arguments[de+2];V.children=Ce}if(N&&N.defaultProps)for(ae in oe=N.defaultProps,oe)V[ae]===void 0&&(V[ae]=oe[ae]);return{$$typeof:t,type:N,key:ve,ref:ye,props:V,_owner:A.current}}function $(N,z){return{$$typeof:t,type:N.type,key:z,ref:N.ref,props:N.props,_owner:N._owner}}function F(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function q(N){var z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return z[ee]})}var ne=/\/+/g;function ue(N,z){return typeof N=="object"&&N!==null&&N.key!=null?q(""+N.key):z.toString(36)}function te(N,z,ee,ae,V){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var ye=!1;if(N===null)ye=!0;else switch(ve){case"string":case"number":ye=!0;break;case"object":switch(N.$$typeof){case t:case e:ye=!0}}if(ye)return ye=N,V=V(ye),N=ae===""?"."+ue(ye,0):ae,T(V)?(ee="",N!=null&&(ee=N.replace(ne,"$&/")+"/"),te(V,z,ee,"",function(de){return de})):V!=null&&(F(V)&&(V=$(V,ee+(!V.key||ye&&ye.key===V.key?"":(""+V.key).replace(ne,"$&/")+"/")+N)),z.push(V)),1;if(ye=0,ae=ae===""?".":ae+":",T(N))for(var oe=0;oe<N.length;oe++){ve=N[oe];var Ce=ae+ue(ve,oe);ye+=te(ve,z,ee,Ce,V)}else if(Ce=w(N),typeof Ce=="function")for(N=Ce.call(N),oe=0;!(ve=N.next()).done;)ve=ve.value,Ce=ae+ue(ve,oe++),ye+=te(ve,z,ee,Ce,V);else if(ve==="object")throw z=String(N),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ye}function re(N,z,ee){if(N==null)return N;var ae=[],V=0;return te(N,ae,"","",function(ve){return z.call(ee,ve,V++)}),ae}function ge(N){if(N._status===-1){var z=N._result;z=z(),z.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=z)}if(N._status===1)return N._result.default;throw N._result}var ie={current:null},H={transition:null},X={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:H,ReactCurrentOwner:A};function G(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:re,forEach:function(N,z,ee){re(N,function(){z.apply(this,arguments)},ee)},count:function(N){var z=0;return re(N,function(){z++}),z},toArray:function(N){return re(N,function(z){return z})||[]},only:function(N){if(!F(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Pe.Component=_,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=P,Pe.StrictMode=s,Pe.Suspense=h,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Pe.act=G,Pe.cloneElement=function(N,z,ee){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ae=k({},N.props),V=N.key,ve=N.ref,ye=N._owner;if(z!=null){if(z.ref!==void 0&&(ve=z.ref,ye=A.current),z.key!==void 0&&(V=""+z.key),N.type&&N.type.defaultProps)var oe=N.type.defaultProps;for(Ce in z)O.call(z,Ce)&&!D.hasOwnProperty(Ce)&&(ae[Ce]=z[Ce]===void 0&&oe!==void 0?oe[Ce]:z[Ce])}var Ce=arguments.length-2;if(Ce===1)ae.children=ee;else if(1<Ce){oe=Array(Ce);for(var de=0;de<Ce;de++)oe[de]=arguments[de+2];ae.children=oe}return{$$typeof:t,type:N.type,key:V,ref:ve,props:ae,_owner:ye}},Pe.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Pe.createElement=W,Pe.createFactory=function(N){var z=W.bind(null,N);return z.type=N,z},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(N){return{$$typeof:c,render:N}},Pe.isValidElement=F,Pe.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:ge}},Pe.memo=function(N,z){return{$$typeof:f,type:N,compare:z===void 0?null:z}},Pe.startTransition=function(N){var z=H.transition;H.transition={};try{N()}finally{H.transition=z}},Pe.unstable_act=G,Pe.useCallback=function(N,z){return ie.current.useCallback(N,z)},Pe.useContext=function(N){return ie.current.useContext(N)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(N){return ie.current.useDeferredValue(N)},Pe.useEffect=function(N,z){return ie.current.useEffect(N,z)},Pe.useId=function(){return ie.current.useId()},Pe.useImperativeHandle=function(N,z,ee){return ie.current.useImperativeHandle(N,z,ee)},Pe.useInsertionEffect=function(N,z){return ie.current.useInsertionEffect(N,z)},Pe.useLayoutEffect=function(N,z){return ie.current.useLayoutEffect(N,z)},Pe.useMemo=function(N,z){return ie.current.useMemo(N,z)},Pe.useReducer=function(N,z,ee){return ie.current.useReducer(N,z,ee)},Pe.useRef=function(N){return ie.current.useRef(N)},Pe.useState=function(N){return ie.current.useState(N)},Pe.useSyncExternalStore=function(N,z,ee){return ie.current.useSyncExternalStore(N,z,ee)},Pe.useTransition=function(){return ie.current.useTransition()},Pe.version="18.3.1",Pe}var gm;function Bd(){return gm||(gm=1,wc.exports=n1()),wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function r1(){if(vm)return Xi;vm=1;var t=Bd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,f){var m,y={},w=null,b=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(m in h)s.call(h,m)&&!a.hasOwnProperty(m)&&(y[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:b,props:y,_owner:o.current}}return Xi.Fragment=n,Xi.jsx=u,Xi.jsxs=u,Xi}var ym;function s1(){return ym||(ym=1,xc.exports=r1()),xc.exports}var g=s1(),v=Bd();const me=Py(v);var Ha={},bc={exports:{}},Nt={},kc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function i1(){return xm||(xm=1,(function(t){function e(H,X){var G=H.length;H.push(X);e:for(;0<G;){var N=G-1>>>1,z=H[N];if(0<o(z,X))H[N]=X,H[G]=z,G=N;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var X=H[0],G=H.pop();if(G!==X){H[0]=G;e:for(var N=0,z=H.length,ee=z>>>1;N<ee;){var ae=2*(N+1)-1,V=H[ae],ve=ae+1,ye=H[ve];if(0>o(V,G))ve<z&&0>o(ye,V)?(H[N]=ye,H[ve]=G,N=ve):(H[N]=V,H[ae]=G,N=ae);else if(ve<z&&0>o(ye,G))H[N]=ye,H[ve]=G,N=ve;else break e}}return X}function o(H,X){var G=H.sortIndex-X.sortIndex;return G!==0?G:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],f=[],m=1,y=null,w=3,b=!1,k=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var X=n(f);X!==null;){if(X.callback===null)s(f);else if(X.startTime<=H)s(f),X.sortIndex=X.expirationTime,e(h,X);else break;X=n(f)}}function T(H){if(E=!1,C(H),!k)if(n(h)!==null)k=!0,ge(O);else{var X=n(f);X!==null&&ie(T,X.startTime-H)}}function O(H,X){k=!1,E&&(E=!1,L(W),W=-1),b=!0;var G=w;try{for(C(X),y=n(h);y!==null&&(!(y.expirationTime>X)||H&&!q());){var N=y.callback;if(typeof N=="function"){y.callback=null,w=y.priorityLevel;var z=N(y.expirationTime<=X);X=t.unstable_now(),typeof z=="function"?y.callback=z:y===n(h)&&s(h),C(X)}else s(h);y=n(h)}if(y!==null)var ee=!0;else{var ae=n(f);ae!==null&&ie(T,ae.startTime-X),ee=!1}return ee}finally{y=null,w=G,b=!1}}var A=!1,D=null,W=-1,$=5,F=-1;function q(){return!(t.unstable_now()-F<$)}function ne(){if(D!==null){var H=t.unstable_now();F=H;var X=!0;try{X=D(!0,H)}finally{X?ue():(A=!1,D=null)}}else A=!1}var ue;if(typeof P=="function")ue=function(){P(ne)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=ne,ue=function(){re.postMessage(null)}}else ue=function(){_(ne,0)};function ge(H){D=H,A||(A=!0,ue())}function ie(H,X){W=_(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,ge(O))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var G=w;w=X;try{return H()}finally{w=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=w;w=H;try{return X()}finally{w=G}},t.unstable_scheduleCallback=function(H,X,G){var N=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?N+G:N):G=N,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,H={id:m++,callback:X,priorityLevel:H,startTime:G,expirationTime:z,sortIndex:-1},G>N?(H.sortIndex=G,e(f,H),n(h)===null&&H===n(f)&&(E?(L(W),W=-1):E=!0,ie(T,G-N))):(H.sortIndex=z,e(h,H),k||b||(k=!0,ge(O))),H},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(H){var X=w;return function(){var G=w;w=X;try{return H.apply(this,arguments)}finally{w=G}}}})(Sc)),Sc}var wm;function o1(){return wm||(wm=1,kc.exports=i1()),kc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function a1(){if(bm)return Nt;bm=1;var t=Bd(),e=o1();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(r){return h.call(y,r)?!0:h.call(m,r)?!1:f.test(r)?y[r]=!0:(m[r]=!0,!1)}function b(r,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,i,l,d){if(i===null||typeof i>"u"||b(r,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function E(r,i,l,d,p,x,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=x,this.removeEmptyString=S}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new E(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new E(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new E(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new E(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new E(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new E(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new E(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new E(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new E(r,5,!1,r.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(L,P);_[i]=new E(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(L,P);_[i]=new E(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(L,P);_[i]=new E(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new E(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new E(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,i,l,d){var p=_.hasOwnProperty(i)?_[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,l,p,d)&&(l=null),d||p===null?w(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,i,l):r.setAttribute(i,l))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),H=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,N;function z(r){if(N===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+r}var ee=!1;function ae(r,i){if(!r||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var d=B}Reflect.construct(r,[],i)}else{try{i.call()}catch(B){d=B}r.call(i.prototype)}else{try{throw Error()}catch(B){d=B}r()}}catch(B){if(B&&d&&typeof B.stack=="string"){for(var p=B.stack.split(`
`),x=d.stack.split(`
`),S=p.length-1,j=x.length-1;1<=S&&0<=j&&p[S]!==x[j];)j--;for(;1<=S&&0<=j;S--,j--)if(p[S]!==x[j]){if(S!==1||j!==1)do if(S--,j--,0>j||p[S]!==x[j]){var M=`
`+p[S].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=S&&0<=j);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?z(r):""}function V(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case A:return"Portal";case $:return"Profiler";case W:return"StrictMode";case ue:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case q:return(r.displayName||"Context")+".Consumer";case F:return(r._context.displayName||"Context")+".Provider";case ne:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return i=r.displayName||null,i!==null?i:ve(r.type)||"Memo";case ge:i=r._payload,r=r._init;try{return ve(r(i))}catch{}}return null}function ye(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function de(r){var i=Ce(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,x=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,x.call(this,S)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function je(r){r._valueTracker||(r._valueTracker=de(r))}function Ct(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=Ce(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function Lt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Cn(r,i){var l=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ie(r,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=oe(i.value!=null?i.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ci(r,i){i=i.checked,i!=null&&C(r,"checked",i,!1)}function Kn(r,i){ci(r,i);var l=oe(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Hn(r,i.type,l):i.hasOwnProperty("defaultValue")&&Hn(r,i.type,oe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function di(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Hn(r,i,l){(i!=="number"||Lt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Gn=Array.isArray;function Xt(r,i,l,d){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+oe(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function ls(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Lr(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Gn(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:oe(l)}}function hi(r,i){var l=oe(i.value),d=oe(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function fi(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function pi(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qn(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?pi(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pr,jr=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,l,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Zn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Do=["Webkit","ms","Moz","O"];Object.keys(vn).forEach(function(r){Do.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),vn[i]=vn[r]})});function Tr(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||vn.hasOwnProperty(r)&&vn[r]?(""+i).trim():i+"px"}function mi(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Tr(l,i[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var us=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cs(r,i){if(i){if(us[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Jn(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function Yn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hs=null,Ln=null,Pn=null;function Or(r){if(r=Ui(r)){if(typeof hs!="function")throw Error(n(280));var i=r.stateNode;i&&(i=aa(i),hs(r.stateNode,r.type,i))}}function gi(r){Ln?Pn?Pn.push(r):Pn=[r]:Ln=r}function Mr(){if(Ln){var r=Ln,i=Pn;if(Pn=Ln=null,Or(r),i)for(r=0;r<i.length;r++)Or(i[r])}}function vi(r,i){return r(i)}function Nr(){}var fs=!1;function Uo(r,i,l){if(fs)return r(i,l);fs=!0;try{return vi(r,i,l)}finally{fs=!1,(Ln!==null||Pn!==null)&&(Nr(),Mr())}}function en(r,i){var l=r.stateNode;if(l===null)return null;var d=aa(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var _e=!1;if(c)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){_e=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{_e=!1}function lw(r,i,l,d,p,x,S,j,M){var B=Array.prototype.slice.call(arguments,3);try{i.apply(l,B)}catch(J){this.onError(J)}}var xi=!1,$o=null,Bo=!1,Ul=null,uw={onError:function(r){xi=!0,$o=r}};function cw(r,i,l,d,p,x,S,j,M){xi=!1,$o=null,lw.apply(uw,arguments)}function dw(r,i,l,d,p,x,S,j,M){if(cw.apply(this,arguments),xi){if(xi){var B=$o;xi=!1,$o=null}else throw Error(n(198));Bo||(Bo=!0,Ul=B)}}function Rr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Dh(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Uh(r){if(Rr(r)!==r)throw Error(n(188))}function hw(r){var i=r.alternate;if(!i){if(i=Rr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,d=i;;){var p=l.return;if(p===null)break;var x=p.alternate;if(x===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===l)return Uh(p),r;if(x===d)return Uh(p),i;x=x.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=x;else{for(var S=!1,j=p.child;j;){if(j===l){S=!0,l=p,d=x;break}if(j===d){S=!0,d=p,l=x;break}j=j.sibling}if(!S){for(j=x.child;j;){if(j===l){S=!0,l=x,d=p;break}if(j===d){S=!0,d=x,l=p;break}j=j.sibling}if(!S)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function $h(r){return r=hw(r),r!==null?Bh(r):null}function Bh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Bh(r);if(i!==null)return i;r=r.sibling}return null}var Vh=e.unstable_scheduleCallback,Fh=e.unstable_cancelCallback,fw=e.unstable_shouldYield,pw=e.unstable_requestPaint,et=e.unstable_now,mw=e.unstable_getCurrentPriorityLevel,$l=e.unstable_ImmediatePriority,zh=e.unstable_UserBlockingPriority,Vo=e.unstable_NormalPriority,gw=e.unstable_LowPriority,Wh=e.unstable_IdlePriority,Fo=null,yn=null;function vw(r){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Fo,r,void 0,(r.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:ww,yw=Math.log,xw=Math.LN2;function ww(r){return r>>>=0,r===0?32:31-(yw(r)/xw|0)|0}var zo=64,Wo=4194304;function wi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ko(r,i){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,x=r.pingedLanes,S=l&268435455;if(S!==0){var j=S&~p;j!==0?d=wi(j):(x&=S,x!==0&&(d=wi(x)))}else S=l&~p,S!==0?d=wi(S):x!==0&&(d=wi(x));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,x=i&-i,p>=x||p===16&&(x&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)l=31-tn(i),p=1<<l,d|=r[l],i&=~p;return d}function bw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kw(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,x=r.pendingLanes;0<x;){var S=31-tn(x),j=1<<S,M=p[S];M===-1?((j&l)===0||(j&d)!==0)&&(p[S]=bw(j,i)):M<=i&&(r.expiredLanes|=j),x&=~j}}function Bl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Kh(){var r=zo;return zo<<=1,(zo&4194240)===0&&(zo=64),r}function Vl(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function bi(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-tn(i),r[i]=l}function Sw(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-tn(l),x=1<<p;i[p]=0,d[p]=-1,r[p]=-1,l&=~x}}function Fl(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-tn(l),p=1<<d;p&i|r[d]&i&&(r[d]|=i),l&=~p}}var De=0;function Hh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Gh,zl,qh,Zh,Jh,Wl=!1,Ho=[],Qn=null,Xn=null,er=null,ki=new Map,Si=new Map,tr=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yh(r,i){switch(r){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":ki.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(i.pointerId)}}function Ei(r,i,l,d,p,x){return r===null||r.nativeEvent!==x?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[p]},i!==null&&(i=Ui(i),i!==null&&zl(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function _w(r,i,l,d,p){switch(i){case"focusin":return Qn=Ei(Qn,r,i,l,d,p),!0;case"dragenter":return Xn=Ei(Xn,r,i,l,d,p),!0;case"mouseover":return er=Ei(er,r,i,l,d,p),!0;case"pointerover":var x=p.pointerId;return ki.set(x,Ei(ki.get(x)||null,r,i,l,d,p)),!0;case"gotpointercapture":return x=p.pointerId,Si.set(x,Ei(Si.get(x)||null,r,i,l,d,p)),!0}return!1}function Qh(r){var i=Ar(r.target);if(i!==null){var l=Rr(i);if(l!==null){if(i=l.tag,i===13){if(i=Dh(l),i!==null){r.blockedOn=i,Jh(r.priority,function(){qh(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Go(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Hl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ds=d,l.target.dispatchEvent(d),ds=null}else return i=Ui(l),i!==null&&zl(i),r.blockedOn=l,!1;i.shift()}return!0}function Xh(r,i,l){Go(r)&&l.delete(i)}function Cw(){Wl=!1,Qn!==null&&Go(Qn)&&(Qn=null),Xn!==null&&Go(Xn)&&(Xn=null),er!==null&&Go(er)&&(er=null),ki.forEach(Xh),Si.forEach(Xh)}function _i(r,i){r.blockedOn===i&&(r.blockedOn=null,Wl||(Wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cw)))}function Ci(r){function i(p){return _i(p,r)}if(0<Ho.length){_i(Ho[0],r);for(var l=1;l<Ho.length;l++){var d=Ho[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Qn!==null&&_i(Qn,r),Xn!==null&&_i(Xn,r),er!==null&&_i(er,r),ki.forEach(i),Si.forEach(i),l=0;l<tr.length;l++)d=tr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<tr.length&&(l=tr[0],l.blockedOn===null);)Qh(l),l.blockedOn===null&&tr.shift()}var ps=T.ReactCurrentBatchConfig,qo=!0;function Lw(r,i,l,d){var p=De,x=ps.transition;ps.transition=null;try{De=1,Kl(r,i,l,d)}finally{De=p,ps.transition=x}}function Pw(r,i,l,d){var p=De,x=ps.transition;ps.transition=null;try{De=4,Kl(r,i,l,d)}finally{De=p,ps.transition=x}}function Kl(r,i,l,d){if(qo){var p=Hl(r,i,l,d);if(p===null)uu(r,i,d,Zo,l),Yh(r,d);else if(_w(p,r,i,l,d))d.stopPropagation();else if(Yh(r,d),i&4&&-1<Ew.indexOf(r)){for(;p!==null;){var x=Ui(p);if(x!==null&&Gh(x),x=Hl(r,i,l,d),x===null&&uu(r,i,d,Zo,l),x===p)break;p=x}p!==null&&d.stopPropagation()}else uu(r,i,d,null,l)}}var Zo=null;function Hl(r,i,l,d){if(Zo=null,r=Yn(d),r=Ar(r),r!==null)if(i=Rr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Dh(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Zo=r,null}function ef(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mw()){case $l:return 1;case zh:return 4;case Vo:case gw:return 16;case Wh:return 536870912;default:return 16}default:return 16}}var nr=null,Gl=null,Jo=null;function tf(){if(Jo)return Jo;var r,i=Gl,l=i.length,d,p="value"in nr?nr.value:nr.textContent,x=p.length;for(r=0;r<l&&i[r]===p[r];r++);var S=l-r;for(d=1;d<=S&&i[l-d]===p[x-d];d++);return Jo=p.slice(r,1<d?1-d:void 0)}function Yo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Qo(){return!0}function nf(){return!1}function At(r){function i(l,d,p,x,S){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(l=r[j],this[j]=l?l(x):x[j]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Qo:nf,this.isPropagationStopped=nf,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),i}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=At(ms),Li=G({},ms,{view:0,detail:0}),jw=At(Li),Zl,Jl,Pi,Xo=G({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pi&&(Pi&&r.type==="mousemove"?(Zl=r.screenX-Pi.screenX,Jl=r.screenY-Pi.screenY):Jl=Zl=0,Pi=r),Zl)},movementY:function(r){return"movementY"in r?r.movementY:Jl}}),rf=At(Xo),Tw=G({},Xo,{dataTransfer:0}),Ow=At(Tw),Mw=G({},Li,{relatedTarget:0}),Yl=At(Mw),Nw=G({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Rw=At(Nw),Aw=G({},ms,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Iw=At(Aw),Dw=G({},ms,{data:0}),sf=At(Dw),Uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$w={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Bw[r])?!!i[r]:!1}function Ql(){return Vw}var Fw=G({},Li,{key:function(r){if(r.key){var i=Uw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$w[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(r){return r.type==="keypress"?Yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zw=At(Fw),Ww=G({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=At(Ww),Kw=G({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),Hw=At(Kw),Gw=G({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=At(Gw),Zw=G({},Xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=At(Zw),Yw=[9,13,27,32],Xl=c&&"CompositionEvent"in window,ji=null;c&&"documentMode"in document&&(ji=document.documentMode);var Qw=c&&"TextEvent"in window&&!ji,af=c&&(!Xl||ji&&8<ji&&11>=ji),lf=" ",uf=!1;function cf(r,i){switch(r){case"keyup":return Yw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gs=!1;function Xw(r,i){switch(r){case"compositionend":return df(i);case"keypress":return i.which!==32?null:(uf=!0,lf);case"textInput":return r=i.data,r===lf&&uf?null:r;default:return null}}function eb(r,i){if(gs)return r==="compositionend"||!Xl&&cf(r,i)?(r=tf(),Jo=Gl=nr=null,gs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return af&&i.locale!=="ko"?null:i.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!tb[r.type]:i==="textarea"}function ff(r,i,l,d){gi(d),i=sa(i,"onChange"),0<i.length&&(l=new ql("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var Ti=null,Oi=null;function nb(r){Of(r,0)}function ea(r){var i=bs(r);if(Ct(i))return r}function rb(r,i){if(r==="change")return i}var pf=!1;if(c){var eu;if(c){var tu="oninput"in document;if(!tu){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),tu=typeof mf.oninput=="function"}eu=tu}else eu=!1;pf=eu&&(!document.documentMode||9<document.documentMode)}function gf(){Ti&&(Ti.detachEvent("onpropertychange",vf),Oi=Ti=null)}function vf(r){if(r.propertyName==="value"&&ea(Oi)){var i=[];ff(i,Oi,r,Yn(r)),Uo(nb,i)}}function sb(r,i,l){r==="focusin"?(gf(),Ti=i,Oi=l,Ti.attachEvent("onpropertychange",vf)):r==="focusout"&&gf()}function ib(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ea(Oi)}function ob(r,i){if(r==="click")return ea(i)}function ab(r,i){if(r==="input"||r==="change")return ea(i)}function lb(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var nn=typeof Object.is=="function"?Object.is:lb;function Mi(r,i){if(nn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!h.call(i,p)||!nn(r[p],i[p]))return!1}return!0}function yf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xf(r,i){var l=yf(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yf(l)}}function wf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?wf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function bf(){for(var r=window,i=Lt();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Lt(r.document)}return i}function nu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ub(r){var i=bf(),l=r.focusedElem,d=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&wf(l.ownerDocument.documentElement,l)){if(d!==null&&nu(l)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,x=Math.min(d.start,p);d=d.end===void 0?x:Math.min(d.end,p),!r.extend&&x>d&&(p=d,d=x,x=p),p=xf(l,x);var S=xf(l,d);p&&S&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),x>d?(r.addRange(i),r.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var cb=c&&"documentMode"in document&&11>=document.documentMode,vs=null,ru=null,Ni=null,su=!1;function kf(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;su||vs==null||vs!==Lt(d)||(d=vs,"selectionStart"in d&&nu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ni&&Mi(Ni,d)||(Ni=d,d=sa(ru,"onSelect"),0<d.length&&(i=new ql("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=vs)))}function ta(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var ys={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},iu={},Sf={};c&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function na(r){if(iu[r])return iu[r];if(!ys[r])return r;var i=ys[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Sf)return iu[r]=i[l];return r}var Ef=na("animationend"),_f=na("animationiteration"),Cf=na("animationstart"),Lf=na("transitionend"),Pf=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(r,i){Pf.set(r,i),a(i,[r])}for(var ou=0;ou<jf.length;ou++){var au=jf[ou],db=au.toLowerCase(),hb=au[0].toUpperCase()+au.slice(1);rr(db,"on"+hb)}rr(Ef,"onAnimationEnd"),rr(_f,"onAnimationIteration"),rr(Cf,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(Lf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Tf(r,i,l){var d=r.type||"unknown-event";r.currentTarget=l,dw(d,i,void 0,r),r.currentTarget=null}function Of(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var x=void 0;if(i)for(var S=d.length-1;0<=S;S--){var j=d[S],M=j.instance,B=j.currentTarget;if(j=j.listener,M!==x&&p.isPropagationStopped())break e;Tf(p,j,B),x=M}else for(S=0;S<d.length;S++){if(j=d[S],M=j.instance,B=j.currentTarget,j=j.listener,M!==x&&p.isPropagationStopped())break e;Tf(p,j,B),x=M}}}if(Bo)throw r=Ul,Bo=!1,Ul=null,r}function Be(r,i){var l=i[mu];l===void 0&&(l=i[mu]=new Set);var d=r+"__bubble";l.has(d)||(Mf(i,r,2,!1),l.add(d))}function lu(r,i,l){var d=0;i&&(d|=4),Mf(l,r,d,i)}var ra="_reactListening"+Math.random().toString(36).slice(2);function Ai(r){if(!r[ra]){r[ra]=!0,s.forEach(function(l){l!=="selectionchange"&&(fb.has(l)||lu(l,!1,r),lu(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ra]||(i[ra]=!0,lu("selectionchange",!1,i))}}function Mf(r,i,l,d){switch(ef(i)){case 1:var p=Lw;break;case 4:p=Pw;break;default:p=Kl}l=p.bind(null,i,l,r),p=void 0,!_e||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function uu(r,i,l,d,p){var x=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var j=d.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;S=S.return}for(;j!==null;){if(S=Ar(j),S===null)return;if(M=S.tag,M===5||M===6){d=x=S;continue e}j=j.parentNode}}d=d.return}Uo(function(){var B=x,J=Yn(l),Y=[];e:{var Z=Pf.get(r);if(Z!==void 0){var se=ql,ce=r;switch(r){case"keypress":if(Yo(l)===0)break e;case"keydown":case"keyup":se=zw;break;case"focusin":ce="focus",se=Yl;break;case"focusout":ce="blur",se=Yl;break;case"beforeblur":case"afterblur":se=Yl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Hw;break;case Ef:case _f:case Cf:se=Rw;break;case Lf:se=qw;break;case"scroll":se=jw;break;case"wheel":se=Jw;break;case"copy":case"cut":case"paste":se=Iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=of}var he=(i&4)!==0,tt=!he&&r==="scroll",I=he?Z!==null?Z+"Capture":null:Z;he=[];for(var R=B,U;R!==null;){U=R;var Q=U.stateNode;if(U.tag===5&&Q!==null&&(U=Q,I!==null&&(Q=en(R,I),Q!=null&&he.push(Ii(R,Q,U)))),tt)break;R=R.return}0<he.length&&(Z=new se(Z,ce,null,l,J),Y.push({event:Z,listeners:he}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Z&&l!==ds&&(ce=l.relatedTarget||l.fromElement)&&(Ar(ce)||ce[jn]))break e;if((se||Z)&&(Z=J.window===J?J:(Z=J.ownerDocument)?Z.defaultView||Z.parentWindow:window,se?(ce=l.relatedTarget||l.toElement,se=B,ce=ce?Ar(ce):null,ce!==null&&(tt=Rr(ce),ce!==tt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=B),se!==ce)){if(he=rf,Q="onMouseLeave",I="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(he=of,Q="onPointerLeave",I="onPointerEnter",R="pointer"),tt=se==null?Z:bs(se),U=ce==null?Z:bs(ce),Z=new he(Q,R+"leave",se,l,J),Z.target=tt,Z.relatedTarget=U,Q=null,Ar(J)===B&&(he=new he(I,R+"enter",ce,l,J),he.target=U,he.relatedTarget=tt,Q=he),tt=Q,se&&ce)t:{for(he=se,I=ce,R=0,U=he;U;U=xs(U))R++;for(U=0,Q=I;Q;Q=xs(Q))U++;for(;0<R-U;)he=xs(he),R--;for(;0<U-R;)I=xs(I),U--;for(;R--;){if(he===I||I!==null&&he===I.alternate)break t;he=xs(he),I=xs(I)}he=null}else he=null;se!==null&&Nf(Y,Z,se,he,!1),ce!==null&&tt!==null&&Nf(Y,tt,ce,he,!0)}}e:{if(Z=B?bs(B):window,se=Z.nodeName&&Z.nodeName.toLowerCase(),se==="select"||se==="input"&&Z.type==="file")var fe=rb;else if(hf(Z))if(pf)fe=ab;else{fe=ib;var xe=sb}else(se=Z.nodeName)&&se.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(fe=ob);if(fe&&(fe=fe(r,B))){ff(Y,fe,l,J);break e}xe&&xe(r,Z,B),r==="focusout"&&(xe=Z._wrapperState)&&xe.controlled&&Z.type==="number"&&Hn(Z,"number",Z.value)}switch(xe=B?bs(B):window,r){case"focusin":(hf(xe)||xe.contentEditable==="true")&&(vs=xe,ru=B,Ni=null);break;case"focusout":Ni=ru=vs=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,kf(Y,l,J);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":kf(Y,l,J)}var we;if(Xl)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else gs?cf(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(af&&l.locale!=="ko"&&(gs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&gs&&(we=tf()):(nr=J,Gl="value"in nr?nr.value:nr.textContent,gs=!0)),xe=sa(B,Ee),0<xe.length&&(Ee=new sf(Ee,r,null,l,J),Y.push({event:Ee,listeners:xe}),we?Ee.data=we:(we=df(l),we!==null&&(Ee.data=we)))),(we=Qw?Xw(r,l):eb(r,l))&&(B=sa(B,"onBeforeInput"),0<B.length&&(J=new sf("onBeforeInput","beforeinput",null,l,J),Y.push({event:J,listeners:B}),J.data=we))}Of(Y,i)})}function Ii(r,i,l){return{instance:r,listener:i,currentTarget:l}}function sa(r,i){for(var l=i+"Capture",d=[];r!==null;){var p=r,x=p.stateNode;p.tag===5&&x!==null&&(p=x,x=en(r,l),x!=null&&d.unshift(Ii(r,x,p)),x=en(r,i),x!=null&&d.push(Ii(r,x,p))),r=r.return}return d}function xs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Nf(r,i,l,d,p){for(var x=i._reactName,S=[];l!==null&&l!==d;){var j=l,M=j.alternate,B=j.stateNode;if(M!==null&&M===d)break;j.tag===5&&B!==null&&(j=B,p?(M=en(l,x),M!=null&&S.unshift(Ii(l,M,j))):p||(M=en(l,x),M!=null&&S.push(Ii(l,M,j)))),l=l.return}S.length!==0&&r.push({event:i,listeners:S})}var pb=/\r\n?/g,mb=/\u0000|\uFFFD/g;function Rf(r){return(typeof r=="string"?r:""+r).replace(pb,`
`).replace(mb,"")}function ia(r,i,l){if(i=Rf(i),Rf(r)!==i&&l)throw Error(n(425))}function oa(){}var cu=null,du=null;function hu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(r){return Af.resolve(null).then(r).catch(yb)}:fu;function yb(r){setTimeout(function(){throw r})}function pu(r,i){var l=i,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Ci(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Ci(i)}function sr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function If(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var ws=Math.random().toString(36).slice(2),xn="__reactFiber$"+ws,Di="__reactProps$"+ws,jn="__reactContainer$"+ws,mu="__reactEvents$"+ws,xb="__reactListeners$"+ws,wb="__reactHandles$"+ws;function Ar(r){var i=r[xn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[jn]||l[xn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=If(r);r!==null;){if(l=r[xn])return l;r=If(r)}return i}r=l,l=r.parentNode}return null}function Ui(r){return r=r[xn]||r[jn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function bs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function aa(r){return r[Di]||null}var gu=[],ks=-1;function ir(r){return{current:r}}function Ve(r){0>ks||(r.current=gu[ks],gu[ks]=null,ks--)}function Ue(r,i){ks++,gu[ks]=r.current,r.current=i}var or={},yt=ir(or),Pt=ir(!1),Ir=or;function Ss(r,i){var l=r.type.contextTypes;if(!l)return or;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},x;for(x in l)p[x]=i[x];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function jt(r){return r=r.childContextTypes,r!=null}function la(){Ve(Pt),Ve(yt)}function Df(r,i,l){if(yt.current!==or)throw Error(n(168));Ue(yt,i),Ue(Pt,l)}function Uf(r,i,l){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,ye(r)||"Unknown",p));return G({},l,d)}function ua(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||or,Ir=yt.current,Ue(yt,r),Ue(Pt,Pt.current),!0}function $f(r,i,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Uf(r,i,Ir),d.__reactInternalMemoizedMergedChildContext=r,Ve(Pt),Ve(yt),Ue(yt,r)):Ve(Pt),Ue(Pt,l)}var Tn=null,ca=!1,vu=!1;function Bf(r){Tn===null?Tn=[r]:Tn.push(r)}function bb(r){ca=!0,Bf(r)}function ar(){if(!vu&&Tn!==null){vu=!0;var r=0,i=De;try{var l=Tn;for(De=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Tn=null,ca=!1}catch(p){throw Tn!==null&&(Tn=Tn.slice(r+1)),Vh($l,ar),p}finally{De=i,vu=!1}}return null}var Es=[],_s=0,da=null,ha=0,zt=[],Wt=0,Dr=null,On=1,Mn="";function Ur(r,i){Es[_s++]=ha,Es[_s++]=da,da=r,ha=i}function Vf(r,i,l){zt[Wt++]=On,zt[Wt++]=Mn,zt[Wt++]=Dr,Dr=r;var d=On;r=Mn;var p=32-tn(d)-1;d&=~(1<<p),l+=1;var x=32-tn(i)+p;if(30<x){var S=p-p%5;x=(d&(1<<S)-1).toString(32),d>>=S,p-=S,On=1<<32-tn(i)+p|l<<p|d,Mn=x+r}else On=1<<x|l<<p|d,Mn=r}function yu(r){r.return!==null&&(Ur(r,1),Vf(r,1,0))}function xu(r){for(;r===da;)da=Es[--_s],Es[_s]=null,ha=Es[--_s],Es[_s]=null;for(;r===Dr;)Dr=zt[--Wt],zt[Wt]=null,Mn=zt[--Wt],zt[Wt]=null,On=zt[--Wt],zt[Wt]=null}var It=null,Dt=null,Fe=!1,rn=null;function Ff(r,i){var l=qt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function zf(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,It=r,Dt=sr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,It=r,Dt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Dr!==null?{id:On,overflow:Mn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=qt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,It=r,Dt=null,!0):!1;default:return!1}}function wu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function bu(r){if(Fe){var i=Dt;if(i){var l=i;if(!zf(r,i)){if(wu(r))throw Error(n(418));i=sr(l.nextSibling);var d=It;i&&zf(r,i)?Ff(d,l):(r.flags=r.flags&-4097|2,Fe=!1,It=r)}}else{if(wu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Fe=!1,It=r}}}function Wf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;It=r}function fa(r){if(r!==It)return!1;if(!Fe)return Wf(r),Fe=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!hu(r.type,r.memoizedProps)),i&&(i=Dt)){if(wu(r))throw Kf(),Error(n(418));for(;i;)Ff(r,i),i=sr(i.nextSibling)}if(Wf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Dt=sr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Dt=null}}else Dt=It?sr(r.stateNode.nextSibling):null;return!0}function Kf(){for(var r=Dt;r;)r=sr(r.nextSibling)}function Cs(){Dt=It=null,Fe=!1}function ku(r){rn===null?rn=[r]:rn.push(r)}var kb=T.ReactCurrentBatchConfig;function $i(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var p=d,x=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(S){var j=p.refs;S===null?delete j[x]:j[x]=S},i._stringRef=x,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function pa(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Hf(r){var i=r._init;return i(r._payload)}function Gf(r){function i(I,R){if(r){var U=I.deletions;U===null?(I.deletions=[R],I.flags|=16):U.push(R)}}function l(I,R){if(!r)return null;for(;R!==null;)i(I,R),R=R.sibling;return null}function d(I,R){for(I=new Map;R!==null;)R.key!==null?I.set(R.key,R):I.set(R.index,R),R=R.sibling;return I}function p(I,R){return I=mr(I,R),I.index=0,I.sibling=null,I}function x(I,R,U){return I.index=U,r?(U=I.alternate,U!==null?(U=U.index,U<R?(I.flags|=2,R):U):(I.flags|=2,R)):(I.flags|=1048576,R)}function S(I){return r&&I.alternate===null&&(I.flags|=2),I}function j(I,R,U,Q){return R===null||R.tag!==6?(R=fc(U,I.mode,Q),R.return=I,R):(R=p(R,U),R.return=I,R)}function M(I,R,U,Q){var fe=U.type;return fe===D?J(I,R,U.props.children,Q,U.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ge&&Hf(fe)===R.type)?(Q=p(R,U.props),Q.ref=$i(I,R,U),Q.return=I,Q):(Q=Ua(U.type,U.key,U.props,null,I.mode,Q),Q.ref=$i(I,R,U),Q.return=I,Q)}function B(I,R,U,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=pc(U,I.mode,Q),R.return=I,R):(R=p(R,U.children||[]),R.return=I,R)}function J(I,R,U,Q,fe){return R===null||R.tag!==7?(R=Hr(U,I.mode,Q,fe),R.return=I,R):(R=p(R,U),R.return=I,R)}function Y(I,R,U){if(typeof R=="string"&&R!==""||typeof R=="number")return R=fc(""+R,I.mode,U),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case O:return U=Ua(R.type,R.key,R.props,null,I.mode,U),U.ref=$i(I,null,R),U.return=I,U;case A:return R=pc(R,I.mode,U),R.return=I,R;case ge:var Q=R._init;return Y(I,Q(R._payload),U)}if(Gn(R)||X(R))return R=Hr(R,I.mode,U,null),R.return=I,R;pa(I,R)}return null}function Z(I,R,U,Q){var fe=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:j(I,R,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return U.key===fe?M(I,R,U,Q):null;case A:return U.key===fe?B(I,R,U,Q):null;case ge:return fe=U._init,Z(I,R,fe(U._payload),Q)}if(Gn(U)||X(U))return fe!==null?null:J(I,R,U,Q,null);pa(I,U)}return null}function se(I,R,U,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return I=I.get(U)||null,j(R,I,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:return I=I.get(Q.key===null?U:Q.key)||null,M(R,I,Q,fe);case A:return I=I.get(Q.key===null?U:Q.key)||null,B(R,I,Q,fe);case ge:var xe=Q._init;return se(I,R,U,xe(Q._payload),fe)}if(Gn(Q)||X(Q))return I=I.get(U)||null,J(R,I,Q,fe,null);pa(R,Q)}return null}function ce(I,R,U,Q){for(var fe=null,xe=null,we=R,Ee=R=0,ht=null;we!==null&&Ee<U.length;Ee++){we.index>Ee?(ht=we,we=null):ht=we.sibling;var Re=Z(I,we,U[Ee],Q);if(Re===null){we===null&&(we=ht);break}r&&we&&Re.alternate===null&&i(I,we),R=x(Re,R,Ee),xe===null?fe=Re:xe.sibling=Re,xe=Re,we=ht}if(Ee===U.length)return l(I,we),Fe&&Ur(I,Ee),fe;if(we===null){for(;Ee<U.length;Ee++)we=Y(I,U[Ee],Q),we!==null&&(R=x(we,R,Ee),xe===null?fe=we:xe.sibling=we,xe=we);return Fe&&Ur(I,Ee),fe}for(we=d(I,we);Ee<U.length;Ee++)ht=se(we,I,Ee,U[Ee],Q),ht!==null&&(r&&ht.alternate!==null&&we.delete(ht.key===null?Ee:ht.key),R=x(ht,R,Ee),xe===null?fe=ht:xe.sibling=ht,xe=ht);return r&&we.forEach(function(gr){return i(I,gr)}),Fe&&Ur(I,Ee),fe}function he(I,R,U,Q){var fe=X(U);if(typeof fe!="function")throw Error(n(150));if(U=fe.call(U),U==null)throw Error(n(151));for(var xe=fe=null,we=R,Ee=R=0,ht=null,Re=U.next();we!==null&&!Re.done;Ee++,Re=U.next()){we.index>Ee?(ht=we,we=null):ht=we.sibling;var gr=Z(I,we,Re.value,Q);if(gr===null){we===null&&(we=ht);break}r&&we&&gr.alternate===null&&i(I,we),R=x(gr,R,Ee),xe===null?fe=gr:xe.sibling=gr,xe=gr,we=ht}if(Re.done)return l(I,we),Fe&&Ur(I,Ee),fe;if(we===null){for(;!Re.done;Ee++,Re=U.next())Re=Y(I,Re.value,Q),Re!==null&&(R=x(Re,R,Ee),xe===null?fe=Re:xe.sibling=Re,xe=Re);return Fe&&Ur(I,Ee),fe}for(we=d(I,we);!Re.done;Ee++,Re=U.next())Re=se(we,I,Ee,Re.value,Q),Re!==null&&(r&&Re.alternate!==null&&we.delete(Re.key===null?Ee:Re.key),R=x(Re,R,Ee),xe===null?fe=Re:xe.sibling=Re,xe=Re);return r&&we.forEach(function(t1){return i(I,t1)}),Fe&&Ur(I,Ee),fe}function tt(I,R,U,Q){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case O:e:{for(var fe=U.key,xe=R;xe!==null;){if(xe.key===fe){if(fe=U.type,fe===D){if(xe.tag===7){l(I,xe.sibling),R=p(xe,U.props.children),R.return=I,I=R;break e}}else if(xe.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ge&&Hf(fe)===xe.type){l(I,xe.sibling),R=p(xe,U.props),R.ref=$i(I,xe,U),R.return=I,I=R;break e}l(I,xe);break}else i(I,xe);xe=xe.sibling}U.type===D?(R=Hr(U.props.children,I.mode,Q,U.key),R.return=I,I=R):(Q=Ua(U.type,U.key,U.props,null,I.mode,Q),Q.ref=$i(I,R,U),Q.return=I,I=Q)}return S(I);case A:e:{for(xe=U.key;R!==null;){if(R.key===xe)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){l(I,R.sibling),R=p(R,U.children||[]),R.return=I,I=R;break e}else{l(I,R);break}else i(I,R);R=R.sibling}R=pc(U,I.mode,Q),R.return=I,I=R}return S(I);case ge:return xe=U._init,tt(I,R,xe(U._payload),Q)}if(Gn(U))return ce(I,R,U,Q);if(X(U))return he(I,R,U,Q);pa(I,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,R!==null&&R.tag===6?(l(I,R.sibling),R=p(R,U),R.return=I,I=R):(l(I,R),R=fc(U,I.mode,Q),R.return=I,I=R),S(I)):l(I,R)}return tt}var Ls=Gf(!0),qf=Gf(!1),ma=ir(null),ga=null,Ps=null,Su=null;function Eu(){Su=Ps=ga=null}function _u(r){var i=ma.current;Ve(ma),r._currentValue=i}function Cu(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function js(r,i){ga=r,Su=Ps=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Tt=!0),r.firstContext=null)}function Kt(r){var i=r._currentValue;if(Su!==r)if(r={context:r,memoizedValue:i,next:null},Ps===null){if(ga===null)throw Error(n(308));Ps=r,ga.dependencies={lanes:0,firstContext:r}}else Ps=Ps.next=r;return i}var $r=null;function Lu(r){$r===null?$r=[r]:$r.push(r)}function Zf(r,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Lu(i)):(l.next=p.next,p.next=l),i.interleaved=l,Nn(r,d)}function Nn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var lr=!1;function Pu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Rn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ur(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ne&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,Nn(r,l)}return p=d.interleaved,p===null?(i.next=i,Lu(d)):(i.next=p.next,p.next=i),d.interleaved=i,Nn(r,l)}function va(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Fl(r,l)}}function Yf(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?p=x=S:x=x.next=S,l=l.next}while(l!==null);x===null?p=x=i:x=x.next=i}else p=x=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function ya(r,i,l,d){var p=r.updateQueue;lr=!1;var x=p.firstBaseUpdate,S=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var M=j,B=M.next;M.next=null,S===null?x=B:S.next=B,S=M;var J=r.alternate;J!==null&&(J=J.updateQueue,j=J.lastBaseUpdate,j!==S&&(j===null?J.firstBaseUpdate=B:j.next=B,J.lastBaseUpdate=M))}if(x!==null){var Y=p.baseState;S=0,J=B=M=null,j=x;do{var Z=j.lane,se=j.eventTime;if((d&Z)===Z){J!==null&&(J=J.next={eventTime:se,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ce=r,he=j;switch(Z=i,se=l,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Y=ce.call(se,Y,Z);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,Z=typeof ce=="function"?ce.call(se,Y,Z):ce,Z==null)break e;Y=G({},Y,Z);break e;case 2:lr=!0}}j.callback!==null&&j.lane!==0&&(r.flags|=64,Z=p.effects,Z===null?p.effects=[j]:Z.push(j))}else se={eventTime:se,lane:Z,tag:j.tag,payload:j.payload,callback:j.callback,next:null},J===null?(B=J=se,M=Y):J=J.next=se,S|=Z;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;Z=j,j=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(J===null&&(M=Y),p.baseState=M,p.firstBaseUpdate=B,p.lastBaseUpdate=J,i=p.shared.interleaved,i!==null){p=i;do S|=p.lane,p=p.next;while(p!==i)}else x===null&&(p.shared.lanes=0);Fr|=S,r.lanes=S,r.memoizedState=Y}}function Qf(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Bi={},wn=ir(Bi),Vi=ir(Bi),Fi=ir(Bi);function Br(r){if(r===Bi)throw Error(n(174));return r}function ju(r,i){switch(Ue(Fi,i),Ue(Vi,r),Ue(wn,Bi),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:qn(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=qn(i,r)}Ve(wn),Ue(wn,i)}function Ts(){Ve(wn),Ve(Vi),Ve(Fi)}function Xf(r){Br(Fi.current);var i=Br(wn.current),l=qn(i,r.type);i!==l&&(Ue(Vi,r),Ue(wn,l))}function Tu(r){Vi.current===r&&(Ve(wn),Ve(Vi))}var We=ir(0);function xa(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ou=[];function Mu(){for(var r=0;r<Ou.length;r++)Ou[r]._workInProgressVersionPrimary=null;Ou.length=0}var wa=T.ReactCurrentDispatcher,Nu=T.ReactCurrentBatchConfig,Vr=0,Ke=null,it=null,ct=null,ba=!1,zi=!1,Wi=0,Sb=0;function xt(){throw Error(n(321))}function Ru(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!nn(r[l],i[l]))return!1;return!0}function Au(r,i,l,d,p,x){if(Vr=x,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,wa.current=r===null||r.memoizedState===null?Lb:Pb,r=l(d,p),zi){x=0;do{if(zi=!1,Wi=0,25<=x)throw Error(n(301));x+=1,ct=it=null,i.updateQueue=null,wa.current=jb,r=l(d,p)}while(zi)}if(wa.current=Ea,i=it!==null&&it.next!==null,Vr=0,ct=it=Ke=null,ba=!1,i)throw Error(n(300));return r}function Iu(){var r=Wi!==0;return Wi=0,r}function bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ke.memoizedState=ct=r:ct=ct.next=r,ct}function Ht(){if(it===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=it.next;var i=ct===null?Ke.memoizedState:ct.next;if(i!==null)ct=i,it=r;else{if(r===null)throw Error(n(310));it=r,r={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?Ke.memoizedState=ct=r:ct=ct.next=r}return ct}function Ki(r,i){return typeof i=="function"?i(r):i}function Du(r){var i=Ht(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=it,p=d.baseQueue,x=l.pending;if(x!==null){if(p!==null){var S=p.next;p.next=x.next,x.next=S}d.baseQueue=p=x,l.pending=null}if(p!==null){x=p.next,d=d.baseState;var j=S=null,M=null,B=x;do{var J=B.lane;if((Vr&J)===J)M!==null&&(M=M.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),d=B.hasEagerState?B.eagerState:r(d,B.action);else{var Y={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};M===null?(j=M=Y,S=d):M=M.next=Y,Ke.lanes|=J,Fr|=J}B=B.next}while(B!==null&&B!==x);M===null?S=d:M.next=j,nn(d,i.memoizedState)||(Tt=!0),i.memoizedState=d,i.baseState=S,i.baseQueue=M,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do x=p.lane,Ke.lanes|=x,Fr|=x,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Uu(r){var i=Ht(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,x=i.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do x=r(x,S.action),S=S.next;while(S!==p);nn(x,i.memoizedState)||(Tt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),l.lastRenderedState=x}return[x,d]}function ep(){}function tp(r,i){var l=Ke,d=Ht(),p=i(),x=!nn(d.memoizedState,p);if(x&&(d.memoizedState=p,Tt=!0),d=d.queue,$u(sp.bind(null,l,d,r),[r]),d.getSnapshot!==i||x||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,Hi(9,rp.bind(null,l,d,p,i),void 0,null),dt===null)throw Error(n(349));(Vr&30)!==0||np(l,i,p)}return p}function np(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function rp(r,i,l,d){i.value=l,i.getSnapshot=d,ip(i)&&op(r)}function sp(r,i,l){return l(function(){ip(i)&&op(r)})}function ip(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!nn(r,l)}catch{return!0}}function op(r){var i=Nn(r,1);i!==null&&ln(i,r,1,-1)}function ap(r){var i=bn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},i.queue=r,r=r.dispatch=Cb.bind(null,Ke,r),[i.memoizedState,r]}function Hi(r,i,l,d){return r={tag:r,create:i,destroy:l,deps:d,next:null},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r)),r}function lp(){return Ht().memoizedState}function ka(r,i,l,d){var p=bn();Ke.flags|=r,p.memoizedState=Hi(1|i,l,void 0,d===void 0?null:d)}function Sa(r,i,l,d){var p=Ht();d=d===void 0?null:d;var x=void 0;if(it!==null){var S=it.memoizedState;if(x=S.destroy,d!==null&&Ru(d,S.deps)){p.memoizedState=Hi(i,l,x,d);return}}Ke.flags|=r,p.memoizedState=Hi(1|i,l,x,d)}function up(r,i){return ka(8390656,8,r,i)}function $u(r,i){return Sa(2048,8,r,i)}function cp(r,i){return Sa(4,2,r,i)}function dp(r,i){return Sa(4,4,r,i)}function hp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function fp(r,i,l){return l=l!=null?l.concat([r]):null,Sa(4,4,hp.bind(null,i,r),l)}function Bu(){}function pp(r,i){var l=Ht();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Ru(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function mp(r,i){var l=Ht();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Ru(i,d[1])?d[0]:(r=r(),l.memoizedState=[r,i],r)}function gp(r,i,l){return(Vr&21)===0?(r.baseState&&(r.baseState=!1,Tt=!0),r.memoizedState=l):(nn(l,i)||(l=Kh(),Ke.lanes|=l,Fr|=l,r.baseState=!0),i)}function Eb(r,i){var l=De;De=l!==0&&4>l?l:4,r(!0);var d=Nu.transition;Nu.transition={};try{r(!1),i()}finally{De=l,Nu.transition=d}}function vp(){return Ht().memoizedState}function _b(r,i,l){var d=fr(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},yp(r))xp(i,l);else if(l=Zf(r,i,l,d),l!==null){var p=Et();ln(l,r,d,p),wp(l,i,d)}}function Cb(r,i,l){var d=fr(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(yp(r))xp(i,p);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var S=i.lastRenderedState,j=x(S,l);if(p.hasEagerState=!0,p.eagerState=j,nn(j,S)){var M=i.interleaved;M===null?(p.next=p,Lu(i)):(p.next=M.next,M.next=p),i.interleaved=p;return}}catch{}finally{}l=Zf(r,i,p,d),l!==null&&(p=Et(),ln(l,r,d,p),wp(l,i,d))}}function yp(r){var i=r.alternate;return r===Ke||i!==null&&i===Ke}function xp(r,i){zi=ba=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function wp(r,i,l){if((l&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Fl(r,l)}}var Ea={readContext:Kt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Lb={readContext:Kt,useCallback:function(r,i){return bn().memoizedState=[r,i===void 0?null:i],r},useContext:Kt,useEffect:up,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,ka(4194308,4,hp.bind(null,i,r),l)},useLayoutEffect:function(r,i){return ka(4194308,4,r,i)},useInsertionEffect:function(r,i){return ka(4,2,r,i)},useMemo:function(r,i){var l=bn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var d=bn();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=_b.bind(null,Ke,r),[d.memoizedState,r]},useRef:function(r){var i=bn();return r={current:r},i.memoizedState=r},useState:ap,useDebugValue:Bu,useDeferredValue:function(r){return bn().memoizedState=r},useTransition:function(){var r=ap(!1),i=r[0];return r=Eb.bind(null,r[1]),bn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var d=Ke,p=bn();if(Fe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),dt===null)throw Error(n(349));(Vr&30)!==0||np(d,i,l)}p.memoizedState=l;var x={value:l,getSnapshot:i};return p.queue=x,up(sp.bind(null,d,x,r),[r]),d.flags|=2048,Hi(9,rp.bind(null,d,x,l,i),void 0,null),l},useId:function(){var r=bn(),i=dt.identifierPrefix;if(Fe){var l=Mn,d=On;l=(d&~(1<<32-tn(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Wi++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=Sb++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Pb={readContext:Kt,useCallback:pp,useContext:Kt,useEffect:$u,useImperativeHandle:fp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:Du,useRef:lp,useState:function(){return Du(Ki)},useDebugValue:Bu,useDeferredValue:function(r){var i=Ht();return gp(i,it.memoizedState,r)},useTransition:function(){var r=Du(Ki)[0],i=Ht().memoizedState;return[r,i]},useMutableSource:ep,useSyncExternalStore:tp,useId:vp,unstable_isNewReconciler:!1},jb={readContext:Kt,useCallback:pp,useContext:Kt,useEffect:$u,useImperativeHandle:fp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:Uu,useRef:lp,useState:function(){return Uu(Ki)},useDebugValue:Bu,useDeferredValue:function(r){var i=Ht();return it===null?i.memoizedState=r:gp(i,it.memoizedState,r)},useTransition:function(){var r=Uu(Ki)[0],i=Ht().memoizedState;return[r,i]},useMutableSource:ep,useSyncExternalStore:tp,useId:vp,unstable_isNewReconciler:!1};function sn(r,i){if(r&&r.defaultProps){i=G({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Vu(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:G({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var _a={isMounted:function(r){return(r=r._reactInternals)?Rr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var d=Et(),p=fr(r),x=Rn(d,p);x.payload=i,l!=null&&(x.callback=l),i=ur(r,x,p),i!==null&&(ln(i,r,p,d),va(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=Et(),p=fr(r),x=Rn(d,p);x.tag=1,x.payload=i,l!=null&&(x.callback=l),i=ur(r,x,p),i!==null&&(ln(i,r,p,d),va(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Et(),d=fr(r),p=Rn(l,d);p.tag=2,i!=null&&(p.callback=i),i=ur(r,p,d),i!==null&&(ln(i,r,d,l),va(i,r,d))}};function bp(r,i,l,d,p,x,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,S):i.prototype&&i.prototype.isPureReactComponent?!Mi(l,d)||!Mi(p,x):!0}function kp(r,i,l){var d=!1,p=or,x=i.contextType;return typeof x=="object"&&x!==null?x=Kt(x):(p=jt(i)?Ir:yt.current,d=i.contextTypes,x=(d=d!=null)?Ss(r,p):or),i=new i(l,x),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=_a,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=x),i}function Sp(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&_a.enqueueReplaceState(i,i.state,null)}function Fu(r,i,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Pu(r);var x=i.contextType;typeof x=="object"&&x!==null?p.context=Kt(x):(x=jt(i)?Ir:yt.current,p.context=Ss(r,x)),p.state=r.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Vu(r,i,x,l),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&_a.enqueueReplaceState(p,p.state,null),ya(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Os(r,i){try{var l="",d=i;do l+=V(d),d=d.return;while(d);var p=l}catch(x){p=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:i,stack:p,digest:null}}function zu(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Wu(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Tb=typeof WeakMap=="function"?WeakMap:Map;function Ep(r,i,l){l=Rn(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Ma||(Ma=!0,ic=d),Wu(r,i)},l}function _p(r,i,l){l=Rn(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Wu(r,i)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Wu(r,i),typeof d!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),l}function Cp(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Tb;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),r=Wb.bind(null,r,i,l),i.then(r,r))}function Lp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Pp(r,i,l,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Rn(-1,1),i.tag=2,ur(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Ob=T.ReactCurrentOwner,Tt=!1;function St(r,i,l,d){i.child=r===null?qf(i,null,l,d):Ls(i,r.child,l,d)}function jp(r,i,l,d,p){l=l.render;var x=i.ref;return js(i,p),d=Au(r,i,l,d,x,p),l=Iu(),r!==null&&!Tt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,An(r,i,p)):(Fe&&l&&yu(i),i.flags|=1,St(r,i,d,p),i.child)}function Tp(r,i,l,d,p){if(r===null){var x=l.type;return typeof x=="function"&&!hc(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=x,Op(r,i,x,d,p)):(r=Ua(l.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(x=r.child,(r.lanes&p)===0){var S=x.memoizedProps;if(l=l.compare,l=l!==null?l:Mi,l(S,d)&&r.ref===i.ref)return An(r,i,p)}return i.flags|=1,r=mr(x,d),r.ref=i.ref,r.return=i,i.child=r}function Op(r,i,l,d,p){if(r!==null){var x=r.memoizedProps;if(Mi(x,d)&&r.ref===i.ref)if(Tt=!1,i.pendingProps=d=x,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Tt=!0);else return i.lanes=r.lanes,An(r,i,p)}return Ku(r,i,l,d,p)}function Mp(r,i,l){var d=i.pendingProps,p=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ns,Ut),Ut|=l;else{if((l&1073741824)===0)return r=x!==null?x.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ue(Ns,Ut),Ut|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Ue(Ns,Ut),Ut|=d}else x!==null?(d=x.baseLanes|l,i.memoizedState=null):d=l,Ue(Ns,Ut),Ut|=d;return St(r,i,p,l),i.child}function Np(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Ku(r,i,l,d,p){var x=jt(l)?Ir:yt.current;return x=Ss(i,x),js(i,p),l=Au(r,i,l,d,x,p),d=Iu(),r!==null&&!Tt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,An(r,i,p)):(Fe&&d&&yu(i),i.flags|=1,St(r,i,l,p),i.child)}function Rp(r,i,l,d,p){if(jt(l)){var x=!0;ua(i)}else x=!1;if(js(i,p),i.stateNode===null)La(r,i),kp(i,l,d),Fu(i,l,d,p),d=!0;else if(r===null){var S=i.stateNode,j=i.memoizedProps;S.props=j;var M=S.context,B=l.contextType;typeof B=="object"&&B!==null?B=Kt(B):(B=jt(l)?Ir:yt.current,B=Ss(i,B));var J=l.getDerivedStateFromProps,Y=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function";Y||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==d||M!==B)&&Sp(i,S,d,B),lr=!1;var Z=i.memoizedState;S.state=Z,ya(i,d,S,p),M=i.memoizedState,j!==d||Z!==M||Pt.current||lr?(typeof J=="function"&&(Vu(i,l,J,d),M=i.memoizedState),(j=lr||bp(i,l,j,d,Z,M,B))?(Y||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=M),S.props=d,S.state=M,S.context=B,d=j):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{S=i.stateNode,Jf(r,i),j=i.memoizedProps,B=i.type===i.elementType?j:sn(i.type,j),S.props=B,Y=i.pendingProps,Z=S.context,M=l.contextType,typeof M=="object"&&M!==null?M=Kt(M):(M=jt(l)?Ir:yt.current,M=Ss(i,M));var se=l.getDerivedStateFromProps;(J=typeof se=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==Y||Z!==M)&&Sp(i,S,d,M),lr=!1,Z=i.memoizedState,S.state=Z,ya(i,d,S,p);var ce=i.memoizedState;j!==Y||Z!==ce||Pt.current||lr?(typeof se=="function"&&(Vu(i,l,se,d),ce=i.memoizedState),(B=lr||bp(i,l,B,d,Z,ce,M)||!1)?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,ce,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,ce,M)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||j===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ce),S.props=d,S.state=ce,S.context=M,d=B):(typeof S.componentDidUpdate!="function"||j===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),d=!1)}return Hu(r,i,l,d,x,p)}function Hu(r,i,l,d,p,x){Np(r,i);var S=(i.flags&128)!==0;if(!d&&!S)return p&&$f(i,l,!1),An(r,i,x);d=i.stateNode,Ob.current=i;var j=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&S?(i.child=Ls(i,r.child,null,x),i.child=Ls(i,null,j,x)):St(r,i,j,x),i.memoizedState=d.state,p&&$f(i,l,!0),i.child}function Ap(r){var i=r.stateNode;i.pendingContext?Df(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Df(r,i.context,!1),ju(r,i.containerInfo)}function Ip(r,i,l,d,p){return Cs(),ku(p),i.flags|=256,St(r,i,l,d),i.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function qu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Dp(r,i,l){var d=i.pendingProps,p=We.current,x=!1,S=(i.flags&128)!==0,j;if((j=S)||(j=r!==null&&r.memoizedState===null?!1:(p&2)!==0),j?(x=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ue(We,p&1),r===null)return bu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=d.children,r=d.fallback,x?(d=i.mode,x=i.child,S={mode:"hidden",children:S},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=$a(S,d,0,null),r=Hr(r,d,l,null),x.return=i,r.return=i,x.sibling=r,i.child=x,i.child.memoizedState=qu(l),i.memoizedState=Gu,r):Zu(i,S));if(p=r.memoizedState,p!==null&&(j=p.dehydrated,j!==null))return Mb(r,i,S,d,j,p,l);if(x){x=d.fallback,S=i.mode,p=r.child,j=p.sibling;var M={mode:"hidden",children:d.children};return(S&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=M,i.deletions=null):(d=mr(p,M),d.subtreeFlags=p.subtreeFlags&14680064),j!==null?x=mr(j,x):(x=Hr(x,S,l,null),x.flags|=2),x.return=i,d.return=i,d.sibling=x,i.child=d,d=x,x=i.child,S=r.child.memoizedState,S=S===null?qu(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=r.childLanes&~l,i.memoizedState=Gu,d}return x=r.child,r=x.sibling,d=mr(x,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=d,i.memoizedState=null,d}function Zu(r,i){return i=$a({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ca(r,i,l,d){return d!==null&&ku(d),Ls(i,r.child,null,l),r=Zu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Mb(r,i,l,d,p,x,S){if(l)return i.flags&256?(i.flags&=-257,d=zu(Error(n(422))),Ca(r,i,S,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(x=d.fallback,p=i.mode,d=$a({mode:"visible",children:d.children},p,0,null),x=Hr(x,p,S,null),x.flags|=2,d.return=i,x.return=i,d.sibling=x,i.child=d,(i.mode&1)!==0&&Ls(i,r.child,null,S),i.child.memoizedState=qu(S),i.memoizedState=Gu,x);if((i.mode&1)===0)return Ca(r,i,S,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var j=d.dgst;return d=j,x=Error(n(419)),d=zu(x,d,void 0),Ca(r,i,S,d)}if(j=(S&r.childLanes)!==0,Tt||j){if(d=dt,d!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|S))!==0?0:p,p!==0&&p!==x.retryLane&&(x.retryLane=p,Nn(r,p),ln(d,r,p,-1))}return dc(),d=zu(Error(n(421))),Ca(r,i,S,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=Kb.bind(null,r),p._reactRetry=i,null):(r=x.treeContext,Dt=sr(p.nextSibling),It=i,Fe=!0,rn=null,r!==null&&(zt[Wt++]=On,zt[Wt++]=Mn,zt[Wt++]=Dr,On=r.id,Mn=r.overflow,Dr=i),i=Zu(i,d.children),i.flags|=4096,i)}function Up(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Cu(r.return,i,l)}function Ju(r,i,l,d,p){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=p)}function $p(r,i,l){var d=i.pendingProps,p=d.revealOrder,x=d.tail;if(St(r,i,d.children,l),d=We.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Up(r,l,i);else if(r.tag===19)Up(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ue(We,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&xa(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Ju(i,!1,p,l,x);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&xa(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Ju(i,!0,l,null,x);break;case"together":Ju(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function La(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function An(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Fr|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=mr(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=mr(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function Nb(r,i,l){switch(i.tag){case 3:Ap(i),Cs();break;case 5:Xf(i);break;case 1:jt(i.type)&&ua(i);break;case 4:ju(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Ue(ma,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Ue(We,We.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Dp(r,i,l):(Ue(We,We.current&1),r=An(r,i,l),r!==null?r.sibling:null);Ue(We,We.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(r.flags&128)!==0){if(d)return $p(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ue(We,We.current),d)break;return null;case 22:case 23:return i.lanes=0,Mp(r,i,l)}return An(r,i,l)}var Bp,Yu,Vp,Fp;Bp=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Yu=function(){},Vp=function(r,i,l,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,Br(wn.current);var x=null;switch(l){case"input":p=Cn(r,p),d=Cn(r,d),x=[];break;case"select":p=G({},p,{value:void 0}),d=G({},d,{value:void 0}),x=[];break;case"textarea":p=ls(r,p),d=ls(r,d),x=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=oa)}cs(l,d);var S;l=null;for(B in p)if(!d.hasOwnProperty(B)&&p.hasOwnProperty(B)&&p[B]!=null)if(B==="style"){var j=p[B];for(S in j)j.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?x||(x=[]):(x=x||[]).push(B,null));for(B in d){var M=d[B];if(j=p!=null?p[B]:void 0,d.hasOwnProperty(B)&&M!==j&&(M!=null||j!=null))if(B==="style")if(j){for(S in j)!j.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in M)M.hasOwnProperty(S)&&j[S]!==M[S]&&(l||(l={}),l[S]=M[S])}else l||(x||(x=[]),x.push(B,l)),l=M;else B==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,j=j?j.__html:void 0,M!=null&&j!==M&&(x=x||[]).push(B,M)):B==="children"?typeof M!="string"&&typeof M!="number"||(x=x||[]).push(B,""+M):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(M!=null&&B==="onScroll"&&Be("scroll",r),x||j===M||(x=[])):(x=x||[]).push(B,M))}l&&(x=x||[]).push("style",l);var B=x;(i.updateQueue=B)&&(i.flags|=4)}},Fp=function(r,i,l,d){l!==d&&(i.flags|=4)};function Gi(r,i){if(!Fe)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function wt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function Rb(r,i,l){var d=i.pendingProps;switch(xu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return jt(i.type)&&la(),wt(i),null;case 3:return d=i.stateNode,Ts(),Ve(Pt),Ve(yt),Mu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(fa(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rn!==null&&(lc(rn),rn=null))),Yu(r,i),wt(i),null;case 5:Tu(i);var p=Br(Fi.current);if(l=i.type,r!==null&&i.stateNode!=null)Vp(r,i,l,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return wt(i),null}if(r=Br(wn.current),fa(i)){d=i.stateNode,l=i.type;var x=i.memoizedProps;switch(d[xn]=i,d[Di]=x,r=(i.mode&1)!==0,l){case"dialog":Be("cancel",d),Be("close",d);break;case"iframe":case"object":case"embed":Be("load",d);break;case"video":case"audio":for(p=0;p<Ri.length;p++)Be(Ri[p],d);break;case"source":Be("error",d);break;case"img":case"image":case"link":Be("error",d),Be("load",d);break;case"details":Be("toggle",d);break;case"input":Ie(d,x),Be("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Be("invalid",d);break;case"textarea":Lr(d,x),Be("invalid",d)}cs(l,x),p=null;for(var S in x)if(x.hasOwnProperty(S)){var j=x[S];S==="children"?typeof j=="string"?d.textContent!==j&&(x.suppressHydrationWarning!==!0&&ia(d.textContent,j,r),p=["children",j]):typeof j=="number"&&d.textContent!==""+j&&(x.suppressHydrationWarning!==!0&&ia(d.textContent,j,r),p=["children",""+j]):o.hasOwnProperty(S)&&j!=null&&S==="onScroll"&&Be("scroll",d)}switch(l){case"input":je(d),di(d,x,!0);break;case"textarea":je(d),fi(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=oa)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pi(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=S.createElement(l,{is:d.is}):(r=S.createElement(l),l==="select"&&(S=r,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):r=S.createElementNS(r,l),r[xn]=i,r[Di]=d,Bp(r,i,!1,!1),i.stateNode=r;e:{switch(S=Jn(l,d),l){case"dialog":Be("cancel",r),Be("close",r),p=d;break;case"iframe":case"object":case"embed":Be("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ri.length;p++)Be(Ri[p],r);p=d;break;case"source":Be("error",r),p=d;break;case"img":case"image":case"link":Be("error",r),Be("load",r),p=d;break;case"details":Be("toggle",r),p=d;break;case"input":Ie(r,d),p=Cn(r,d),Be("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=G({},d,{value:void 0}),Be("invalid",r);break;case"textarea":Lr(r,d),p=ls(r,d),Be("invalid",r);break;default:p=d}cs(l,p),j=p;for(x in j)if(j.hasOwnProperty(x)){var M=j[x];x==="style"?mi(r,M):x==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&jr(r,M)):x==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Zn(r,M):typeof M=="number"&&Zn(r,""+M):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?M!=null&&x==="onScroll"&&Be("scroll",r):M!=null&&C(r,x,M,S))}switch(l){case"input":je(r),di(r,d,!1);break;case"textarea":je(r),fi(r);break;case"option":d.value!=null&&r.setAttribute("value",""+oe(d.value));break;case"select":r.multiple=!!d.multiple,x=d.value,x!=null?Xt(r,!!d.multiple,x,!1):d.defaultValue!=null&&Xt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=oa)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return wt(i),null;case 6:if(r&&i.stateNode!=null)Fp(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Br(Fi.current),Br(wn.current),fa(i)){if(d=i.stateNode,l=i.memoizedProps,d[xn]=i,(x=d.nodeValue!==l)&&(r=It,r!==null))switch(r.tag){case 3:ia(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ia(d.nodeValue,l,(r.mode&1)!==0)}x&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xn]=i,i.stateNode=d}return wt(i),null;case 13:if(Ve(We),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Fe&&Dt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Kf(),Cs(),i.flags|=98560,x=!1;else if(x=fa(i),d!==null&&d.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[xn]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),x=!1}else rn!==null&&(lc(rn),rn=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(We.current&1)!==0?ot===0&&(ot=3):dc())),i.updateQueue!==null&&(i.flags|=4),wt(i),null);case 4:return Ts(),Yu(r,i),r===null&&Ai(i.stateNode.containerInfo),wt(i),null;case 10:return _u(i.type._context),wt(i),null;case 17:return jt(i.type)&&la(),wt(i),null;case 19:if(Ve(We),x=i.memoizedState,x===null)return wt(i),null;if(d=(i.flags&128)!==0,S=x.rendering,S===null)if(d)Gi(x,!1);else{if(ot!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(S=xa(r),S!==null){for(i.flags|=128,Gi(x,!1),d=S.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)x=l,r=d,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,r=S.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ue(We,We.current&1|2),i.child}r=r.sibling}x.tail!==null&&et()>Rs&&(i.flags|=128,d=!0,Gi(x,!1),i.lanes=4194304)}else{if(!d)if(r=xa(S),r!==null){if(i.flags|=128,d=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Gi(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!Fe)return wt(i),null}else 2*et()-x.renderingStartTime>Rs&&l!==1073741824&&(i.flags|=128,d=!0,Gi(x,!1),i.lanes=4194304);x.isBackwards?(S.sibling=i.child,i.child=S):(l=x.last,l!==null?l.sibling=S:i.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=et(),i.sibling=null,l=We.current,Ue(We,d?l&1|2:l&1),i):(wt(i),null);case 22:case 23:return cc(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Ut&1073741824)!==0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Ab(r,i){switch(xu(i),i.tag){case 1:return jt(i.type)&&la(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ts(),Ve(Pt),Ve(yt),Mu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Tu(i),null;case 13:if(Ve(We),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Cs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ve(We),null;case 4:return Ts(),null;case 10:return _u(i.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var Pa=!1,bt=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ms(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Je(r,i,d)}else l.current=null}function Qu(r,i,l){try{l()}catch(d){Je(r,i,d)}}var zp=!1;function Db(r,i){if(cu=qo,r=bf(),nu(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var S=0,j=-1,M=-1,B=0,J=0,Y=r,Z=null;t:for(;;){for(var se;Y!==l||p!==0&&Y.nodeType!==3||(j=S+p),Y!==x||d!==0&&Y.nodeType!==3||(M=S+d),Y.nodeType===3&&(S+=Y.nodeValue.length),(se=Y.firstChild)!==null;)Z=Y,Y=se;for(;;){if(Y===r)break t;if(Z===l&&++B===p&&(j=S),Z===x&&++J===d&&(M=S),(se=Y.nextSibling)!==null)break;Y=Z,Z=Y.parentNode}Y=se}l=j===-1||M===-1?null:{start:j,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(du={focusedElem:r,selectionRange:l},qo=!1,le=i;le!==null;)if(i=le,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,le=r;else for(;le!==null;){i=le;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,tt=ce.memoizedState,I=i.stateNode,R=I.getSnapshotBeforeUpdate(i.elementType===i.type?he:sn(i.type,he),tt);I.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Q){Je(i,i.return,Q)}if(r=i.sibling,r!==null){r.return=i.return,le=r;break}le=i.return}return ce=zp,zp=!1,ce}function qi(r,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var x=p.destroy;p.destroy=void 0,x!==void 0&&Qu(i,l,x)}p=p.next}while(p!==d)}}function ja(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Xu(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Wp(r){var i=r.alternate;i!==null&&(r.alternate=null,Wp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[xn],delete i[Di],delete i[mu],delete i[xb],delete i[wb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Kp(r){return r.tag===5||r.tag===3||r.tag===4}function Hp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ec(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=oa));else if(d!==4&&(r=r.child,r!==null))for(ec(r,i,l),r=r.sibling;r!==null;)ec(r,i,l),r=r.sibling}function tc(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(tc(r,i,l),r=r.sibling;r!==null;)tc(r,i,l),r=r.sibling}var ft=null,on=!1;function cr(r,i,l){for(l=l.child;l!==null;)Gp(r,i,l),l=l.sibling}function Gp(r,i,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Fo,l)}catch{}switch(l.tag){case 5:bt||Ms(l,i);case 6:var d=ft,p=on;ft=null,cr(r,i,l),ft=d,on=p,ft!==null&&(on?(r=ft,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):ft.removeChild(l.stateNode));break;case 18:ft!==null&&(on?(r=ft,l=l.stateNode,r.nodeType===8?pu(r.parentNode,l):r.nodeType===1&&pu(r,l),Ci(r)):pu(ft,l.stateNode));break;case 4:d=ft,p=on,ft=l.stateNode.containerInfo,on=!0,cr(r,i,l),ft=d,on=p;break;case 0:case 11:case 14:case 15:if(!bt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var x=p,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&Qu(l,i,S),p=p.next}while(p!==d)}cr(r,i,l);break;case 1:if(!bt&&(Ms(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(j){Je(l,i,j)}cr(r,i,l);break;case 21:cr(r,i,l);break;case 22:l.mode&1?(bt=(d=bt)||l.memoizedState!==null,cr(r,i,l),bt=d):cr(r,i,l);break;default:cr(r,i,l)}}function qp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Ib),i.forEach(function(d){var p=Hb.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function an(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var x=r,S=i,j=S;e:for(;j!==null;){switch(j.tag){case 5:ft=j.stateNode,on=!1;break e;case 3:ft=j.stateNode.containerInfo,on=!0;break e;case 4:ft=j.stateNode.containerInfo,on=!0;break e}j=j.return}if(ft===null)throw Error(n(160));Gp(x,S,p),ft=null,on=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(B){Je(p,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Zp(i,r),i=i.sibling}function Zp(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(an(i,r),kn(r),d&4){try{qi(3,r,r.return),ja(3,r)}catch(he){Je(r,r.return,he)}try{qi(5,r,r.return)}catch(he){Je(r,r.return,he)}}break;case 1:an(i,r),kn(r),d&512&&l!==null&&Ms(l,l.return);break;case 5:if(an(i,r),kn(r),d&512&&l!==null&&Ms(l,l.return),r.flags&32){var p=r.stateNode;try{Zn(p,"")}catch(he){Je(r,r.return,he)}}if(d&4&&(p=r.stateNode,p!=null)){var x=r.memoizedProps,S=l!==null?l.memoizedProps:x,j=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{j==="input"&&x.type==="radio"&&x.name!=null&&ci(p,x),Jn(j,S);var B=Jn(j,x);for(S=0;S<M.length;S+=2){var J=M[S],Y=M[S+1];J==="style"?mi(p,Y):J==="dangerouslySetInnerHTML"?jr(p,Y):J==="children"?Zn(p,Y):C(p,J,Y,B)}switch(j){case"input":Kn(p,x);break;case"textarea":hi(p,x);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!x.multiple;var se=x.value;se!=null?Xt(p,!!x.multiple,se,!1):Z!==!!x.multiple&&(x.defaultValue!=null?Xt(p,!!x.multiple,x.defaultValue,!0):Xt(p,!!x.multiple,x.multiple?[]:"",!1))}p[Di]=x}catch(he){Je(r,r.return,he)}}break;case 6:if(an(i,r),kn(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,x=r.memoizedProps;try{p.nodeValue=x}catch(he){Je(r,r.return,he)}}break;case 3:if(an(i,r),kn(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ci(i.containerInfo)}catch(he){Je(r,r.return,he)}break;case 4:an(i,r),kn(r);break;case 13:an(i,r),kn(r),p=r.child,p.flags&8192&&(x=p.memoizedState!==null,p.stateNode.isHidden=x,!x||p.alternate!==null&&p.alternate.memoizedState!==null||(sc=et())),d&4&&qp(r);break;case 22:if(J=l!==null&&l.memoizedState!==null,r.mode&1?(bt=(B=bt)||J,an(i,r),bt=B):an(i,r),kn(r),d&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!J&&(r.mode&1)!==0)for(le=r,J=r.child;J!==null;){for(Y=le=J;le!==null;){switch(Z=le,se=Z.child,Z.tag){case 0:case 11:case 14:case 15:qi(4,Z,Z.return);break;case 1:Ms(Z,Z.return);var ce=Z.stateNode;if(typeof ce.componentWillUnmount=="function"){d=Z,l=Z.return;try{i=d,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){Je(d,l,he)}}break;case 5:Ms(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Qp(Y);continue}}se!==null?(se.return=Z,le=se):Qp(Y)}J=J.sibling}e:for(J=null,Y=r;;){if(Y.tag===5){if(J===null){J=Y;try{p=Y.stateNode,B?(x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(j=Y.stateNode,M=Y.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,j.style.display=Tr("display",S))}catch(he){Je(r,r.return,he)}}}else if(Y.tag===6){if(J===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(he){Je(r,r.return,he)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===r)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===r)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===r)break e;J===Y&&(J=null),Y=Y.return}J===Y&&(J=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:an(i,r),kn(r),d&4&&qp(r);break;case 21:break;default:an(i,r),kn(r)}}function kn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Kp(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Zn(p,""),d.flags&=-33);var x=Hp(r);tc(r,x,p);break;case 3:case 4:var S=d.stateNode.containerInfo,j=Hp(r);ec(r,j,S);break;default:throw Error(n(161))}}catch(M){Je(r,r.return,M)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ub(r,i,l){le=r,Jp(r)}function Jp(r,i,l){for(var d=(r.mode&1)!==0;le!==null;){var p=le,x=p.child;if(p.tag===22&&d){var S=p.memoizedState!==null||Pa;if(!S){var j=p.alternate,M=j!==null&&j.memoizedState!==null||bt;j=Pa;var B=bt;if(Pa=S,(bt=M)&&!B)for(le=p;le!==null;)S=le,M=S.child,S.tag===22&&S.memoizedState!==null?Xp(p):M!==null?(M.return=S,le=M):Xp(p);for(;x!==null;)le=x,Jp(x),x=x.sibling;le=p,Pa=j,bt=B}Yp(r)}else(p.subtreeFlags&8772)!==0&&x!==null?(x.return=p,le=x):Yp(r)}}function Yp(r){for(;le!==null;){var i=le;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||ja(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!bt)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:sn(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Qf(i,x,d);break;case 3:var S=i.updateQueue;if(S!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Qf(i,S,l)}break;case 5:var j=i.stateNode;if(l===null&&i.flags&4){l=j;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var Y=J.dehydrated;Y!==null&&Ci(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bt||i.flags&512&&Xu(i)}catch(Z){Je(i,i.return,Z)}}if(i===r){le=null;break}if(l=i.sibling,l!==null){l.return=i.return,le=l;break}le=i.return}}function Qp(r){for(;le!==null;){var i=le;if(i===r){le=null;break}var l=i.sibling;if(l!==null){l.return=i.return,le=l;break}le=i.return}}function Xp(r){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{ja(4,i)}catch(M){Je(i,l,M)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(M){Je(i,p,M)}}var x=i.return;try{Xu(i)}catch(M){Je(i,x,M)}break;case 5:var S=i.return;try{Xu(i)}catch(M){Je(i,S,M)}}}catch(M){Je(i,i.return,M)}if(i===r){le=null;break}var j=i.sibling;if(j!==null){j.return=i.return,le=j;break}le=i.return}}var $b=Math.ceil,Ta=T.ReactCurrentDispatcher,nc=T.ReactCurrentOwner,Gt=T.ReactCurrentBatchConfig,Ne=0,dt=null,nt=null,pt=0,Ut=0,Ns=ir(0),ot=0,Zi=null,Fr=0,Oa=0,rc=0,Ji=null,Ot=null,sc=0,Rs=1/0,In=null,Ma=!1,ic=null,dr=null,Na=!1,hr=null,Ra=0,Yi=0,oc=null,Aa=-1,Ia=0;function Et(){return(Ne&6)!==0?et():Aa!==-1?Aa:Aa=et()}function fr(r){return(r.mode&1)===0?1:(Ne&2)!==0&&pt!==0?pt&-pt:kb.transition!==null?(Ia===0&&(Ia=Kh()),Ia):(r=De,r!==0||(r=window.event,r=r===void 0?16:ef(r.type)),r)}function ln(r,i,l,d){if(50<Yi)throw Yi=0,oc=null,Error(n(185));bi(r,l,d),((Ne&2)===0||r!==dt)&&(r===dt&&((Ne&2)===0&&(Oa|=l),ot===4&&pr(r,pt)),Mt(r,d),l===1&&Ne===0&&(i.mode&1)===0&&(Rs=et()+500,ca&&ar()))}function Mt(r,i){var l=r.callbackNode;kw(r,i);var d=Ko(r,r===dt?pt:0);if(d===0)l!==null&&Fh(l),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(l!=null&&Fh(l),i===1)r.tag===0?bb(tm.bind(null,r)):Bf(tm.bind(null,r)),vb(function(){(Ne&6)===0&&ar()}),l=null;else{switch(Hh(d)){case 1:l=$l;break;case 4:l=zh;break;case 16:l=Vo;break;case 536870912:l=Wh;break;default:l=Vo}l=um(l,em.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function em(r,i){if(Aa=-1,Ia=0,(Ne&6)!==0)throw Error(n(327));var l=r.callbackNode;if(As()&&r.callbackNode!==l)return null;var d=Ko(r,r===dt?pt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Da(r,d);else{i=d;var p=Ne;Ne|=2;var x=rm();(dt!==r||pt!==i)&&(In=null,Rs=et()+500,Wr(r,i));do try{Fb();break}catch(j){nm(r,j)}while(!0);Eu(),Ta.current=x,Ne=p,nt!==null?i=0:(dt=null,pt=0,i=ot)}if(i!==0){if(i===2&&(p=Bl(r),p!==0&&(d=p,i=ac(r,p))),i===1)throw l=Zi,Wr(r,0),pr(r,d),Mt(r,et()),l;if(i===6)pr(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Bb(p)&&(i=Da(r,d),i===2&&(x=Bl(r),x!==0&&(d=x,i=ac(r,x))),i===1))throw l=Zi,Wr(r,0),pr(r,d),Mt(r,et()),l;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Kr(r,Ot,In);break;case 3:if(pr(r,d),(d&130023424)===d&&(i=sc+500-et(),10<i)){if(Ko(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Et(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=fu(Kr.bind(null,r,Ot,In),i);break}Kr(r,Ot,In);break;case 4:if(pr(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var S=31-tn(d);x=1<<S,S=i[S],S>p&&(p=S),d&=~x}if(d=p,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*$b(d/1960))-d,10<d){r.timeoutHandle=fu(Kr.bind(null,r,Ot,In),d);break}Kr(r,Ot,In);break;case 5:Kr(r,Ot,In);break;default:throw Error(n(329))}}}return Mt(r,et()),r.callbackNode===l?em.bind(null,r):null}function ac(r,i){var l=Ji;return r.current.memoizedState.isDehydrated&&(Wr(r,i).flags|=256),r=Da(r,i),r!==2&&(i=Ot,Ot=l,i!==null&&lc(i)),r}function lc(r){Ot===null?Ot=r:Ot.push.apply(Ot,r)}function Bb(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],x=p.getSnapshot;p=p.value;try{if(!nn(x(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(r,i){for(i&=~rc,i&=~Oa,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-tn(i),d=1<<l;r[l]=-1,i&=~d}}function tm(r){if((Ne&6)!==0)throw Error(n(327));As();var i=Ko(r,0);if((i&1)===0)return Mt(r,et()),null;var l=Da(r,i);if(r.tag!==0&&l===2){var d=Bl(r);d!==0&&(i=d,l=ac(r,d))}if(l===1)throw l=Zi,Wr(r,0),pr(r,i),Mt(r,et()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Kr(r,Ot,In),Mt(r,et()),null}function uc(r,i){var l=Ne;Ne|=1;try{return r(i)}finally{Ne=l,Ne===0&&(Rs=et()+500,ca&&ar())}}function zr(r){hr!==null&&hr.tag===0&&(Ne&6)===0&&As();var i=Ne;Ne|=1;var l=Gt.transition,d=De;try{if(Gt.transition=null,De=1,r)return r()}finally{De=d,Gt.transition=l,Ne=i,(Ne&6)===0&&ar()}}function cc(){Ut=Ns.current,Ve(Ns)}function Wr(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,gb(l)),nt!==null)for(l=nt.return;l!==null;){var d=l;switch(xu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&la();break;case 3:Ts(),Ve(Pt),Ve(yt),Mu();break;case 5:Tu(d);break;case 4:Ts();break;case 13:Ve(We);break;case 19:Ve(We);break;case 10:_u(d.type._context);break;case 22:case 23:cc()}l=l.return}if(dt=r,nt=r=mr(r.current,null),pt=Ut=i,ot=0,Zi=null,rc=Oa=Fr=0,Ot=Ji=null,$r!==null){for(i=0;i<$r.length;i++)if(l=$r[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,x=l.pending;if(x!==null){var S=x.next;x.next=p,d.next=S}l.pending=d}$r=null}return r}function nm(r,i){do{var l=nt;try{if(Eu(),wa.current=Ea,ba){for(var d=Ke.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}ba=!1}if(Vr=0,ct=it=Ke=null,zi=!1,Wi=0,nc.current=null,l===null||l.return===null){ot=1,Zi=i,nt=null;break}e:{var x=r,S=l.return,j=l,M=i;if(i=pt,j.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var B=M,J=j,Y=J.tag;if((J.mode&1)===0&&(Y===0||Y===11||Y===15)){var Z=J.alternate;Z?(J.updateQueue=Z.updateQueue,J.memoizedState=Z.memoizedState,J.lanes=Z.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Lp(S);if(se!==null){se.flags&=-257,Pp(se,S,j,x,i),se.mode&1&&Cp(x,B,i),i=se,M=B;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(M),i.updateQueue=he}else ce.add(M);break e}else{if((i&1)===0){Cp(x,B,i),dc();break e}M=Error(n(426))}}else if(Fe&&j.mode&1){var tt=Lp(S);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),Pp(tt,S,j,x,i),ku(Os(M,j));break e}}x=M=Os(M,j),ot!==4&&(ot=2),Ji===null?Ji=[x]:Ji.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var I=Ep(x,M,i);Yf(x,I);break e;case 1:j=M;var R=x.type,U=x.stateNode;if((x.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(dr===null||!dr.has(U)))){x.flags|=65536,i&=-i,x.lanes|=i;var Q=_p(x,j,i);Yf(x,Q);break e}}x=x.return}while(x!==null)}im(l)}catch(fe){i=fe,nt===l&&l!==null&&(nt=l=l.return);continue}break}while(!0)}function rm(){var r=Ta.current;return Ta.current=Ea,r===null?Ea:r}function dc(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||(Fr&268435455)===0&&(Oa&268435455)===0||pr(dt,pt)}function Da(r,i){var l=Ne;Ne|=2;var d=rm();(dt!==r||pt!==i)&&(In=null,Wr(r,i));do try{Vb();break}catch(p){nm(r,p)}while(!0);if(Eu(),Ne=l,Ta.current=d,nt!==null)throw Error(n(261));return dt=null,pt=0,ot}function Vb(){for(;nt!==null;)sm(nt)}function Fb(){for(;nt!==null&&!fw();)sm(nt)}function sm(r){var i=lm(r.alternate,r,Ut);r.memoizedProps=r.pendingProps,i===null?im(r):nt=i,nc.current=null}function im(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=Rb(l,i,Ut),l!==null){nt=l;return}}else{if(l=Ab(l,i),l!==null){l.flags&=32767,nt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ot=6,nt=null;return}}if(i=i.sibling,i!==null){nt=i;return}nt=i=r}while(i!==null);ot===0&&(ot=5)}function Kr(r,i,l){var d=De,p=Gt.transition;try{Gt.transition=null,De=1,zb(r,i,l,d)}finally{Gt.transition=p,De=d}return null}function zb(r,i,l,d){do As();while(hr!==null);if((Ne&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=l.lanes|l.childLanes;if(Sw(r,x),r===dt&&(nt=dt=null,pt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Na||(Na=!0,um(Vo,function(){return As(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=Gt.transition,Gt.transition=null;var S=De;De=1;var j=Ne;Ne|=4,nc.current=null,Db(r,l),Zp(l,r),ub(du),qo=!!cu,du=cu=null,r.current=l,Ub(l),pw(),Ne=j,De=S,Gt.transition=x}else r.current=l;if(Na&&(Na=!1,hr=r,Ra=p),x=r.pendingLanes,x===0&&(dr=null),vw(l.stateNode),Mt(r,et()),i!==null)for(d=r.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ma)throw Ma=!1,r=ic,ic=null,r;return(Ra&1)!==0&&r.tag!==0&&As(),x=r.pendingLanes,(x&1)!==0?r===oc?Yi++:(Yi=0,oc=r):Yi=0,ar(),null}function As(){if(hr!==null){var r=Hh(Ra),i=Gt.transition,l=De;try{if(Gt.transition=null,De=16>r?16:r,hr===null)var d=!1;else{if(r=hr,hr=null,Ra=0,(Ne&6)!==0)throw Error(n(331));var p=Ne;for(Ne|=4,le=r.current;le!==null;){var x=le,S=x.child;if((le.flags&16)!==0){var j=x.deletions;if(j!==null){for(var M=0;M<j.length;M++){var B=j[M];for(le=B;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:qi(8,J,x)}var Y=J.child;if(Y!==null)Y.return=J,le=Y;else for(;le!==null;){J=le;var Z=J.sibling,se=J.return;if(Wp(J),J===B){le=null;break}if(Z!==null){Z.return=se,le=Z;break}le=se}}}var ce=x.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var tt=he.sibling;he.sibling=null,he=tt}while(he!==null)}}le=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,le=S;else e:for(;le!==null;){if(x=le,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:qi(9,x,x.return)}var I=x.sibling;if(I!==null){I.return=x.return,le=I;break e}le=x.return}}var R=r.current;for(le=R;le!==null;){S=le;var U=S.child;if((S.subtreeFlags&2064)!==0&&U!==null)U.return=S,le=U;else e:for(S=R;le!==null;){if(j=le,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:ja(9,j)}}catch(fe){Je(j,j.return,fe)}if(j===S){le=null;break e}var Q=j.sibling;if(Q!==null){Q.return=j.return,le=Q;break e}le=j.return}}if(Ne=p,ar(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Fo,r)}catch{}d=!0}return d}finally{De=l,Gt.transition=i}}return!1}function om(r,i,l){i=Os(l,i),i=Ep(r,i,1),r=ur(r,i,1),i=Et(),r!==null&&(bi(r,1,i),Mt(r,i))}function Je(r,i,l){if(r.tag===3)om(r,r,l);else for(;i!==null;){if(i.tag===3){om(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))){r=Os(l,r),r=_p(i,r,1),i=ur(i,r,1),r=Et(),i!==null&&(bi(i,1,r),Mt(i,r));break}}i=i.return}}function Wb(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),i=Et(),r.pingedLanes|=r.suspendedLanes&l,dt===r&&(pt&l)===l&&(ot===4||ot===3&&(pt&130023424)===pt&&500>et()-sc?Wr(r,0):rc|=l),Mt(r,i)}function am(r,i){i===0&&((r.mode&1)===0?i=1:(i=Wo,Wo<<=1,(Wo&130023424)===0&&(Wo=4194304)));var l=Et();r=Nn(r,i),r!==null&&(bi(r,i,l),Mt(r,l))}function Kb(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),am(r,l)}function Hb(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),am(r,l)}var lm;lm=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||Pt.current)Tt=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return Tt=!1,Nb(r,i,l);Tt=(r.flags&131072)!==0}else Tt=!1,Fe&&(i.flags&1048576)!==0&&Vf(i,ha,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;La(r,i),r=i.pendingProps;var p=Ss(i,yt.current);js(i,l),p=Au(null,i,d,r,p,l);var x=Iu();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,jt(d)?(x=!0,ua(i)):x=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Pu(i),p.updater=_a,i.stateNode=p,p._reactInternals=i,Fu(i,d,r,l),i=Hu(null,i,d,!0,x,l)):(i.tag=0,Fe&&x&&yu(i),St(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(La(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=qb(d),r=sn(d,r),p){case 0:i=Ku(null,i,d,r,l);break e;case 1:i=Rp(null,i,d,r,l);break e;case 11:i=jp(null,i,d,r,l);break e;case 14:i=Tp(null,i,d,sn(d.type,r),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:sn(d,p),Ku(r,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:sn(d,p),Rp(r,i,d,p,l);case 3:e:{if(Ap(i),r===null)throw Error(n(387));d=i.pendingProps,x=i.memoizedState,p=x.element,Jf(r,i),ya(i,d,null,l);var S=i.memoizedState;if(d=S.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){p=Os(Error(n(423)),i),i=Ip(r,i,d,l,p);break e}else if(d!==p){p=Os(Error(n(424)),i),i=Ip(r,i,d,l,p);break e}else for(Dt=sr(i.stateNode.containerInfo.firstChild),It=i,Fe=!0,rn=null,l=qf(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Cs(),d===p){i=An(r,i,l);break e}St(r,i,d,l)}i=i.child}return i;case 5:return Xf(i),r===null&&bu(i),d=i.type,p=i.pendingProps,x=r!==null?r.memoizedProps:null,S=p.children,hu(d,p)?S=null:x!==null&&hu(d,x)&&(i.flags|=32),Np(r,i),St(r,i,S,l),i.child;case 6:return r===null&&bu(i),null;case 13:return Dp(r,i,l);case 4:return ju(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Ls(i,null,d,l):St(r,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:sn(d,p),jp(r,i,d,p,l);case 7:return St(r,i,i.pendingProps,l),i.child;case 8:return St(r,i,i.pendingProps.children,l),i.child;case 12:return St(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,x=i.memoizedProps,S=p.value,Ue(ma,d._currentValue),d._currentValue=S,x!==null)if(nn(x.value,S)){if(x.children===p.children&&!Pt.current){i=An(r,i,l);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var j=x.dependencies;if(j!==null){S=x.child;for(var M=j.firstContext;M!==null;){if(M.context===d){if(x.tag===1){M=Rn(-1,l&-l),M.tag=2;var B=x.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?M.next=M:(M.next=J.next,J.next=M),B.pending=M}}x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),Cu(x.return,l,i),j.lanes|=l;break}M=M.next}}else if(x.tag===10)S=x.type===i.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(n(341));S.lanes|=l,j=S.alternate,j!==null&&(j.lanes|=l),Cu(S,l,i),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===i){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}St(r,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,js(i,l),p=Kt(p),d=d(p),i.flags|=1,St(r,i,d,l),i.child;case 14:return d=i.type,p=sn(d,i.pendingProps),p=sn(d.type,p),Tp(r,i,d,p,l);case 15:return Op(r,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:sn(d,p),La(r,i),i.tag=1,jt(d)?(r=!0,ua(i)):r=!1,js(i,l),kp(i,d,p),Fu(i,d,p,l),Hu(null,i,d,!0,r,l);case 19:return $p(r,i,l);case 22:return Mp(r,i,l)}throw Error(n(156,i.tag))};function um(r,i){return Vh(r,i)}function Gb(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(r,i,l,d){return new Gb(r,i,l,d)}function hc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qb(r){if(typeof r=="function")return hc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ne)return 11;if(r===re)return 14}return 2}function mr(r,i){var l=r.alternate;return l===null?(l=qt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ua(r,i,l,d,p,x){var S=2;if(d=r,typeof r=="function")hc(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case D:return Hr(l.children,p,x,i);case W:S=8,p|=8;break;case $:return r=qt(12,l,i,p|2),r.elementType=$,r.lanes=x,r;case ue:return r=qt(13,l,i,p),r.elementType=ue,r.lanes=x,r;case te:return r=qt(19,l,i,p),r.elementType=te,r.lanes=x,r;case ie:return $a(l,p,x,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:S=10;break e;case q:S=9;break e;case ne:S=11;break e;case re:S=14;break e;case ge:S=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=qt(S,l,i,p),i.elementType=r,i.type=d,i.lanes=x,i}function Hr(r,i,l,d){return r=qt(7,r,d,i),r.lanes=l,r}function $a(r,i,l,d){return r=qt(22,r,d,i),r.elementType=ie,r.lanes=l,r.stateNode={isHidden:!1},r}function fc(r,i,l){return r=qt(6,r,null,i),r.lanes=l,r}function pc(r,i,l){return i=qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Zb(r,i,l,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function mc(r,i,l,d,p,x,S,j,M){return r=new Zb(r,i,l,j,M),i===1?(i=1,x===!0&&(i|=8)):i=0,x=qt(3,null,null,i),r.current=x,x.stateNode=r,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pu(x),r}function Jb(r,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:d==null?null:""+d,children:r,containerInfo:i,implementation:l}}function cm(r){if(!r)return or;r=r._reactInternals;e:{if(Rr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(jt(l))return Uf(r,l,i)}return i}function dm(r,i,l,d,p,x,S,j,M){return r=mc(l,d,!0,r,p,x,S,j,M),r.context=cm(null),l=r.current,d=Et(),p=fr(l),x=Rn(d,p),x.callback=i??null,ur(l,x,p),r.current.lanes=p,bi(r,p,d),Mt(r,d),r}function Ba(r,i,l,d){var p=i.current,x=Et(),S=fr(p);return l=cm(l),i.context===null?i.context=l:i.pendingContext=l,i=Rn(x,S),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=ur(p,i,S),r!==null&&(ln(r,p,S,x),va(r,p,S)),S}function Va(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function gc(r,i){hm(r,i),(r=r.alternate)&&hm(r,i)}function Yb(){return null}var fm=typeof reportError=="function"?reportError:function(r){console.error(r)};function vc(r){this._internalRoot=r}Fa.prototype.render=vc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Ba(r,i,null,null)},Fa.prototype.unmount=vc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;zr(function(){Ba(null,r,null,null)}),i[jn]=null}};function Fa(r){this._internalRoot=r}Fa.prototype.unstable_scheduleHydration=function(r){if(r){var i=Zh();r={blockedOn:null,target:r,priority:i};for(var l=0;l<tr.length&&i!==0&&i<tr[l].priority;l++);tr.splice(l,0,r),l===0&&Qh(r)}};function yc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function za(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function pm(){}function Qb(r,i,l,d,p){if(p){if(typeof d=="function"){var x=d;d=function(){var B=Va(S);x.call(B)}}var S=dm(i,d,r,0,null,!1,!1,"",pm);return r._reactRootContainer=S,r[jn]=S.current,Ai(r.nodeType===8?r.parentNode:r),zr(),S}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var j=d;d=function(){var B=Va(M);j.call(B)}}var M=mc(r,0,!1,null,null,!1,!1,"",pm);return r._reactRootContainer=M,r[jn]=M.current,Ai(r.nodeType===8?r.parentNode:r),zr(function(){Ba(i,M,l,d)}),M}function Wa(r,i,l,d,p){var x=l._reactRootContainer;if(x){var S=x;if(typeof p=="function"){var j=p;p=function(){var M=Va(S);j.call(M)}}Ba(i,S,r,p)}else S=Qb(l,i,r,p,d);return Va(S)}Gh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=wi(i.pendingLanes);l!==0&&(Fl(i,l|1),Mt(i,et()),(Ne&6)===0&&(Rs=et()+500,ar()))}break;case 13:zr(function(){var d=Nn(r,1);if(d!==null){var p=Et();ln(d,r,1,p)}}),gc(r,1)}},zl=function(r){if(r.tag===13){var i=Nn(r,134217728);if(i!==null){var l=Et();ln(i,r,134217728,l)}gc(r,134217728)}},qh=function(r){if(r.tag===13){var i=fr(r),l=Nn(r,i);if(l!==null){var d=Et();ln(l,r,i,d)}gc(r,i)}},Zh=function(){return De},Jh=function(r,i){var l=De;try{return De=r,i()}finally{De=l}},hs=function(r,i,l){switch(i){case"input":if(Kn(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var p=aa(d);if(!p)throw Error(n(90));Ct(d),Kn(d,p)}}}break;case"textarea":hi(r,l);break;case"select":i=l.value,i!=null&&Xt(r,!!l.multiple,i,!1)}},vi=uc,Nr=zr;var Xb={usingClientEntryPoint:!1,Events:[Ui,bs,aa,gi,Mr,uc]},Qi={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e1={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=$h(r),r===null?null:r.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||Yb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Fo=Ka.inject(e1),yn=Ka}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb,Nt.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(i))throw Error(n(200));return Jb(r,i,null,l)},Nt.createRoot=function(r,i){if(!yc(r))throw Error(n(299));var l=!1,d="",p=fm;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=mc(r,1,!1,null,null,l,!1,d,p),r[jn]=i.current,Ai(r.nodeType===8?r.parentNode:r),new vc(i)},Nt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=$h(i),r=r===null?null:r.stateNode,r},Nt.flushSync=function(r){return zr(r)},Nt.hydrate=function(r,i,l){if(!za(i))throw Error(n(200));return Wa(null,r,i,!0,l)},Nt.hydrateRoot=function(r,i,l){if(!yc(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,x="",S=fm;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),i=dm(i,null,r,1,l??null,p,!1,x,S),r[jn]=i.current,Ai(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Fa(i)},Nt.render=function(r,i,l){if(!za(i))throw Error(n(200));return Wa(null,r,i,!1,l)},Nt.unmountComponentAtNode=function(r){if(!za(r))throw Error(n(40));return r._reactRootContainer?(zr(function(){Wa(null,null,r,!1,function(){r._reactRootContainer=null,r[jn]=null})}),!0):!1},Nt.unstable_batchedUpdates=uc,Nt.unstable_renderSubtreeIntoContainer=function(r,i,l,d){if(!za(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Wa(r,i,l,!1,d)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var km;function jy(){if(km)return bc.exports;km=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bc.exports=a1(),bc.exports}var Sm;function l1(){if(Sm)return Ha;Sm=1;var t=jy();return Ha.createRoot=t.createRoot,Ha.hydrateRoot=t.hydrateRoot,Ha}var u1=l1();const c1=Py(u1);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Em="popstate";function d1(t={}){function e(s,o){let{pathname:a,search:u,hash:c}=s.location;return td("",{pathname:a,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:mo(o)}return f1(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function _m(t,e){return{usr:t.state,key:t.key,idx:e}}function td(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ri(e):e,state:n,key:e&&e.key||s||h1()}}function mo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function f1(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,u=o.history,c="POP",h=null,f=m();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function m(){return(u.state||{idx:null}).idx}function y(){c="POP";let _=m(),L=_==null?null:_-f;f=_,h&&h({action:c,location:E.location,delta:L})}function w(_,L){c="PUSH";let P=td(E.location,_,L);f=m()+1;let C=_m(P,f),T=E.createHref(P);try{u.pushState(C,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(T)}a&&h&&h({action:c,location:E.location,delta:1})}function b(_,L){c="REPLACE";let P=td(E.location,_,L);f=m();let C=_m(P,f),T=E.createHref(P);u.replaceState(C,"",T),a&&h&&h({action:c,location:E.location,delta:0})}function k(_){return p1(_)}let E={get action(){return c},get location(){return t(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Em,y),h=_,()=>{o.removeEventListener(Em,y),h=null}},createHref(_){return e(o,_)},createURL:k,encodeLocation(_){let L=k(_);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:b,go(_){return u.go(_)}};return E}function p1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:mo(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ty(t,e,n="/"){return m1(t,e,n,!1)}function m1(t,e,n,s){let o=typeof e=="string"?ri(e):e,a=Bn(o.pathname||"/",n);if(a==null)return null;let u=Oy(t);g1(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let f=L1(a);c=_1(u[h],f,s)}return c}function Oy(t,e=[],n=[],s="",o=!1){let a=(u,c,h=o,f)=>{let m={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&h)return;qe(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let y=$n([s,m.relativePath]),w=n.concat(m);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Oy(u.children,e,w,y,h)),!(u.path==null&&!u.index)&&e.push({path:y,score:S1(y,u.index),routesMeta:w})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))a(u,c);else for(let f of My(u.path))a(u,c,!0,f)}),e}function My(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let u=My(s.join("/")),c=[];return c.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&c.push(...u),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function g1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:E1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var v1=/^:[\w-]+$/,y1=3,x1=2,w1=1,b1=10,k1=-2,Cm=t=>t==="*";function S1(t,e){let n=t.split("/"),s=n.length;return n.some(Cm)&&(s+=k1),e&&(s+=x1),n.filter(o=>!Cm(o)).reduce((o,a)=>o+(v1.test(a)?y1:a===""?w1:b1),s)}function E1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function _1(t,e,n=!1){let{routesMeta:s}=t,o={},a="/",u=[];for(let c=0;c<s.length;++c){let h=s[c],f=c===s.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=cl({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),w=h.route;if(!y&&f&&n&&!s[s.length-1].route.index&&(y=cl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:$n([a,y.pathname]),pathnameBase:M1($n([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=$n([a,y.pathnameBase]))}return u}function cl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=C1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:y},w)=>{if(m==="*"){let k=c[w]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const b=c[w];return y&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:u,pattern:t}}function C1(t,e=!1,n=!0){mn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(s.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function L1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j1=t=>P1.test(t);function T1(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?ri(t):t,a;if(n)if(j1(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),mn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=Lm(n.substring(1),"/"):a=Lm(n,e)}else a=e;return{pathname:a,search:N1(s),hash:R1(o)}}function Lm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ec(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ny(t){let e=O1(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ry(t,e,n,s=!1){let o;typeof t=="string"?o=ri(t):(o={...t},qe(!o.pathname||!o.pathname.includes("?"),Ec("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Ec("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Ec("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,c;if(u==null)c=n;else{let y=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;o.pathname=w.join("/")}c=y>=0?e[y]:"/"}let h=T1(o,c),f=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var $n=t=>t.join("/").replace(/\/\/+/g,"/"),M1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function I1(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ay=["POST","PUT","PATCH","DELETE"];new Set(Ay);var D1=["GET",...Ay];new Set(D1);var si=v.createContext(null);si.displayName="DataRouter";var jl=v.createContext(null);jl.displayName="DataRouterState";v.createContext(!1);var Iy=v.createContext({isTransitioning:!1});Iy.displayName="ViewTransition";var U1=v.createContext(new Map);U1.displayName="Fetchers";var $1=v.createContext(null);$1.displayName="Await";var gn=v.createContext(null);gn.displayName="Navigation";var jo=v.createContext(null);jo.displayName="Location";var _n=v.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var Vd=v.createContext(null);Vd.displayName="RouteError";function B1(t,{relative:e}={}){qe(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=v.useContext(gn),{hash:o,pathname:a,search:u}=Oo(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:$n([n,a])),s.createHref({pathname:c,search:u,hash:o})}function To(){return v.useContext(jo)!=null}function zn(){return qe(To(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(jo).location}var Dy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uy(t){v.useContext(gn).static||v.useLayoutEffect(t)}function Tl(){let{isDataRoute:t}=v.useContext(_n);return t?ek():V1()}function V1(){qe(To(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(si),{basename:e,navigator:n}=v.useContext(gn),{matches:s}=v.useContext(_n),{pathname:o}=zn(),a=JSON.stringify(Ny(s)),u=v.useRef(!1);return Uy(()=>{u.current=!0}),v.useCallback((h,f={})=>{if(mn(u.current,Dy),!u.current)return;if(typeof h=="number"){n.go(h);return}let m=Ry(h,JSON.parse(a),o,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:$n([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,o,t])}v.createContext(null);function F1(){let{matches:t}=v.useContext(_n),e=t[t.length-1];return e?e.params:{}}function Oo(t,{relative:e}={}){let{matches:n}=v.useContext(_n),{pathname:s}=zn(),o=JSON.stringify(Ny(n));return v.useMemo(()=>Ry(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function z1(t,e){return $y(t,e)}function $y(t,e,n,s,o){var P;qe(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(gn),{matches:u}=v.useContext(_n),c=u[u.length-1],h=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let C=y&&y.path||"";By(f,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let w=zn(),b;if(e){let C=typeof e=="string"?ri(e):e;qe(m==="/"||((P=C.pathname)==null?void 0:P.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=w;let k=b.pathname||"/",E=k;if(m!=="/"){let C=m.replace(/^\//,"").split("/");E="/"+k.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=Ty(t,{pathname:E});mn(y||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),mn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=q1(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:$n([m,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:$n([m,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),u,n,s,o);return e&&L?v.createElement(jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function W1(){let t=X1(),e=A1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:o},n):null,u)}var K1=v.createElement(W1,null),H1=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(_n.Provider,{value:this.props.routeContext},v.createElement(Vd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G1({routeContext:t,match:e,children:n}){let s=v.useContext(si);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(_n.Provider,{value:t},n)}function q1(t,e=[],n=null,s=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let m=a.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);qe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,h=-1;if(n)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=m),y.route.id){let{loaderData:w,errors:b}=n,k=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||k){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let f=n&&s?(m,y)=>{var w,b;s(m,{location:n.location,params:((b=(w=n.matches)==null?void 0:w[0])==null?void 0:b.params)??{},unstable_pattern:I1(n.matches),errorInfo:y})}:void 0;return a.reduceRight((m,y,w)=>{let b,k=!1,E=null,_=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||K1,c&&(h<0&&w===0?(By("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,_=null):h===w&&(k=!0,_=y.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,w+1)),P=()=>{let C;return b?C=E:k?C=_:y.route.Component?C=v.createElement(y.route.Component,null):y.route.element?C=y.route.element:C=m,v.createElement(G1,{match:y,routeContext:{outlet:m,matches:L,isDataRoute:n!=null},children:C})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?v.createElement(H1,{location:n.location,revalidation:n.revalidation,component:E,error:b,children:P(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:f}):P()},null)}function Fd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(t){let e=v.useContext(si);return qe(e,Fd(t)),e}function J1(t){let e=v.useContext(jl);return qe(e,Fd(t)),e}function Y1(t){let e=v.useContext(_n);return qe(e,Fd(t)),e}function zd(t){let e=Y1(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Q1(){return zd("useRouteId")}function X1(){var s;let t=v.useContext(Vd),e=J1("useRouteError"),n=zd("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function ek(){let{router:t}=Z1("useNavigate"),e=zd("useNavigate"),n=v.useRef(!1);return Uy(()=>{n.current=!0}),v.useCallback(async(o,a={})=>{mn(n.current,Dy),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Pm={};function By(t,e,n){!e&&!Pm[t]&&(Pm[t]=!0,mn(!1,n))}v.memo(tk);function tk({routes:t,future:e,state:n,unstable_onError:s}){return $y(t,void 0,n,s,e)}function Dn(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nk({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){qe(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[c,o,a,u]);typeof n=="string"&&(n=ri(n));let{pathname:f="/",search:m="",hash:y="",state:w=null,key:b="default"}=n,k=v.useMemo(()=>{let E=Bn(f,c);return E==null?null:{location:{pathname:E,search:m,hash:y,state:w,key:b},navigationType:s}},[c,f,m,y,w,b,s]);return mn(k!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:v.createElement(gn.Provider,{value:h},v.createElement(jo.Provider,{children:e,value:k}))}function rk({children:t,location:e}){return z1(nd(t),e)}function nd(t,e=[]){let n=[];return v.Children.forEach(t,(s,o)=>{if(!v.isValidElement(s))return;let a=[...e,o];if(s.type===v.Fragment){n.push.apply(n,nd(s.props.children,a));return}qe(s.type===Dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=nd(s.props.children,a)),n.push(u)}),n}var sl="get",il="application/x-www-form-urlencoded";function Ol(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function sk(t){return Ol(t)&&t.tagName.toLowerCase()==="button"}function ik(t){return Ol(t)&&t.tagName.toLowerCase()==="form"}function ok(t){return Ol(t)&&t.tagName.toLowerCase()==="input"}function ak(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lk(t,e){return t.button===0&&(!e||e==="_self")&&!ak(t)}var Ga=null;function uk(){if(Ga===null)try{new FormData(document.createElement("form"),0),Ga=!1}catch{Ga=!0}return Ga}var ck=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _c(t){return t!=null&&!ck.has(t)?(mn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):t}function dk(t,e){let n,s,o,a,u;if(ik(t)){let c=t.getAttribute("action");s=c?Bn(c,e):null,n=t.getAttribute("method")||sl,o=_c(t.getAttribute("enctype"))||il,a=new FormData(t)}else if(sk(t)||ok(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(s=h?Bn(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||sl,o=_c(t.getAttribute("formenctype"))||_c(c.getAttribute("enctype"))||il,a=new FormData(c,t),!uk()){let{name:f,type:m,value:y}=t;if(m==="image"){let w=f?`${f}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else f&&a.append(f,y)}}else{if(Ol(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sl,s=null,o=il,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hk(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Bn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function fk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mk(t,e,n){let s=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await fk(a,n);return u.links?u.links():[]}return[]}));return xk(s.flat(1).filter(pk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jm(t,e,n,s,o,a){let u=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var m;return n[f].pathname!==h.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>u(h,f)||c(h,f)):a==="data"?e.filter((h,f)=>{var y;let m=s.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(u(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function gk(t,e,{includeHydrateFallback:n}={}){return vk(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function vk(t){return[...new Set(t)]}function yk(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function xk(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let a=JSON.stringify(yk(o));return n.has(a)||(n.add(a),s.push({key:a,link:o})),s},[])}function Vy(){let t=v.useContext(si);return Wd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wk(){let t=v.useContext(jl);return Wd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kd=v.createContext(void 0);Kd.displayName="FrameworkContext";function Fy(){let t=v.useContext(Kd);return Wd(t,"You must render this element inside a <HydratedRouter> element"),t}function bk(t,e){let n=v.useContext(Kd),[s,o]=v.useState(!1),[a,u]=v.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,w=v.useRef(null);v.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=L=>{L.forEach(P=>{u(P.isIntersecting)})},_=new IntersectionObserver(E,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[t]),v.useEffect(()=>{if(s){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[s]);let b=()=>{o(!0)},k=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:eo(c,b),onBlur:eo(h,k),onMouseEnter:eo(f,b),onMouseLeave:eo(m,k),onTouchStart:eo(y,b)}]:[!1,w,{}]}function eo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kk({page:t,...e}){let{router:n}=Vy(),s=v.useMemo(()=>Ty(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?v.createElement(Ek,{page:t,matches:s,...e}):null}function Sk(t){let{manifest:e,routeModules:n}=Fy(),[s,o]=v.useState([]);return v.useEffect(()=>{let a=!1;return mk(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),s}function Ek({page:t,matches:e,...n}){let s=zn(),{manifest:o,routeModules:a}=Fy(),{basename:u}=Vy(),{loaderData:c,matches:h}=wk(),f=v.useMemo(()=>jm(t,e,h,o,s,"data"),[t,e,h,o,s]),m=v.useMemo(()=>jm(t,e,h,o,s,"assets"),[t,e,h,o,s]),y=v.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,E=!1;if(e.forEach(L=>{var C;let P=o.routes[L.route.id];!P||!P.hasLoader||(!f.some(T=>T.route.id===L.route.id)&&L.route.id in c&&((C=a[L.route.id])!=null&&C.shouldRevalidate)||P.hasClientLoader?E=!0:k.add(L.route.id))}),k.size===0)return[];let _=hk(t,u,"data");return E&&k.size>0&&_.searchParams.set("_routes",e.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[_.pathname+_.search]},[u,c,s,o,f,e,t,a]),w=v.useMemo(()=>gk(m,o),[m,o]),b=Sk(m);return v.createElement(v.Fragment,null,y.map(k=>v.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),w.map(k=>v.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),b.map(({key:k,link:E})=>v.createElement("link",{key:k,nonce:n.nonce,...E})))}function _k(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zy&&(window.__reactRouterVersion="7.10.1")}catch{}function Ck({basename:t,children:e,unstable_useTransitions:n,window:s}){let o=v.useRef();o.current==null&&(o.current=d1({window:s,v5Compat:!0}));let a=o.current,[u,c]=v.useState({action:a.action,location:a.location}),h=v.useCallback(f=>{n===!1?c(f):v.startTransition(()=>c(f))},[n]);return v.useLayoutEffect(()=>a.listen(h),[a,h]),v.createElement(nk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n===!0})}var Wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=v.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:a,replace:u,state:c,target:h,to:f,preventScrollReset:m,viewTransition:y,...w},b){let{basename:k,unstable_useTransitions:E}=v.useContext(gn),_=typeof f=="string"&&Wy.test(f),L,P=!1;if(typeof f=="string"&&_&&(L=f,zy))try{let F=new URL(window.location.href),q=f.startsWith("//")?new URL(F.protocol+f):new URL(f),ne=Bn(q.pathname,k);q.origin===F.origin&&ne!=null?f=ne+q.search+q.hash:P=!0}catch{mn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=B1(f,{relative:o}),[T,O,A]=bk(s,w),D=Tk(f,{replace:u,state:c,target:h,preventScrollReset:m,relative:o,viewTransition:y,unstable_useTransitions:E});function W(F){e&&e(F),F.defaultPrevented||D(F)}let $=v.createElement("a",{...w,...A,href:L||C,onClick:P||a?e:W,ref:_k(b,O),target:h,"data-discover":!_&&n==="render"?"true":void 0});return T&&!_?v.createElement(v.Fragment,null,$,v.createElement(kk,{page:C})):$});Ye.displayName="Link";var Lk=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:a,to:u,viewTransition:c,children:h,...f},m){let y=Oo(u,{relative:f.relative}),w=zn(),b=v.useContext(jl),{navigator:k,basename:E}=v.useContext(gn),_=b!=null&&Ak(y)&&c===!0,L=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,P=w.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(P=P.toLowerCase(),C=C?C.toLowerCase():null,L=L.toLowerCase()),C&&E&&(C=Bn(C,E)||C);const T=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let O=P===L||!o&&P.startsWith(L)&&P.charAt(T)==="/",A=C!=null&&(C===L||!o&&C.startsWith(L)&&C.charAt(L.length)==="/"),D={isActive:O,isPending:A,isTransitioning:_},W=O?e:void 0,$;typeof s=="function"?$=s(D):$=[s,O?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(D):a;return v.createElement(Ye,{...f,"aria-current":W,className:$,ref:m,style:F,to:u,viewTransition:c},typeof h=="function"?h(D):h)});Lk.displayName="NavLink";var Pk=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:a,method:u=sl,action:c,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:y,...w},b)=>{let{unstable_useTransitions:k}=v.useContext(gn),E=Nk(),_=Rk(c,{relative:f}),L=u.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&Wy.test(c),C=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let O=T.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||u,D=()=>E(O||T.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:o,state:a,relative:f,preventScrollReset:m,viewTransition:y});k&&n!==!1?v.startTransition(()=>D()):D()};return v.createElement("form",{ref:b,method:L,action:_,onSubmit:s?h:C,...w,"data-discover":!P&&t==="render"?"true":void 0})});Pk.displayName="Form";function jk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ky(t){let e=v.useContext(si);return qe(e,jk(t)),e}function Tk(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:u,unstable_useTransitions:c}={}){let h=Tl(),f=zn(),m=Oo(t,{relative:a});return v.useCallback(y=>{if(lk(y,e)){y.preventDefault();let w=n!==void 0?n:mo(f)===mo(m),b=()=>h(t,{replace:w,state:s,preventScrollReset:o,relative:a,viewTransition:u});c?v.startTransition(()=>b()):b()}},[f,h,m,n,s,e,t,o,a,u,c])}var Ok=0,Mk=()=>`__${String(++Ok)}__`;function Nk(){let{router:t}=Ky("useSubmit"),{basename:e}=v.useContext(gn),n=Q1(),s=t.fetch,o=t.navigate;return v.useCallback(async(a,u={})=>{let{action:c,method:h,encType:f,formData:m,body:y}=dk(a,e);if(u.navigate===!1){let w=u.fetcherKey||Mk();await s(w,n,u.action||c,{preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||h,formEncType:u.encType||f,flushSync:u.flushSync})}else await o(u.action||c,{preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||h,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,n])}function Rk(t,{relative:e}={}){let{basename:n}=v.useContext(gn),s=v.useContext(_n);qe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...Oo(t||".",{relative:e})},u=zn();if(t==null){a.search=u.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:$n([n,a.pathname])),mo(a)}function Ak(t,{relative:e}={}){let n=v.useContext(Iy);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ky("useViewTransitionState"),o=Oo(t,{relative:e});if(!n.isTransitioning)return!1;let a=Bn(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Bn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return cl(o.pathname,u)!=null||cl(o.pathname,a)!=null}var ii=jy();const Hy=v.createContext({});function Ik(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hd=typeof window<"u",Dk=Hd?v.useLayoutEffect:v.useEffect,Gd=v.createContext(null);function qd(t,e){t.indexOf(e)===-1&&t.push(e)}function Zd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vn=(t,e,n)=>n>e?e:n<t?t:n;let Jd=()=>{};const Fn={},Gy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qy(t){return typeof t=="object"&&t!==null}const Zy=t=>/^0[^.\s]+$/u.test(t);function Yd(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qt=t=>t,Uk=(t,e)=>n=>e(t(n)),Mo=(...t)=>t.reduce(Uk),go=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Qd{constructor(){this.subscriptions=[]}add(e){return qd(this.subscriptions,e),()=>Zd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sn=t=>t*1e3,Yt=t=>t/1e3;function Jy(t,e){return e?t*(1e3/e):0}const Yy=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$k=1e-7,Bk=12;function Vk(t,e,n,s,o){let a,u,c=0;do u=e+(n-e)/2,a=Yy(u,s,o)-t,a>0?n=u:e=u;while(Math.abs(a)>$k&&++c<Bk);return u}function No(t,e,n,s){if(t===e&&n===s)return Qt;const o=a=>Vk(a,0,1,t,n);return a=>a===0||a===1?a:Yy(o(a),e,s)}const Qy=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Xy=t=>e=>1-t(1-e),e0=No(.33,1.53,.69,.99),Xd=Xy(e0),t0=Qy(Xd),n0=t=>(t*=2)<1?.5*Xd(t):.5*(2-Math.pow(2,-10*(t-1))),eh=t=>1-Math.sin(Math.acos(t)),r0=Xy(eh),s0=Qy(eh),Fk=No(.42,0,1,1),zk=No(0,0,.58,1),i0=No(.42,0,.58,1),Wk=t=>Array.isArray(t)&&typeof t[0]!="number",o0=t=>Array.isArray(t)&&typeof t[0]=="number",Kk={linear:Qt,easeIn:Fk,easeInOut:i0,easeOut:zk,circIn:eh,circInOut:s0,circOut:r0,backIn:Xd,backInOut:t0,backOut:e0,anticipate:n0},Hk=t=>typeof t=="string",Tm=t=>{if(o0(t)){Jd(t.length===4);const[e,n,s,o]=t;return No(e,n,s,o)}else if(Hk(t))return Kk[t];return t},qa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Gk(t,e){let n=new Set,s=new Set,o=!1,a=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){u.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,y=!1,w=!1)=>{const k=w&&o?n:s;return y&&u.add(m),k.has(m)||k.add(m),m},cancel:m=>{s.delete(m),u.delete(m)},process:m=>{if(c=m,o){a=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,a&&(a=!1,f.process(m))}};return f}const qk=40;function a0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=qa.reduce((C,T)=>(C[T]=Gk(a),C),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:m,update:y,preRender:w,render:b,postRender:k}=u,E=()=>{const C=Fn.useManualTiming?o.timestamp:performance.now();n=!1,Fn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,qk),1)),o.timestamp=C,o.isProcessing=!0,c.process(o),h.process(o),f.process(o),m.process(o),y.process(o),w.process(o),b.process(o),k.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(E))},_=()=>{n=!0,s=!0,o.isProcessing||t(E)};return{schedule:qa.reduce((C,T)=>{const O=u[T];return C[T]=(A,D=!1,W=!1)=>(n||_(),O.schedule(A,D,W)),C},{}),cancel:C=>{for(let T=0;T<qa.length;T++)u[qa[T]].cancel(C)},state:o,steps:u}}const{schedule:ze,cancel:Er,state:vt,steps:Cc}=a0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qt,!0);let ol;function Zk(){ol=void 0}const Rt={now:()=>(ol===void 0&&Rt.set(vt.isProcessing||Fn.useManualTiming?vt.timestamp:performance.now()),ol),set:t=>{ol=t,queueMicrotask(Zk)}},l0=t=>e=>typeof e=="string"&&e.startsWith(t),u0=l0("--"),Jk=l0("var(--"),th=t=>Jk(t)?Yk.test(t.split("/*")[0].trim()):!1,Yk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vo={...oi,transform:t=>Vn(0,1,t)},Za={...oi,default:1},ao=t=>Math.round(t*1e5)/1e5,nh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qk(t){return t==null}const Xk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rh=(t,e)=>n=>!!(typeof n=="string"&&Xk.test(n)&&n.startsWith(t)||e&&!Qk(n)&&Object.prototype.hasOwnProperty.call(n,e)),c0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,a,u,c]=s.match(nh);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},eS=t=>Vn(0,255,t),Lc={...oi,transform:t=>Math.round(eS(t))},rs={test:rh("rgb","red"),parse:c0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Lc.transform(t)+", "+Lc.transform(e)+", "+Lc.transform(n)+", "+ao(vo.transform(s))+")"};function tS(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const rd={test:rh("#"),parse:tS,transform:rs.transform},Ro=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yr=Ro("deg"),En=Ro("%"),Se=Ro("px"),nS=Ro("vh"),rS=Ro("vw"),Om={...En,parse:t=>En.parse(t)/100,transform:t=>En.transform(t*100)},Ks={test:rh("hsl","hue"),parse:c0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+En.transform(ao(e))+", "+En.transform(ao(n))+", "+ao(vo.transform(s))+")"},st={test:t=>rs.test(t)||rd.test(t)||Ks.test(t),parse:t=>rs.test(t)?rs.parse(t):Ks.test(t)?Ks.parse(t):rd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rs.transform(t):Ks.transform(t),getAnimatableNone:t=>{const e=st.parse(t);return e.alpha=0,st.transform(e)}},sS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iS(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(nh))==null?void 0:e.length)||0)+(((n=t.match(sS))==null?void 0:n.length)||0)>0}const d0="number",h0="color",oS="var",aS="var(",Mm="${}",lS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const c=e.replace(lS,h=>(st.test(h)?(s.color.push(a),o.push(h0),n.push(st.parse(h))):h.startsWith(aS)?(s.var.push(a),o.push(oS),n.push(h)):(s.number.push(a),o.push(d0),n.push(parseFloat(h))),++a,Mm)).split(Mm);return{values:n,split:c,indexes:s,types:o}}function f0(t){return yo(t).values}function p0(t){const{split:e,types:n}=yo(t),s=e.length;return o=>{let a="";for(let u=0;u<s;u++)if(a+=e[u],o[u]!==void 0){const c=n[u];c===d0?a+=ao(o[u]):c===h0?a+=st.transform(o[u]):a+=o[u]}return a}}const uS=t=>typeof t=="number"?0:st.test(t)?st.getAnimatableNone(t):t;function cS(t){const e=f0(t);return p0(t)(e.map(uS))}const _r={test:iS,parse:f0,createTransformer:p0,getAnimatableNone:cS};function Pc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dS({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;o=Pc(h,c,t+1/3),a=Pc(h,c,t),u=Pc(h,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:s}}function dl(t,e){return n=>n>0?e:t}const Ge=(t,e,n)=>t+(e-t)*n,jc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},hS=[rd,rs,Ks],fS=t=>hS.find(e=>e.test(t));function Nm(t){const e=fS(t);if(!e)return!1;let n=e.parse(t);return e===Ks&&(n=dS(n)),n}const Rm=(t,e)=>{const n=Nm(t),s=Nm(e);if(!n||!s)return dl(t,e);const o={...n};return a=>(o.red=jc(n.red,s.red,a),o.green=jc(n.green,s.green,a),o.blue=jc(n.blue,s.blue,a),o.alpha=Ge(n.alpha,s.alpha,a),rs.transform(o))},sd=new Set(["none","hidden"]);function pS(t,e){return sd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mS(t,e){return n=>Ge(t,e,n)}function sh(t){return typeof t=="number"?mS:typeof t=="string"?th(t)?dl:st.test(t)?Rm:yS:Array.isArray(t)?m0:typeof t=="object"?st.test(t)?Rm:gS:dl}function m0(t,e){const n=[...t],s=n.length,o=t.map((a,u)=>sh(a)(a,e[u]));return a=>{for(let u=0;u<s;u++)n[u]=o[u](a);return n}}function gS(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=sh(t[o])(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function vS(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][s[a]],c=t.values[u]??0;n[o]=c,s[a]++}return n}const yS=(t,e)=>{const n=_r.createTransformer(e),s=yo(t),o=yo(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?sd.has(t)&&!o.values.length||sd.has(e)&&!s.values.length?pS(t,e):Mo(m0(vS(s,o),o.values),n):dl(t,e)};function g0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):sh(t)(t,e)}const xS=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ze.update(e,n),stop:()=>Er(e),now:()=>vt.isProcessing?vt.timestamp:Rt.now()}},v0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},hl=2e4;function ih(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<hl;)e+=n,s=t.next(e);return e>=hl?1/0:e}function wS(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(ih(s),hl);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:Yt(o)}}const bS=5;function y0(t,e,n){const s=Math.max(e-bS,0);return Jy(n-t(s),e-s)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tc=.001;function kS({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:n=Xe.velocity,mass:s=Xe.mass}){let o,a,u=1-e;u=Vn(Xe.minDamping,Xe.maxDamping,u),t=Vn(Xe.minDuration,Xe.maxDuration,Yt(t)),u<1?(o=f=>{const m=f*u,y=m*t,w=m-n,b=id(f,u),k=Math.exp(-y);return Tc-w/b*k},a=f=>{const y=f*u*t,w=y*n+n,b=Math.pow(u,2)*Math.pow(f,2)*t,k=Math.exp(-y),E=id(Math.pow(f,2),u);return(-o(f)+Tc>0?-1:1)*((w-b)*k)/E}):(o=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-Tc+m*y},a=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const c=5/t,h=ES(o,a,c);if(t=Sn(t),isNaN(h))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:u*2*Math.sqrt(s*f),duration:t}}}const SS=12;function ES(t,e,n){let s=n;for(let o=1;o<SS;o++)s=s-t(s)/e(s);return s}function id(t,e){return t*Math.sqrt(1-e*e)}const _S=["duration","bounce"],CS=["stiffness","damping","mass"];function Am(t,e){return e.some(n=>t[n]!==void 0)}function LS(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!Am(t,CS)&&Am(t,_S))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*Vn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Xe.mass,stiffness:o,damping:a}}else{const n=kS(t);e={...e,...n,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function fl(t=Xe.visualDuration,e=Xe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:f,mass:m,duration:y,velocity:w,isResolvedFromDuration:b}=LS({...n,velocity:-Yt(n.velocity||0)}),k=w||0,E=f/(2*Math.sqrt(h*m)),_=u-a,L=Yt(Math.sqrt(h/m)),P=Math.abs(_)<5;s||(s=P?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=P?Xe.restDelta.granular:Xe.restDelta.default);let C;if(E<1){const O=id(L,E);C=A=>{const D=Math.exp(-E*L*A);return u-D*((k+E*L*_)/O*Math.sin(O*A)+_*Math.cos(O*A))}}else if(E===1)C=O=>u-Math.exp(-L*O)*(_+(k+L*_)*O);else{const O=L*Math.sqrt(E*E-1);C=A=>{const D=Math.exp(-E*L*A),W=Math.min(O*A,300);return u-D*((k+E*L*_)*Math.sinh(W)+O*_*Math.cosh(W))/O}}const T={calculatedDuration:b&&y||null,next:O=>{const A=C(O);if(b)c.done=O>=y;else{let D=O===0?k:0;E<1&&(D=O===0?Sn(k):y0(C,O,A));const W=Math.abs(D)<=s,$=Math.abs(u-A)<=o;c.done=W&&$}return c.value=c.done?u:A,c},toString:()=>{const O=Math.min(ih(T),hl),A=v0(D=>T.next(O*D).value,O,30);return O+"ms "+A},toTransition:()=>{}};return T}fl.applyToOptions=t=>{const e=wS(t,100,fl);return t.ease=e.ease,t.duration=Sn(e.duration),t.type="keyframes",t};function od({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:c,max:h,restDelta:f=.5,restSpeed:m}){const y=t[0],w={done:!1,value:y},b=W=>c!==void 0&&W<c||h!==void 0&&W>h,k=W=>c===void 0?h:h===void 0||Math.abs(c-W)<Math.abs(h-W)?c:h;let E=n*e;const _=y+E,L=u===void 0?_:u(_);L!==_&&(E=L-y);const P=W=>-E*Math.exp(-W/s),C=W=>L+P(W),T=W=>{const $=P(W),F=C(W);w.done=Math.abs($)<=f,w.value=w.done?L:F};let O,A;const D=W=>{b(w.value)&&(O=W,A=fl({keyframes:[w.value,k(w.value)],velocity:y0(C,W,w.value),damping:o,stiffness:a,restDelta:f,restSpeed:m}))};return D(0),{calculatedDuration:null,next:W=>{let $=!1;return!A&&O===void 0&&($=!0,T(W),D(W)),O!==void 0&&W>=O?A.next(W-O):(!$&&T(W),w)}}}function PS(t,e,n){const s=[],o=n||Fn.mix||g0,a=t.length-1;for(let u=0;u<a;u++){let c=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Qt:e;c=Mo(h,c)}s.push(c)}return s}function jS(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(Jd(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=PS(e,s,o),h=c.length,f=m=>{if(u&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const w=go(t[y],t[y+1],m);return c[y](w)};return n?m=>f(Vn(t[0],t[a-1],m)):f}function TS(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=go(0,e,s);t.push(Ge(n,1,o))}}function OS(t){const e=[0];return TS(e,t.length-1),e}function MS(t,e){return t.map(n=>n*e)}function NS(t,e){return t.map(()=>e||i0).splice(0,t.length-1)}function lo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=Wk(s)?s.map(Tm):Tm(s),a={done:!1,value:e[0]},u=MS(n&&n.length===e.length?n:OS(e),t),c=jS(u,e,{ease:Array.isArray(o)?o:NS(e,o)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const RS=t=>t!==null;function oh(t,{repeat:e,repeatType:n="loop"},s,o=1){const a=t.filter(RS),c=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||s===void 0?a[c]:s}const AS={decay:od,inertia:od,tween:lo,keyframes:lo,spring:fl};function x0(t){typeof t.type=="string"&&(t.type=AS[t.type])}class ah{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const IS=t=>t/100;class lh extends ah{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x0(e);const{type:n=lo,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:c}=e;const h=n||lo;h!==lo&&typeof c[0]!="number"&&(this.mixKeyframes=Mo(IS,g0(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=ih(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:m,repeat:y,repeatType:w,repeatDelay:b,type:k,onUpdate:E,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-f*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?L<0:L>o;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,T=s;if(y){const W=Math.min(this.currentTime,o)/c;let $=Math.floor(W),F=W%1;!F&&W>=1&&(F=1),F===1&&$--,$=Math.min($,y+1),!!($%2)&&(w==="reverse"?(F=1-F,b&&(F-=b/c)):w==="mirror"&&(T=u)),C=Vn(0,1,F)*c}const O=P?{done:!1,value:m[0]}:T.next(C);a&&(O.value=a(O.value));let{done:A}=O;!P&&h!==null&&(A=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return D&&k!==od&&(O.value=oh(m,this.options,_,this.speed)),E&&E(O.value),D&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return Yt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yt(e)}get time(){return Yt(this.currentTime)}set time(e){var n;e=Sn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yt(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=xS,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function DS(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ss=t=>t*180/Math.PI,ad=t=>{const e=ss(Math.atan2(t[1],t[0]));return ld(e)},US={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ad,rotateZ:ad,skewX:t=>ss(Math.atan(t[1])),skewY:t=>ss(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ld=t=>(t=t%360,t<0&&(t+=360),t),Im=ad,Dm=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Um=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$S={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dm,scaleY:Um,scale:t=>(Dm(t)+Um(t))/2,rotateX:t=>ld(ss(Math.atan2(t[6],t[5]))),rotateY:t=>ld(ss(Math.atan2(-t[2],t[0]))),rotateZ:Im,rotate:Im,skewX:t=>ss(Math.atan(t[4])),skewY:t=>ss(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ud(t){return t.includes("scale")?1:0}function cd(t,e){if(!t||t==="none")return ud(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=$S,o=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=US,o=c}if(!o)return ud(e);const a=s[e],u=o[1].split(",").map(VS);return typeof a=="function"?a(u):u[a]}const BS=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cd(n,e)};function VS(t){return parseFloat(t.trim())}const ai=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],li=new Set(ai),$m=t=>t===oi||t===Se,FS=new Set(["x","y","z"]),zS=ai.filter(t=>!FS.has(t));function WS(t){const e=[];return zS.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const os={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cd(e,"x"),y:(t,{transform:e})=>cd(e,"y")};os.translateX=os.x;os.translateY=os.y;const as=new Set;let dd=!1,hd=!1,fd=!1;function w0(){if(hd){const t=Array.from(as).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=WS(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,u])=>{var c;(c=s.getValue(a))==null||c.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hd=!1,dd=!1,as.forEach(t=>t.complete(fd)),as.clear()}function b0(){as.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hd=!0)})}function KS(){fd=!0,b0(),w0(),fd=!1}class uh{constructor(e,n,s,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(as.add(this),dd||(dd=!0,ze.read(b0),ze.resolveKeyframes(w0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const c=s.readValue(n,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}DS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),as.delete(this)}cancel(){this.state==="scheduled"&&(as.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HS=t=>t.startsWith("--");function GS(t,e,n){HS(e)?t.style.setProperty(e,n):t.style[e]=n}const qS=Yd(()=>window.ScrollTimeline!==void 0),ZS={};function JS(t,e){const n=Yd(t);return()=>ZS[e]??n()}const k0=JS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),io=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Bm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:io([0,.65,.55,1]),circOut:io([.55,0,1,.45]),backIn:io([.31,.01,.66,-.59]),backOut:io([.33,1.53,.69,.99])};function S0(t,e){if(t)return typeof t=="function"?k0()?v0(t,e):"ease-out":o0(t)?io(t):Array.isArray(t)?t.map(n=>S0(n,e)||Bm.easeOut):Bm[t]}function YS(t,e,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:c="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const y=S0(c,o);Array.isArray(y)&&(m.easing=y);const w={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),t.animate(m,w)}function E0(t){return typeof t=="function"&&"applyToOptions"in t}function QS({type:t,...e}){return E0(t)&&k0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XS extends ah{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Jd(typeof e.type!="string");const f=QS(e);this.animation=YS(n,s,o,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=oh(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):GS(n,s,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Yt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yt(e)}get time(){return Yt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&qS()?(this.animation.timeline=e,Qt):n(this)}}const _0={anticipate:n0,backInOut:t0,circInOut:s0};function eE(t){return t in _0}function tE(t){typeof t.ease=="string"&&eE(t.ease)&&(t.ease=_0[t.ease])}const Vm=10;class nE extends XS{constructor(e){tE(e),x0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new lh({...u,autoplay:!1}),h=Sn(this.finishedTime??this.time);n.setWithVelocity(c.sample(h-Vm).value,c.sample(h).value,Vm),c.stop()}}const Fm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_r.test(t)||t==="0")&&!t.startsWith("url("));function rE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sE(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Fm(o,e),c=Fm(a,e);return!u||!c?!1:rE(t)||(n==="spring"||E0(n))&&s}function pd(t){t.duration=0,t.type="keyframes"}const iE=new Set(["opacity","clipPath","filter","transform"]),oE=Yd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aE(t){var m;const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:a,type:u}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return oE()&&n&&iE.has(n)&&(n!=="transform"||!f)&&!h&&!s&&o!=="mirror"&&a!==0&&u!=="inertia"}const lE=40;class uE extends ah{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:c,name:h,motionValue:f,element:m,...y}){var k;super(),this.stop=()=>{var E,_;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Rt.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:u,name:h,motionValue:f,element:m,...y},b=(m==null?void 0:m.KeyframeResolver)||uh;this.keyframeResolver=new b(c,(E,_,L)=>this.onKeyframesResolved(E,_,w,!L),h,f,m),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:c,delay:h,isHandoff:f,onUpdate:m}=s;this.resolvedAt=Rt.now(),sE(e,a,u,c)||((Fn.instantAnimations||!h)&&(m==null||m(oh(e,s,n))),e[0]=e[e.length-1],pd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>lE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!f&&aE(w)?new nE({...w,element:w.motionValue.owner.current}):new lh(w);b.finished.then(()=>this.notifyFinished()).catch(Qt),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),KS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const cE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dE(t){const e=cE.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function C0(t,e,n=1){const[s,o]=dE(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const u=a.trim();return Gy(u)?parseFloat(u):u}return th(o)?C0(o,e,n+1):o}function ch(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const L0=new Set(["width","height","top","left","right","bottom",...ai]),hE={test:t=>t==="auto",parse:t=>t},P0=t=>e=>e.test(t),j0=[oi,Se,En,yr,rS,nS,hE],zm=t=>j0.find(P0(t));function fE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Zy(t):!0}const pE=new Set(["brightness","contrast","saturate","opacity"]);function mE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(nh)||[];if(!s)return t;const o=n.replace(s,"");let a=pE.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const gE=/\b([a-z-]*)\(.*?\)/gu,md={..._r,getAnimatableNone:t=>{const e=t.match(gE);return e?e.map(mE).join(" "):t}},Wm={...oi,transform:Math.round},vE={rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:Za,scaleX:Za,scaleY:Za,scaleZ:Za,skew:yr,skewX:yr,skewY:yr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:vo,originX:Om,originY:Om,originZ:Se},dh={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...vE,zIndex:Wm,fillOpacity:vo,strokeOpacity:vo,numOctaves:Wm},yE={...dh,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:md,WebkitFilter:md},T0=t=>yE[t];function O0(t,e){let n=T0(t);return n!==md&&(n=_r),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xE=new Set(["auto","none","0"]);function wE(t,e,n){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!xE.has(a)&&yo(a).values.length&&(o=t[s]),s++}if(o&&n)for(const a of e)t[a]=O0(n,o)}class bE extends uh{constructor(e,n,s,o,a){super(e,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),th(f))){const m=C0(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!L0.has(s)||e.length!==2)return;const[o,a]=e,u=zm(o),c=zm(a);if(u!==c)if($m(u)&&$m(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else os[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||fE(e[o]))&&s.push(o);s.length&&wE(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=os[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=os[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function kE(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=(n==null?void 0:n[t])??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const M0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function SE(t){return qy(t)&&"offsetHeight"in t}const Km=30,EE=t=>!isNaN(parseFloat(t));class _E{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const o=Rt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=EE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qd);const s=this.events[e].add(n);return e==="change"?()=>{s(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Km)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Km);return Jy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ti(t,e){return new _E(t,e)}const{schedule:hh}=a0(queueMicrotask,!1),dn={x:!1,y:!1};function N0(){return dn.x||dn.y}function CE(t){return t==="x"||t==="y"?dn[t]?null:(dn[t]=!0,()=>{dn[t]=!1}):dn.x||dn.y?null:(dn.x=dn.y=!0,()=>{dn.x=dn.y=!1})}function R0(t,e){const n=kE(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function Hm(t){return!(t.pointerType==="touch"||N0())}function LE(t,e,n={}){const[s,o,a]=R0(t,n),u=c=>{if(!Hm(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const m=y=>{Hm(y)&&(f(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(c=>{c.addEventListener("pointerenter",u,o)}),a}const A0=(t,e)=>e?t===e?!0:A0(t,e.parentElement):!1,fh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jE(t){return PE.has(t.tagName)||t.tabIndex!==-1}const al=new WeakSet;function Gm(t){return e=>{e.key==="Enter"&&t(e)}}function Oc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TE=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Gm(()=>{if(al.has(n))return;Oc(n,"down");const o=Gm(()=>{Oc(n,"up")}),a=()=>Oc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function qm(t){return fh(t)&&!N0()}function OE(t,e,n={}){const[s,o,a]=R0(t,n),u=c=>{const h=c.currentTarget;if(!qm(c))return;al.add(h);const f=e(h,c),m=(b,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),al.has(h)&&al.delete(h),qm(b)&&typeof f=="function"&&f(b,{success:k})},y=b=>{m(b,h===window||h===document||n.useGlobalTarget||A0(h,b.target))},w=b=>{m(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,o),SE(c)&&(c.addEventListener("focus",f=>TE(f,o)),!jE(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function I0(t){return qy(t)&&"ownerSVGElement"in t}function ME(t){return I0(t)&&t.tagName==="svg"}const kt=t=>!!(t&&t.getVelocity),NE=[...j0,st,_r],RE=t=>NE.find(P0(t)),D0=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function AE(t=!0){const e=v.useContext(Gd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,a=v.useId();v.useEffect(()=>{if(t)return o(a)},[t]);const u=v.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,u]:[!0]}const U0=v.createContext({strict:!1}),Zm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ni={};for(const t in Zm)ni[t]={isEnabled:e=>Zm[t].some(n=>!!e[n])};function IE(t){for(const e in t)ni[e]={...ni[e],...t[e]}}const DE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DE.has(t)}let $0=t=>!pl(t);function UE(t){typeof t=="function"&&($0=e=>e.startsWith("on")?!pl(e):t(e))}try{UE(require("@emotion/is-prop-valid").default)}catch{}function $E(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||($0(o)||n===!0&&pl(o)||!e&&!pl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Ml=v.createContext({});function Nl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xo(t){return typeof t=="string"||Array.isArray(t)}const ph=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mh=["initial",...ph];function Rl(t){return Nl(t.animate)||mh.some(e=>xo(t[e]))}function B0(t){return!!(Rl(t)||t.variants)}function BE(t,e){if(Rl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||xo(n)?n:void 0,animate:xo(s)?s:void 0}}return t.inherit!==!1?e:{}}function VE(t){const{initial:e,animate:n}=BE(t,v.useContext(Ml));return v.useMemo(()=>({initial:e,animate:n}),[Jm(e),Jm(n)])}function Jm(t){return Array.isArray(t)?t.join(" "):t}function Ym(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const to={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=Ym(t,e.target.x),s=Ym(t,e.target.y);return`${n}% ${s}%`}},FE={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=_r.parse(t);if(o.length>5)return s;const a=_r.createTransformer(t),u=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const f=Ge(c,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),a(o)}},gd={borderRadius:{...to,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:to,borderTopRightRadius:to,borderBottomLeftRadius:to,borderBottomRightRadius:to,boxShadow:FE};function V0(t,{layout:e,layoutId:n}){return li.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gd[t]||t==="opacity")}const zE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WE=ai.length;function KE(t,e,n){let s="",o=!0;for(let a=0;a<WE;a++){const u=ai[a],c=t[u];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(u.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=M0(c,dh[u]);if(!h){o=!1;const m=zE[u]||u;s+=`${m}(${f}) `}n&&(e[u]=f)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function gh(t,e,n){const{style:s,vars:o,transformOrigin:a}=t;let u=!1,c=!1;for(const h in e){const f=e[h];if(li.has(h)){u=!0;continue}else if(u0(h)){o[h]=f;continue}else{const m=M0(f,dh[h]);h.startsWith("origin")?(c=!0,a[h]=m):s[h]=m}}if(e.transform||(u||n?s.transform=KE(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${f} ${m}`}}const vh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F0(t,e,n){for(const s in e)!kt(e[s])&&!V0(s,n)&&(t[s]=e[s])}function HE({transformTemplate:t},e){return v.useMemo(()=>{const n=vh();return gh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GE(t,e){const n=t.style||{},s={};return F0(s,n,t),Object.assign(s,HE(t,e)),s}function qE(t,e){const n={},s=GE(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const ZE={offset:"stroke-dashoffset",array:"stroke-dasharray"},JE={offset:"strokeDashoffset",array:"strokeDasharray"};function YE(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?ZE:JE;t[a.offset]=Se.transform(-s);const u=Se.transform(e),c=Se.transform(n);t[a.array]=`${u} ${c}`}function z0(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,f,m){if(gh(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&YE(y,o,a,u,!1)}const W0=()=>({...vh(),attrs:{}}),K0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QE(t,e,n,s){const o=v.useMemo(()=>{const a=W0();return z0(a,e,K0(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};F0(a,t.style,t),o.style={...a,...o.style}}return o}const XE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yh(t){return typeof t!="string"||t.includes("-")?!1:!!(XE.indexOf(t)>-1||/[A-Z]/u.test(t))}function e_(t,e,n,{latestValues:s},o,a=!1){const c=(yh(t)?QE:qE)(e,s,o,t),h=$E(e,typeof t=="string",a),f=t!==v.Fragment?{...h,...c,ref:n}:{},{children:m}=e,y=v.useMemo(()=>kt(m)?m.get():m,[m]);return v.createElement(t,{...f,children:y})}function Qm(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function xh(t,e,n,s){if(typeof e=="function"){const[o,a]=Qm(s);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Qm(s);e=e(n!==void 0?n:t.custom,o,a)}return e}function ll(t){return kt(t)?t.get():t}function t_({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:n_(n,s,o,t),renderState:e()}}function n_(t,e,n,s){const o={},a=s(t,{});for(const w in a)o[w]=ll(a[w]);let{initial:u,animate:c}=t;const h=Rl(t),f=B0(t);e&&f&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const y=m?c:u;if(y&&typeof y!="boolean"&&!Nl(y)){const w=Array.isArray(y)?y:[y];for(let b=0;b<w.length;b++){const k=xh(t,w[b]);if(k){const{transitionEnd:E,transition:_,...L}=k;for(const P in L){let C=L[P];if(Array.isArray(C)){const T=m?C.length-1:0;C=C[T]}C!==null&&(o[P]=C)}for(const P in E)o[P]=E[P]}}}return o}const H0=t=>(e,n)=>{const s=v.useContext(Ml),o=v.useContext(Gd),a=()=>t_(t,e,s,o);return n?a():Ik(a)};function wh(t,e,n){var a;const{style:s}=t,o={};for(const u in s)(kt(s[u])||e.style&&kt(e.style[u])||V0(u,t)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(o[u]=s[u]);return o}const r_=H0({scrapeMotionValuesFromProps:wh,createRenderState:vh});function G0(t,e,n){const s=wh(t,e,n);for(const o in t)if(kt(t[o])||kt(e[o])){const a=ai.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const s_=H0({scrapeMotionValuesFromProps:G0,createRenderState:W0}),i_=Symbol.for("motionComponentSymbol");function Hs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function o_(t,e,n){return v.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Hs(n)&&(n.current=s))},[e])}const bh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a_="framerAppearId",q0="data-"+bh(a_),Z0=v.createContext({});function l_(t,e,n,s,o){var E,_;const{visualElement:a}=v.useContext(Ml),u=v.useContext(U0),c=v.useContext(Gd),h=v.useContext(D0).reducedMotion,f=v.useRef(null);s=s||u.renderer,!f.current&&s&&(f.current=s(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,y=v.useContext(Z0);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&u_(f.current,n,o,y);const w=v.useRef(!1);v.useInsertionEffect(()=>{m&&w.current&&m.update(n,c)});const b=n[q0],k=v.useRef(!!b&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,b))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,b)));return Dk(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),k.current&&m.animationState&&m.animationState.animateChanges())}),v.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,b)}),k.current=!1),m.enteringChildren=void 0)}),m}function u_(t,e,n,s){const{layoutId:o,layout:a,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:J0(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||c&&Hs(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:f})}function J0(t){if(t)return t.options.allowProjection!==!1?t.projection:J0(t.parent)}function Mc(t,{forwardMotionProps:e=!1}={},n,s){n&&IE(n);const o=yh(t)?s_:r_;function a(c,h){let f;const m={...v.useContext(D0),...c,layoutId:c_(c)},{isStatic:y}=m,w=VE(c),b=o(c,y);if(!y&&Hd){d_();const k=h_(m);f=k.MeasureLayout,w.visualElement=l_(t,b,m,s,k.ProjectionNode)}return g.jsxs(Ml.Provider,{value:w,children:[f&&w.visualElement?g.jsx(f,{visualElement:w.visualElement,...m}):null,e_(t,c,o_(b,w.visualElement,h),b,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=v.forwardRef(a);return u[i_]=t,u}function c_({layoutId:t}){const e=v.useContext(Hy).id;return e&&t!==void 0?e+"-"+t:t}function d_(t,e){v.useContext(U0).strict}function h_(t){const{drag:e,layout:n}=ni;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function f_(t,e){if(typeof Proxy>"u")return Mc;const n=new Map,s=(a,u)=>Mc(a,u,t,e),o=(a,u)=>s(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?s:(n.has(u)||n.set(u,Mc(u,void 0,t,e)),n.get(u))})}function Y0({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function p_({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function m_(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Nc(t){return t===void 0||t===1}function vd({scale:t,scaleX:e,scaleY:n}){return!Nc(t)||!Nc(e)||!Nc(n)}function Qr(t){return vd(t)||Q0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Q0(t){return Xm(t.x)||Xm(t.y)}function Xm(t){return t&&t!=="0%"}function ml(t,e,n){const s=t-n,o=e*s;return n+o}function eg(t,e,n,s,o){return o!==void 0&&(t=ml(t,o,s)),ml(t,n,s)+e}function yd(t,e=0,n=1,s,o){t.min=eg(t.min,e,n,s,o),t.max=eg(t.max,e,n,s,o)}function X0(t,{x:e,y:n}){yd(t.x,e.translate,e.scale,e.originPoint),yd(t.y,n.translate,n.scale,n.originPoint)}const tg=.999999999999,ng=1.0000000000001;function g_(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let c=0;c<o;c++){a=n[c],u=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qs(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,X0(t,u)),s&&Qr(a.latestValues)&&qs(t,a.latestValues))}e.x<ng&&e.x>tg&&(e.x=1),e.y<ng&&e.y>tg&&(e.y=1)}function Gs(t,e){t.min=t.min+e,t.max=t.max+e}function rg(t,e,n,s,o=.5){const a=Ge(t.min,t.max,o);yd(t,e,n,a,s)}function qs(t,e){rg(t.x,e.x,e.scaleX,e.scale,e.originX),rg(t.y,e.y,e.scaleY,e.scale,e.originY)}function ex(t,e){return Y0(m_(t.getBoundingClientRect(),e))}function v_(t,e,n){const s=ex(t,n),{scroll:o}=e;return o&&(Gs(s.x,o.offset.x),Gs(s.y,o.offset.y)),s}const sg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zs=()=>({x:sg(),y:sg()}),ig=()=>({min:0,max:0}),lt=()=>({x:ig(),y:ig()}),xd={current:null},tx={current:!1};function y_(){if(tx.current=!0,!!Hd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xd.current=t.matches;t.addEventListener("change",e),e()}else xd.current=!1}const x_=new WeakMap;function w_(t,e,n){for(const s in e){const o=e[s],a=n[s];if(kt(o))t.addValue(s,o);else if(kt(a))t.addValue(s,ti(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,ti(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const og=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b_{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Rt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ze.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Rl(n),this.isVariantNode=B0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const b=y[w];h[w]!==void 0&&kt(b)&&b.set(h[w])}}mount(e){var n;this.current=e,x_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),tx.current||y_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xd.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Er(this.notifyUpdate),Er(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=li.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ni){const n=ni[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<og.length;s++){const o=og[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=w_(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ti(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Gy(s)||Zy(s))?s=parseFloat(s):!RE(s)&&_r.test(n)&&(s=O0(e,n)),this.setBaseTarget(e,kt(s)?s.get():s)),kt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=xh(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(s=u[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!kt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){hh.render(this.render)}}class nx extends b_{constructor(){super(...arguments),this.KeyframeResolver=bE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rx(t,{style:e,vars:n},s,o){const a=t.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,s);for(u in n)a.setProperty(u,n[u])}function k_(t){return window.getComputedStyle(t)}class S_ extends nx{constructor(){super(...arguments),this.type="html",this.renderInstance=rx}readValueFromInstance(e,n){var s;if(li.has(n))return(s=this.projection)!=null&&s.isProjecting?ud(n):BS(e,n);{const o=k_(e),a=(u0(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ex(e,n)}build(e,n,s){gh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return wh(e,n,s)}}const sx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E_(t,e,n,s){rx(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(sx.has(o)?o:bh(o),e.attrs[o])}class __ extends nx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(li.has(n)){const s=T0(n);return s&&s.default||0}return n=sx.has(n)?n:bh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return G0(e,n,s)}build(e,n,s){z0(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){E_(e,n,s,o)}mount(e){this.isSVGTag=K0(e.tagName),super.mount(e)}}const C_=(t,e)=>yh(t)?new __(e):new S_(e,{allowProjection:t!==v.Fragment});function Qs(t,e,n){const s=t.getProps();return xh(s,e,n!==void 0?n:s.custom,t)}const wd=t=>Array.isArray(t);function L_(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ti(n))}function P_(t){return wd(t)?t[t.length-1]||0:t}function j_(t,e){const n=Qs(t,e);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const u in a){const c=P_(a[u]);L_(t,u,c)}}function T_(t){return!!(kt(t)&&t.add)}function bd(t,e){const n=t.getValue("willChange");if(T_(n))return n.add(e);if(!n&&Fn.WillChange){const s=new Fn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function ix(t){return t.props[q0]}const O_=t=>t!==null;function M_(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(O_),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const N_={type:"spring",stiffness:500,damping:25,restSpeed:10},R_=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A_={type:"keyframes",duration:.8},I_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D_=(t,{keyframes:e})=>e.length>2?A_:li.has(t)?t.startsWith("scale")?R_(e[1]):N_:I_;function U_({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:c,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const kh=(t,e,n,s={},o,a)=>u=>{const c=ch(s,t)||{},h=c.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Sn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:o};U_(c)||Object.assign(m,D_(t,m)),m.duration&&(m.duration=Sn(m.duration)),m.repeatDelay&&(m.repeatDelay=Sn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(pd(m),m.delay===0&&(y=!0)),(Fn.instantAnimations||Fn.skipAnimations)&&(y=!0,pd(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,y&&!a&&e.get()!==void 0){const w=M_(m.keyframes,c);if(w!==void 0){ze.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new lh(m):new uE(m)};function $_({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ox(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...c}=e;s&&(a=s);const h=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const m in c){const y=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||f&&$_(f,m))continue;const b={delay:n,...ch(a||{},m)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===k&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const L=ix(t);if(L){const P=window.MotionHandoffAnimation(L,m,ze);P!==null&&(b.startTime=P,E=!0)}}bd(t,m),y.start(kh(m,y,w,t.shouldReduceMotion&&L0.has(m)?{type:!1}:b,t,E));const _=y.animation;_&&h.push(_)}return u&&Promise.all(h).then(()=>{ze.update(()=>{u&&j_(t,u)})}),h}function ax(t,e,n,s=0,o=1){const a=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),u=t.size,c=(u-1)*s;return typeof n=="function"?n(a,u):o===1?a*s:c-a*s}function kd(t,e,n={}){var h;const s=Qs(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(ox(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=o;return B_(t,e,f,m,y,w,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[f,m]=c==="beforeChildren"?[a,u]:[u,a];return f().then(()=>m())}else return Promise.all([a(),u(n.delay)])}function B_(t,e,n=0,s=0,o=0,a=1,u){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(kd(h,e,{...u,delay:n+(typeof s=="function"?0:s)+ax(t.variantChildren,h,s,o,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function V_(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>kd(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=kd(t,e,n);else{const o=typeof e=="function"?Qs(t,e,n.custom):e;s=Promise.all(ox(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function lx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const F_=mh.length;function ux(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ux(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<F_;n++){const s=mh[n],o=t.props[s];(xo(o)||o===!1)&&(e[s]=o)}return e}const z_=[...ph].reverse(),W_=ph.length;function K_(t){return e=>Promise.all(e.map(({animation:n,options:s})=>V_(t,n,s)))}function H_(t){let e=K_(t),n=ag(),s=!0;const o=h=>(f,m)=>{var w;const y=Qs(t,m,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(y){const{transition:b,transitionEnd:k,...E}=y;f={...f,...E,...k}}return f};function a(h){e=h(t)}function u(h){const{props:f}=t,m=ux(t.parent)||{},y=[],w=new Set;let b={},k=1/0;for(let _=0;_<W_;_++){const L=z_[_],P=n[L],C=f[L]!==void 0?f[L]:m[L],T=xo(C),O=L===h?P.isActive:null;O===!1&&(k=_);let A=C===m[L]&&C!==f[L]&&T;if(A&&s&&t.manuallyAnimateOnMount&&(A=!1),P.protectedKeys={...b},!P.isActive&&O===null||!C&&!P.prevProp||Nl(C)||typeof C=="boolean")continue;const D=G_(P.prevProp,C);let W=D||L===h&&P.isActive&&!A&&T||_>k&&T,$=!1;const F=Array.isArray(C)?C:[C];let q=F.reduce(o(L),{});O===!1&&(q={});const{prevResolvedValues:ne={}}=P,ue={...ne,...q},te=ie=>{W=!0,w.has(ie)&&($=!0,w.delete(ie)),P.needsAnimating[ie]=!0;const H=t.getValue(ie);H&&(H.liveStyle=!1)};for(const ie in ue){const H=q[ie],X=ne[ie];if(b.hasOwnProperty(ie))continue;let G=!1;wd(H)&&wd(X)?G=!lx(H,X):G=H!==X,G?H!=null?te(ie):w.add(ie):H!==void 0&&w.has(ie)?te(ie):P.protectedKeys[ie]=!0}P.prevProp=C,P.prevResolvedValues=q,P.isActive&&(b={...b,...q}),s&&t.blockInitialAnimation&&(W=!1);const re=A&&D;W&&(!re||$)&&y.push(...F.map(ie=>{const H={type:L};if(typeof ie=="string"&&s&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,G=Qs(X,ie);if(X.enteringChildren&&G){const{delayChildren:N}=G.transition||{};H.delay=ax(X.enteringChildren,t,N)}}return{animation:ie,options:H}}))}if(w.size){const _={};if(typeof f.initial!="boolean"){const L=Qs(t,Array.isArray(f.initial)?f.initial[0]:f.initial);L&&L.transition&&(_.transition=L.transition)}w.forEach(L=>{const P=t.getBaseTarget(L),C=t.getValue(L);C&&(C.liveStyle=!0),_[L]=P??null}),y.push({animation:_})}let E=!!y.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(E=!1),s=!1,E?e(y):Promise.resolve()}function c(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(w=>{var b;return(b=w.animationState)==null?void 0:b.setActive(h,f)}),n[h].isActive=f;const m=u(h);for(const w in n)n[w].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ag()}}}function G_(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lx(e,t):!1}function Gr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ag(){return{animate:Gr(!0),whileInView:Gr(),whileHover:Gr(),whileTap:Gr(),whileDrag:Gr(),whileFocus:Gr(),exit:Gr()}}class Cr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class q_ extends Cr{constructor(e){super(e),e.animationState||(e.animationState=H_(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Z_=0;class J_ extends Cr{constructor(){super(...arguments),this.id=Z_++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Y_={animation:{Feature:q_},exit:{Feature:J_}};function wo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ao(t){return{point:{x:t.pageX,y:t.pageY}}}const Q_=t=>e=>fh(e)&&t(e,Ao(e));function uo(t,e,n,s){return wo(t,e,Q_(n),s)}const cx=1e-4,X_=1-cx,eC=1+cx,dx=.01,tC=0-dx,nC=0+dx;function _t(t){return t.max-t.min}function rC(t,e,n){return Math.abs(t-e)<=n}function lg(t,e,n,s=.5){t.origin=s,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=_t(n)/_t(e),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(t.scale>=X_&&t.scale<=eC||isNaN(t.scale))&&(t.scale=1),(t.translate>=tC&&t.translate<=nC||isNaN(t.translate))&&(t.translate=0)}function co(t,e,n,s){lg(t.x,e.x,n.x,s?s.originX:void 0),lg(t.y,e.y,n.y,s?s.originY:void 0)}function ug(t,e,n){t.min=n.min+e.min,t.max=t.min+_t(e)}function sC(t,e,n){ug(t.x,e.x,n.x),ug(t.y,e.y,n.y)}function cg(t,e,n){t.min=e.min-n.min,t.max=t.min+_t(e)}function gl(t,e,n){cg(t.x,e.x,n.x),cg(t.y,e.y,n.y)}function Zt(t){return[t("x"),t("y")]}const hx=({current:t})=>t?t.ownerDocument.defaultView:null,dg=(t,e)=>Math.abs(t-e);function iC(t,e){const n=dg(t.x,e.x),s=dg(t.y,e.y);return Math.sqrt(n**2+s**2)}class fx{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ac(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=iC(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:E}=w,{timestamp:_}=vt;this.history.push({...E,timestamp:_});const{onStart:L,onMove:P}=this.handlers;b||(L&&L(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,b)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Rc(b,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(w,b)=>{this.end();const{onEnd:k,onSessionEnd:E,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Ac(w.type==="pointercancel"?this.lastMoveEventInfo:Rc(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(w,L),E&&E(w,L)},!fh(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const c=Ao(e),h=Rc(c,this.transformPagePoint),{point:f}=h,{timestamp:m}=vt;this.history=[{...f,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Ac(h,this.history)),this.removeListeners=Mo(uo(this.contextWindow,"pointermove",this.handlePointerMove),uo(this.contextWindow,"pointerup",this.handlePointerUp),uo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Er(this.updatePoint)}}function Rc(t,e){return e?{point:e(t.point)}:t}function hg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ac({point:t},e){return{point:t,delta:hg(t,px(e)),offset:hg(t,oC(e)),velocity:aC(e,.1)}}function oC(t){return t[0]}function px(t){return t[t.length-1]}function aC(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=px(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Sn(e)));)n--;if(!s)return{x:0,y:0};const a=Yt(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function lC(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ge(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ge(n,t,s.max):Math.min(t,n)),t}function fg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uC(t,{top:e,left:n,bottom:s,right:o}){return{x:fg(t.x,n,o),y:fg(t.y,e,s)}}function pg(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function cC(t,e){return{x:pg(t.x,e.x),y:pg(t.y,e.y)}}function dC(t,e){let n=.5;const s=_t(t),o=_t(e);return o>s?n=go(e.min,e.max-s,t.min):s>o&&(n=go(t.min,t.max-o,e.min)),Vn(0,1,n)}function hC(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sd=.35;function fC(t=Sd){return t===!1?t=0:t===!0&&(t=Sd),{x:mg(t,"left","right"),y:mg(t,"top","bottom")}}function mg(t,e,n){return{min:gg(t,e),max:gg(t,n)}}function gg(t,e){return typeof t=="number"?t:t[e]||0}const pC=new WeakMap;class mC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ao(y).point)},u=(y,w)=>{const{drag:b,dragPropagation:k,onDragStart:E}=this.getProps();if(b&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CE(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(L=>{let P=this.getAxisMotionValue(L).get()||0;if(En.test(P)){const{projection:C}=this.visualElement;if(C&&C.layout){const T=C.layout.layoutBox[L];T&&(P=_t(T)*(parseFloat(P)/100))}}this.originPoint[L]=P}),E&&ze.postRender(()=>E(y,w)),bd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:b,dragDirectionLock:k,onDirectionLock:E,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:L}=w;if(k&&this.currentDirection===null){this.currentDirection=gC(L),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",w.point,L),this.updateAxis("y",w.point,L),this.visualElement.render(),_&&_(y,w)},h=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Zt(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)==null?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new fx(e,{onSessionStart:a,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:hx(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&ze.postRender(()=>c(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Ja(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=lC(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&Hs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uC(s.layoutBox,e):this.constraints=!1,this.elastic=fC(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zt(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=hC(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hs(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=v_(s,o.root,this.visualElement.getTransformPagePoint());let u=cC(o.layout.layoutBox,a);if(n){const c=n(p_(u));this.hasMutatedConstraints=!!c,c&&(u=Y0(c))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Zt(m=>{if(!Ja(m,n,this.currentDirection))return;let y=h&&h[m]||{};u&&(y={min:0,max:0});const w=o?200:1e6,b=o?40:1e7,k={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,k)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return bd(this.visualElement,e),s.start(kh(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zt(n=>{const{drag:s}=this.getProps();if(!Ja(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[n];a.set(e[n]-Ge(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Hs(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zt(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();o[u]=dC({min:h,max:h},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zt(u=>{if(!Ja(u,e,null))return;const c=this.getAxisMotionValue(u),{min:h,max:f}=this.constraints[u];c.set(Ge(h,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;pC.set(this.visualElement,this);const e=this.visualElement.current,n=uo(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Hs(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ze.read(s);const u=wo(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zt(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Sd,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:c}}}function Ja(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gC(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vC extends Cr{constructor(e){super(e),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new mC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const vg=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class yC extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(e){this.session=new fx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:vg(e),onStart:vg(n),onMove:s,onEnd:(a,u)=>{delete this.session,o&&ze.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=uo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ic=!1;class xC extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),Ic&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ul.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,{projection:u}=s;return u&&(u.isPresent=a,Ic=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ze.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Ic=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mx(t){const[e,n]=AE(),s=v.useContext(Hy);return g.jsx(xC,{...t,layoutGroup:s,switchLayoutGroup:v.useContext(Z0),isPresent:e,safeToRemove:n})}function wC(t,e,n){const s=kt(t)?t:ti(t);return s.start(kh("",s,e,n)),s.animation}const bC=(t,e)=>t.depth-e.depth;class kC{constructor(){this.children=[],this.isDirty=!1}add(e){qd(this.children,e),this.isDirty=!0}remove(e){Zd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bC),this.isDirty=!1,this.children.forEach(e)}}function SC(t,e){const n=Rt.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(Er(s),t(a-e))};return ze.setup(s,!0),()=>Er(s)}const gx=["TopLeft","TopRight","BottomLeft","BottomRight"],EC=gx.length,yg=t=>typeof t=="string"?parseFloat(t):t,xg=t=>typeof t=="number"||Se.test(t);function _C(t,e,n,s,o,a){o?(t.opacity=Ge(0,n.opacity??1,CC(s)),t.opacityExit=Ge(e.opacity??1,0,LC(s))):a&&(t.opacity=Ge(e.opacity??1,n.opacity??1,s));for(let u=0;u<EC;u++){const c=`border${gx[u]}Radius`;let h=wg(e,c),f=wg(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||xg(h)===xg(f)?(t[c]=Math.max(Ge(yg(h),yg(f),s),0),(En.test(f)||En.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,s))}function wg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const CC=vx(0,.5,r0),LC=vx(.5,.95,Qt);function vx(t,e,n){return s=>s<t?0:s>e?1:n(go(t,e,s))}function bg(t,e){t.min=e.min,t.max=e.max}function un(t,e){bg(t.x,e.x),bg(t.y,e.y)}function kg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Sg(t,e,n,s,o){return t-=e,t=ml(t,1/n,s),o!==void 0&&(t=ml(t,1/o,s)),t}function PC(t,e=0,n=1,s=.5,o,a=t,u=t){if(En.test(e)&&(e=parseFloat(e),e=Ge(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=Ge(a.min,a.max,s);t===a&&(c-=e),t.min=Sg(t.min,e,n,c,o),t.max=Sg(t.max,e,n,c,o)}function Eg(t,e,[n,s,o],a,u){PC(t,e[n],e[s],e[o],e.scale,a,u)}const jC=["x","scaleX","originX"],TC=["y","scaleY","originY"];function _g(t,e,n,s){Eg(t.x,e,jC,n?n.x:void 0,s?s.x:void 0),Eg(t.y,e,TC,n?n.y:void 0,s?s.y:void 0)}function Cg(t){return t.translate===0&&t.scale===1}function yx(t){return Cg(t.x)&&Cg(t.y)}function Lg(t,e){return t.min===e.min&&t.max===e.max}function OC(t,e){return Lg(t.x,e.x)&&Lg(t.y,e.y)}function Pg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xx(t,e){return Pg(t.x,e.x)&&Pg(t.y,e.y)}function jg(t){return _t(t.x)/_t(t.y)}function Tg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MC{constructor(){this.members=[]}add(e){qd(this.members,e),e.scheduleRender()}remove(e){if(Zd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NC(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(s=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:w,skewX:b,skewY:k}=n;f&&(s=`perspective(${f}px) ${s}`),m&&(s+=`rotate(${m}deg) `),y&&(s+=`rotateX(${y}deg) `),w&&(s+=`rotateY(${w}deg) `),b&&(s+=`skewX(${b}deg) `),k&&(s+=`skewY(${k}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(s+=`scale(${c}, ${h})`),s||"none"}const Dc=["","X","Y","Z"],RC=1e3;let AC=0;function Uc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function wx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ix(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&wx(s)}function bx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},c=e==null?void 0:e()){this.id=AC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UC),this.nodes.forEach(FC),this.nodes.forEach(zC),this.nodes.forEach($C)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new kC)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Qd),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=I0(u)&&!ME(u),this.instance=u;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let m,y=0;const w=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{y=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,m&&m(),m=SC(w,250),ul.hasAnimatedSinceResize&&(ul.hasAnimatedSinceResize=!1,this.nodes.forEach(Ng)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||f.getDefaultTransition()||qC,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=f.getProps(),L=!this.targetLayout||!xx(this.targetLayout,b),P=!y&&w;if(this.options.layoutRoot||this.resumeFrom||P||y&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...ch(k,"layout"),onPlay:E,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,P)}else y||Ng(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WC),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Og);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Mg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VC),this.nodes.forEach(IC),this.nodes.forEach(DC)):this.nodes.forEach(Mg),this.clearAllSnapshots();const c=Rt.now();vt.delta=Vn(0,1e3/60,c-vt.timestamp),vt.timestamp=c,vt.isProcessing=!0,Cc.update.process(vt),Cc.preRender.process(vt),Cc.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BC),this.sharedNodes.forEach(KC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_t(this.snapshot.measuredBox.x)&&!_t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!yx(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;u&&this.instance&&(c||Qr(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),ZC(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:u}=this.options;if(!u)return lt();const c=u.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(JC))){const{scroll:m}=this.root;m&&(Gs(c.x,m.offset.x),Gs(c.y,m.offset.y))}return c}removeElementScroll(u){var h;const c=lt();if(un(c,u),(h=this.scroll)!=null&&h.wasRoot)return c;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:w}=m;m!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&un(c,u),Gs(c.x,y.offset.x),Gs(c.y,y.offset.y))}return c}applyTransform(u,c=!1){const h=lt();un(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&qs(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Qr(m.latestValues)&&qs(h,m.latestValues)}return Qr(this.latestValues)&&qs(h,this.latestValues),h}removeTransform(u){const c=lt();un(c,u);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Qr(f.latestValues))continue;vd(f.latestValues)&&f.updateSnapshot();const m=lt(),y=f.measurePageBox();un(m,y),_g(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Qr(this.latestValues)&&_g(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!this.layout||!(m||y))return;this.resolvedRelativeTargetAt=vt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),X0(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||vd(this.parent.latestValues)||Q0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,c,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),gl(this.relativeTargetOrigin,c,h),un(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var k;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;un(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;g_(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=lt());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kg(this.prevProjectionDelta.x,this.projectionDelta.x),kg(this.prevProjectionDelta.y,this.projectionDelta.y)),co(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!Tg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zs(),this.projectionDelta=Zs(),this.projectionDeltaWithTransform=Zs()}setAnimationOrigin(u,c=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},y=Zs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=lt(),b=h?h.source:void 0,k=this.layout?this.layout.source:void 0,E=b!==k,_=this.getStack(),L=!_||_.members.length<=1,P=!!(E&&!L&&this.options.crossfade===!0&&!this.path.some(GC));this.animationProgress=0;let C;this.mixTargetDelta=T=>{const O=T/1e3;Rg(y.x,u.x,O),Rg(y.y,u.y,O),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HC(this.relativeTarget,this.relativeTargetOrigin,w,O),C&&OC(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=lt()),un(C,this.relativeTarget)),E&&(this.animationValues=m,_C(m,f,this.latestValues,O,P,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var c,h,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{ul.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ti(0)),this.currentAnimation=wC(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:m}=u;if(!(!c||!h||!f)){if(this!==u&&this.layout&&f&&kx(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||lt();const y=_t(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const w=_t(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}un(c,h),qs(c,m),co(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new MC),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Uc("z",u,f,this.animationValues);for(let m=0;m<Dc.length;m++)Uc(`rotate${Dc[m]}`,u,f,this.animationValues),Uc(`skew${Dc[m]}`,u,f,this.animationValues);u.render();for(const m in f)u.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ll(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ll(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Qr(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=NC(this.projectionDeltaWithTransform,this.treeScale,m);h&&(y=h(m,y)),u.transform=y;const{x:w,y:b}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const k in gd){if(m[k]===void 0)continue;const{correct:E,applyTo:_,isCSSVariable:L}=gd[k],P=y==="none"?m[k]:E(m[k],f);if(_){const C=_.length;for(let T=0;T<C;T++)u[_[T]]=P}else L?this.options.visualElement.renderState.vars[k]=P:u[k]=P}this.options.layoutId&&(u.pointerEvents=f===this?ll(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Og),this.root.sharedNodes.clear()}}}function IC(t){t.updateLayout()}function DC(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Zt(y=>{const w=u?e.measuredBox[y]:e.layoutBox[y],b=_t(w);w.min=s[y].min,w.max=w.min+b}):kx(a,e.layoutBox,s)&&Zt(y=>{const w=u?e.measuredBox[y]:e.layoutBox[y],b=_t(s[y]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=Zs();co(c,s,e.layoutBox);const h=Zs();u?co(h,t.applyTransform(o,!0),e.measuredBox):co(h,s,e.layoutBox);const f=!yx(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:b}=y;if(w&&b){const k=lt();gl(k,e.layoutBox,w.layoutBox);const E=lt();gl(E,s,b.layoutBox),xx(k,E)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=k,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function UC(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $C(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BC(t){t.clearSnapshot()}function Og(t){t.clearMeasurements()}function Mg(t){t.isLayoutDirty=!1}function VC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ng(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function FC(t){t.resolveTargetDelta()}function zC(t){t.calcProjection()}function WC(t){t.resetSkewAndRotation()}function KC(t){t.removeLeadSnapshot()}function Rg(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ag(t,e,n,s){t.min=Ge(e.min,n.min,s),t.max=Ge(e.max,n.max,s)}function HC(t,e,n,s){Ag(t.x,e.x,n.x,s),Ag(t.y,e.y,n.y,s)}function GC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qC={duration:.45,ease:[.4,0,.1,1]},Ig=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Dg=Ig("applewebkit/")&&!Ig("chrome/")?Math.round:Qt;function Ug(t){t.min=Dg(t.min),t.max=Dg(t.max)}function ZC(t){Ug(t.x),Ug(t.y)}function kx(t,e,n){return t==="position"||t==="preserve-aspect"&&!rC(jg(e),jg(n),.2)}function JC(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const YC=bx({attachResizeListener:(t,e)=>wo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$c={current:void 0},Sx=bx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$c.current){const t=new YC({});t.mount(window),t.setOptions({layoutScroll:!0}),$c.current=t}return $c.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),QC={pan:{Feature:yC},drag:{Feature:vC,ProjectionNode:Sx,MeasureLayout:mx}};function $g(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&ze.postRender(()=>a(e,Ao(e)))}class XC extends Cr{mount(){const{current:e}=this.node;e&&(this.unmount=LE(e,(n,s)=>($g(this.node,s,"Start"),o=>$g(this.node,o,"End"))))}unmount(){}}class eL extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mo(wo(this.node.current,"focus",()=>this.onFocus()),wo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bg(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&ze.postRender(()=>a(e,Ao(e)))}class tL extends Cr{mount(){const{current:e}=this.node;e&&(this.unmount=OE(e,(n,s)=>(Bg(this.node,s,"Start"),(o,{success:a})=>Bg(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ed=new WeakMap,Bc=new WeakMap,nL=t=>{const e=Ed.get(t.target);e&&e(t)},rL=t=>{t.forEach(nL)};function sL({root:t,...e}){const n=t||document;Bc.has(n)||Bc.set(n,{});const s=Bc.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(rL,{root:t,...e})),s[o]}function iL(t,e,n){const s=sL(e);return Ed.set(t,n),s.observe(t),()=>{Ed.delete(t),s.unobserve(t)}}const oL={some:0,all:1};class aL extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:oL[o]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=f?m:y;w&&w(h)};return iL(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lL(e,n))&&this.startObserver()}unmount(){}}function lL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uL={inView:{Feature:aL},tap:{Feature:tL},focus:{Feature:eL},hover:{Feature:XC}},cL={layout:{ProjectionNode:Sx,MeasureLayout:mx}},dL={...Y_,...uL,...QC,...cL},pn=f_(dL,C_);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ex=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u,...c},h)=>v.createElement("svg",{ref:h,...fL,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Ex("lucide",o),...c},[...u.map(([f,m])=>v.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=v.forwardRef(({className:s,...o},a)=>v.createElement(pL,{ref:a,iconNode:e,className:Ex(`lucide-${hL(t)}`,s),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Ze("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Ze("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Ze("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Ze("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=Ze("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Ze("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=Ze("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=Ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Al(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function OL(t,e,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(m){try{f(s.next(m))}catch(y){u(y)}}function h(m){try{f(s.throw(m))}catch(y){u(y)}}function f(m){m.done?a(m.value):o(m.value).then(c,h)}f((s=s.apply(t,e||[])).next())})}const ML=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ch extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class NL extends Ch{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vg extends Ch{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fg extends Ch{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ld;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ld||(Ld={}));class RL{constructor(e,{headers:n={},customFetch:s,region:o=Ld.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=ML(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return OL(this,arguments,void 0,function*(n,s={}){var o;let a,u;try{const{headers:c,method:h,body:f,signal:m,timeout:y}=s;let w={},{region:b}=s;b||(b=this.region);const k=new URL(`${this.url}/${n}`);b&&b!=="any"&&(w["x-region"]=b,k.searchParams.set("forceFunctionRegion",b));let E;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(w["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(w["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let _=m;y&&(u=new AbortController,a=setTimeout(()=>u.abort(),y),m?(_=u.signal,m.addEventListener("abort",()=>u.abort())):_=u.signal);const L=yield this.fetch(k.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),c),body:E,signal:_}).catch(O=>{throw new NL(O)}),P=L.headers.get("x-relay-error");if(P&&P==="true")throw new Vg(L);if(!L.ok)throw new Fg(L);let C=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return C==="application/json"?T=yield L.json():C==="application/octet-stream"||C==="application/pdf"?T=yield L.blob():C==="text/event-stream"?T=L:C==="multipart/form-data"?T=yield L.formData():T=yield L.text(),{data:T,error:null,response:L}}catch(c){return{data:null,error:c,response:c instanceof Fg||c instanceof Vg?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var AL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},IL=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let u=null,c=null,h=null,f=a.status,m=a.statusText;if(a.ok){var y,w;if(n.method!=="HEAD"){var b;const L=await a.text();L===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?c=L:c=JSON.parse(L))}const E=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),_=(w=a.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");E&&_&&_.length>1&&(h=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var k;const E=await a.text();try{u=JSON.parse(E),Array.isArray(u)&&a.status===404&&(c=[],u=null,f=200,m="OK")}catch{a.status===404&&E===""?(f=204,m="No Content"):u={message:E}}if(u&&n.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&n.shouldThrowOnError)throw new AL(u)}return{error:u,data:c,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(o=o.catch(a=>{var u;let c="";const h=a==null?void 0:a.cause;if(h){var f,m,y,w;const k=(f=h==null?void 0:h.message)!==null&&f!==void 0?f:"",E=(m=h==null?void 0:h.code)!==null&&m!==void 0?m:"";c=`${(y=a==null?void 0:a.name)!==null&&y!==void 0?y:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(w=h==null?void 0:h.name)!==null&&w!==void 0?w:"Error"}: ${k}`,E&&(c+=` (${E})`),h!=null&&h.stack&&(c+=`
${h.stack}`)}else{var b;c=(b=a==null?void 0:a.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},DL=class extends IL{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${h}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const zg=new RegExp("[,()]");var Fs=class extends DL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&zg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&zg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},UL=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let a=!1;const u=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new Fs({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fs({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var a;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new Fs({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const s="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Fs({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Fs({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},$L=class Lx{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new UL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Lx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:a}={}){var u;let c;const h=new URL(`${this.url}/rpc/${e}`);let f;s||o?(c=s?"HEAD":"GET",Object.entries(n).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{h.searchParams.append(y,w)})):(c="POST",f=n);const m=new Headers(this.headers);return a&&m.set("Prefer",`count=${a}`),new Fs({method:c,url:h,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class BL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const VL="2.88.0",FL=`realtime-js/${VL}`,Px="1.0.0",zL="2.0.0",Wg=Px,Pd=1e4,WL=1e3,KL=100;var wr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wr||(wr={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var fn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fn||(fn={}));var jd;(function(t){t.websocket="websocket"})(jd||(jd={}));var es;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(es||(es={}));class HL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,a;const u=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",h=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+u.length+f.length+y.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let k=new DataView(b),E=0;k.setUint8(E++,this.KINDS.userBroadcastPush),k.setUint8(E++,h.length),k.setUint8(E++,c.length),k.setUint8(E++,u.length),k.setUint8(E++,f.length),k.setUint8(E++,y.length),k.setUint8(E++,n),Array.from(h,L=>k.setUint8(E++,L.charCodeAt(0))),Array.from(c,L=>k.setUint8(E++,L.charCodeAt(0))),Array.from(u,L=>k.setUint8(E++,L.charCodeAt(0))),Array.from(f,L=>k.setUint8(E++,L.charCodeAt(0))),Array.from(y,L=>k.setUint8(E++,L.charCodeAt(0)));var _=new Uint8Array(b.byteLength+s.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(s),b.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,a,u,c,h]=s;return n({join_ref:o,ref:a,topic:u,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),a=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=s.decode(e.slice(h,h+o));h=h+o;const m=s.decode(e.slice(h,h+a));h=h+a;const y=s.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,k={type:this.BROADCAST_EVENT,event:m,payload:b};return u>0&&(k.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class jx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const Kg=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=GL(u,t,e,o),a),{}):{}},GL=(t,e,n,s)=>{const o=e.find(c=>c.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!s.includes(a)?Tx(a,u):Td(u)},Tx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return YL(e,n)}switch(t){case $e.bool:return qL(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return ZL(e);case $e.json:case $e.jsonb:return JL(e);case $e.timestamp:return QL(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Td(e);default:return Td(e)}},Td=t=>t,qL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ZL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},JL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},YL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(c=>Tx(e,c))}return t},QL=t=>typeof t=="string"?t.replace(" ","T"):t,Ox=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vc{constructor(e,n,s={},o=Pd){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hg||(Hg={}));class ho{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ho.syncState(this.state,o,a,u),this.pendingDiffs.forEach(h=>{this.state=ho.syncDiff(this.state,h,a,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ho.syncDiff(this.state,o,a,u),c())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const a=this.cloneDeep(e),u=this.transformState(n),c={},h={};return this.map(a,(f,m)=>{u[f]||(h[f]=m)}),this.map(u,(f,m)=>{const y=a[f];if(y){const w=m.map(_=>_.presence_ref),b=y.map(_=>_.presence_ref),k=m.filter(_=>b.indexOf(_.presence_ref)<0),E=y.filter(_=>w.indexOf(_.presence_ref)<0);k.length>0&&(c[f]=k),E.length>0&&(h[f]=E)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(c,h)=>{var f;const m=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(h),m.length>0){const y=e[c].map(b=>b.presence_ref),w=m.filter(b=>y.indexOf(b.presence_ref)<0);e[c].unshift(...w)}s(c,m,h)}),this.map(u,(c,h)=>{let f=e[c];if(!f)return;const m=h.map(y=>y.presence_ref);f=f.filter(y=>m.indexOf(y.presence_ref)<0),e[c]=f,o(c,f,h),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gg||(Gg={}));var fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fo||(fo={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Js{constructor(e,n={config:{}},s){var o,a;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vc(this,fn.join,this.params,this.timeout),this.rejoinTimer=new jx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new ho(this),this.broadcastEndpointURL=Ox(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[fo.PRESENCE]&&this.bindings[fo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},w={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Un.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Un.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,_=(k=E==null?void 0:E.length)!==null&&k!==void 0?k:0,L=[];for(let P=0;P<_;P++){const C=E[P],{filter:{event:T,schema:O,table:A,filter:D}}=C,W=b&&b[P];if(W&&W.event===T&&Js.isFilterValueEqual(W.schema,O)&&Js.isFilterValueEqual(W.table,A)&&Js.isFilterValueEqual(W.filter,D))L.push(Object.assign(Object.assign({},C),{id:W.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Un.SUBSCRIBED);return}}).receive("error",b=>{this.state=at.errored,e==null||e(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===at.joined&&e===fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const f=await c.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,c,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Vc(this,fn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Vc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>KL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,a;const u=e.toLocaleLowerCase(),{close:c,error:h,leave:f,join:m}=fn;if(s&&[c,h,f,m].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var k,E,_;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(E=b.filter)===null||E===void 0?void 0:E.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(b=>b.callback(w,s)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var k,E,_,L,P,C;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const T=b.id,O=(k=b.filter)===null||k===void 0?void 0:k.event;return T&&((E=n.ids)===null||E===void 0?void 0:E.includes(T))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(P=(L=b==null?void 0:b.filter)===null||L===void 0?void 0:L.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return T==="*"||T===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:E,table:_,commit_timestamp:L,type:P,errors:C}=k;w=Object.assign(Object.assign({},{schema:E,table:_,commit_timestamp:L,eventType:P,new:{},old:{},errors:C}),this._getPayloadRecords(k))}b.callback(w,s)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Js.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fn.close,{},e)}_onError(e){this._on(fn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Kg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Kg(e.columns,e.old_record)),n}}const Fc=()=>{},Ya={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XL=[1e3,2e3,5e3,1e4],eP=1e4,tP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nP{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pd,this.transport=null,this.heartbeatIntervalMs=Ya.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fc,this.ref=0,this.reconnectTimer=null,this.vsn=Wg,this.logger=Fc,this.conn=null,this.sendBuffer=[],this.serializer=new HL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${jd.websocket}`,this.httpEndpoint=Ox(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return es.Connecting;case wr.open:return es.Open;case wr.closing:return es.Closing;default:return es.Closed}}isConnected(){return this.connectionState()===es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new Js(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:o,ref:a}=e,u=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${s} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(WL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ya.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:u}=n,c=u?`(${u})`:"",h=a.status||"";this.log("receive",`${h} ${s} ${o} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===wr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wr.open||this.conn.readyState===wr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([tP],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const a={access_token:n,version:FL};n&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(fn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new jx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ya.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,a,u,c,h,f,m,y,w,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Pd,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ya.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Fc,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:Wg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(k=>XL[k-1]||eP),this.vsn){case Px:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:((k,E)=>E(JSON.stringify(k))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((k,E)=>E(JSON.parse(k)));break;case zL:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var bo=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rP(t,e,n){const s=new URL(e,t);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&s.searchParams.set(o,a);return s.toString()}async function sP(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function iP(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:a,headers:u}){const c=rP(t.baseUrl,s,o),h=await sP(t.auth),f=await e(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...h,...u},body:a?JSON.stringify(a):void 0}),m=await f.text(),y=(f.headers.get("content-type")||"").includes("application/json"),w=y&&m?JSON.parse(m):m;if(!f.ok){const b=y?w:void 0,k=b==null?void 0:b.error;throw new bo((k==null?void 0:k.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:b})}return{status:f.status,headers:f.headers,data:w}}}}function Qa(t){return t.join("")}var oP=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Qa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qa(t.namespace)}`}),!0}catch(e){if(e instanceof bo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof bo&&n.status===409)return;throw n}}};function Is(t){return t.join("")}var aP=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof bo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof bo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},lP=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=iP({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new oP(this.client,e),this.tableOps=new aP(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Il=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function He(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var uP=class extends Il{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Od=class extends Il{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Lh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cP=()=>Response,Md=t=>{if(Array.isArray(t))return t.map(n=>Md(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Md(s)}),e},dP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hP=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function fP(t,e){if(ko(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(ko(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pP(t){var e=fP(t,"string");return ko(e)=="symbol"?e:e+""}function mP(t,e,n){return(e=pP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qg(Object(n),!0).forEach(function(s){mP(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const zc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},gP=async(t,e,n)=>{t instanceof await cP()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,a=(s==null?void 0:s.statusCode)||o+"";e(new uP(zc(s),o,a))}).catch(s=>{e(new Od(zc(s),s))}):e(new Od(zc(t),t))},vP=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(dP(s)?(o.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),ke(ke({},o),n))};async function Io(t,e,n,s,o,a){return new Promise((u,c)=>{t(n,vP(e,s,o,a)).then(h=>{if(!h.ok)throw h;return s!=null&&s.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>gP(h,c,s))})}async function So(t,e,n,s){return Io(t,"GET",e,n,s)}async function hn(t,e,n,s,o){return Io(t,"POST",e,s,o,n)}async function Nd(t,e,n,s,o){return Io(t,"PUT",e,s,o,n)}async function yP(t,e,n,s){return Io(t,"HEAD",e,ke(ke({},n),{},{noResolveJson:!0}),s)}async function Ph(t,e,n,s,o){return Io(t,"DELETE",e,s,o,n)}var xP=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}}};let Mx;Mx=Symbol.toStringTag;var wP=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Mx]="BlobDownloadBuilder",this.promise=null}asStream(){return new xP(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}}};const bP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kP=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Lh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let a;const u=ke(ke({},Zg),s);let c=ke(ke({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",o.encodeMetadata(h)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),h&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(h))):(a=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),s!=null&&s.headers&&(c=ke(ke({},c),s.headers));const f=o._removeEmptyFolders(e),m=o._getFinalPath(f),y=await(t=="PUT"?Nd:hn)(o.fetch,`${o.url}/object/${m}`,a,ke({headers:c},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const a=o._removeEmptyFolders(t),u=o._getFinalPath(a),c=new URL(o.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let h;const f=ke({upsert:Zg.upsert},s),m=ke(ke({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{data:{path:a,fullPath:(await Nd(o.fetch,c.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(He(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ke({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const a=await hn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+a.url),c=u.searchParams.get("token");if(!c)throw new Il("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await hn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await hn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),a=await hn(s.fetch,`${s.url}/object/sign/${o}`,ke({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${s.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await hn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ke(ke({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),u=()=>So(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new wP(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Md(await So(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await yP(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(He(s)&&s instanceof Od){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await Ph(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ke(ke(ke({},bP),e),{},{prefix:t||""});return{data:await hn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ke({},t);return{data:await hn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Nx="2.88.0",Rx={"X-Client-Info":`storage-js/${Nx}`};var SP=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ke(ke({},Rx),e),this.fetch=Lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await So(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await So(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await hn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Nd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ph(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},EP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},Rx),e),this.fetch=Lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await So(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ph(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!hP(t))throw new Il("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new lP({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,a){const u=o[a];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(o,c),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const jh={"X-Client-Info":`storage-js/${Nx}`,"Content-Type":"application/json"};var Ax=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Wc=class extends Ax{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_P=class extends Ax{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Th=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LP=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const u=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Wc(Jg(a),s,u))}).catch(()=>{const a=s+"";e(new Wc(o.statusText||`HTTP ${s} error`,s,a))});else{const a=s+"";e(new Wc(o.statusText||`HTTP ${s} error`,s,a))}}else e(new _P(Jg(t),t))},PP=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(CP(s)?(o.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,ke(ke({},o),n)):o};async function jP(t,e,n,s,o,a){return new Promise((u,c)=>{t(n,PP(e,s,o,a)).then(h=>{if(!h.ok)throw h;if(s!=null&&s.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>LP(h,c,s))})}async function Ft(t,e,n,s,o){return jP(t,"POST",e,s,o,n)}var TP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},jh),e),this.fetch=Th(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}},OP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},jh),e),this.fetch=Th(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ft(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ft(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ft(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},MP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},jh),e),this.fetch=Th(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ft(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},NP=class extends MP{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new RP(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},RP=class extends TP{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new AP(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},AP=class extends OP{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},IP=class extends SP{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new kP(this.url,this.headers,t,this.fetch)}get vectors(){return new NP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new EP(this.url+"/iceberg",this.headers,this.fetch)}};const Ix="2.88.0",zs=30*1e3,Rd=3,Kc=Rd*zs,DP="http://localhost:9999",UP="supabase.auth.token",$P={"X-Client-Info":`gotrue-js/${Ix}`},Ad="X-Supabase-Api-Version",Dx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VP=600*1e3;class Eo extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class FP extends Eo{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function zP(t){return pe(t)&&t.name==="AuthApiError"}class ts extends Eo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Wn extends Eo{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class $t extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WP(t){return pe(t)&&t.name==="AuthSessionMissingError"}class Ds extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xa extends Wn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class el extends Wn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KP(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yg extends Wn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class HP extends Wn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Id extends Wn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hc(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class Qg extends Wn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Dd extends Wn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xg=` 	
\r=`.split(""),GP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xg.length;e+=1)t[Xg[e].charCodeAt(0)]=-2;for(let e=0;e<vl.length;e+=1)t[vl[e].charCodeAt(0)]=e;return t})();function ev(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(vl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(vl[s]),e.queuedBits-=6}}function Ux(t,e,n){const s=GP[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tv(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{JP(u,s,n)};for(let u=0;u<t.length;u+=1)Ux(t.charCodeAt(u),o,a);return e.join("")}function qP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ZP(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}qP(s,e)}}function JP(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Xs(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Ux(t.charCodeAt(o),n,s);return new Uint8Array(e)}function YP(t){const e=[];return ZP(t,n=>e.push(n)),new Uint8Array(e)}function is(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>ev(o,n,s)),ev(null,n,s),e.join("")}function QP(t){return Math.round(Date.now()/1e3)+t}function XP(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",qr={tested:!1,writable:!1},$x=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qr.tested)return qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qr.tested=!0,qr.writable=!0}catch{qr.tested=!0,qr.writable=!1}return qr.writable};function ej(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Bx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ws=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mt=async(t,e)=>{await t.removeItem(e)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Dl.promiseConstructor=Promise;function Gc(t){const e=t.split(".");if(e.length!==3)throw new Dd("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!BP.test(e[s]))throw new Dd("JWT not in base64url format");return{header:JSON.parse(tv(e[0])),payload:JSON.parse(tv(e[1])),signature:Xs(e[2]),raw:{header:e[0],payload:e[1]}}}async function nj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function rj(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){s(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function sj(t){return("0"+t.toString(16)).substr(-2)}function ij(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,sj).join("")}async function oj(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function aj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await oj(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(t,e,n=!1){const s=ij();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Ws(t,`${e}-code-verifier`,o);const a=await aj(s);return[a,s===a?"plain":"s256"]}const lj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uj(t){const e=t.headers.get(Ad);if(!e||!e.match(lj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(t){if(!hj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fj(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function nv(t){return JSON.parse(JSON.stringify(t))}const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pj=[502,503,504];async function rv(t){var e;if(!tj(t))throw new Id(Xr(t),0);if(pj.includes(t.status))throw new Id(Xr(t),t.status);let n;try{n=await t.json()}catch(a){throw new ts(Xr(a),a)}let s;const o=uj(t);if(o&&o.getTime()>=Dx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Qg(Xr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new $t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Qg(Xr(n),t.status,n.weak_password.reasons);throw new FP(Xr(n),t.status||500,s)}const mj=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function be(t,e,n,s){var o;const a=Object.assign({},s==null?void 0:s.headers);a[Ad]||(a[Ad]=Dx["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const u=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await gj(t,e,n+c,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}}async function gj(t,e,n,s,o,a){const u=mj(e,s,o,a);let c;try{c=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new Id(Xr(h),0)}if(c.ok||await rv(c),s!=null&&s.noResolveJson)return c;try{return await c.json()}catch(h){await rv(h)}}function cn(t){var e;let n=null;xj(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=QP(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function sv(t){const e=cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vj(t){return{data:t,error:null}}function yj(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a}=t,u=Al(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a},h=Object.assign({},u);return{data:{properties:c,user:h},error:null}}function iv(t){return t}function xj(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zc=["global","local","others"];class wj{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Bx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Zc[0]){if(Zc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Al(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:yj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,a,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:iv});if(m.error)throw m.error;const y=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);f[`${_}Page`]=E}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(pe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){$s(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){$s(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){$s(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){$s(e.userId);try{const{data:n,error:s}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){$s(e.userId),$s(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,a,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:iv});if(m.error)throw m.error;const y=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);f[`${_}Page`]=E}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(pe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function ov(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Bs={debug:!!(globalThis&&$x()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bj extends Vx{}async function kj(t,e,n){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new bj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Sj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ej(t){return parseInt(t,16)}function _j(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Cj(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:c,requestId:h,resources:f,scheme:m,uri:y,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Fx(t.address),k=m?`${m}://${s}`:s,E=t.statement?`${t.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${b}

${E}`;let L=`URI: ${y}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),c&&(L+=`
Not Before: ${c.toISOString()}`),h&&(L+=`
Request ID: ${h}`),f){let P=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);P+=`
- ${C}`}L+=P}return`${_}
${L}`}class rt extends Error{constructor({message:e,code:n,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class yl extends rt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Lj({error:t,options:e}){var n,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(zx(u)){if(a.rp.id!==u)return new rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Pj({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(zx(s)){if(n.rpId!==s)return new rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class jj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Tj=new jj;function Oj(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=Al(t,["challenge","user","excludeCredentials"]),a=Xs(e).buffer,u=Object.assign(Object.assign({},n),{id:Xs(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:a,user:u});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];c.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:Xs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function Mj(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Al(t,["challenge","allowCredentials"]),o=Xs(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},c),{id:Xs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Nj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:is(new Uint8Array(t.response.attestationObject)),clientDataJSON:is(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Rj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:is(new Uint8Array(o.authenticatorData)),clientDataJSON:is(new Uint8Array(o.clientDataJSON)),signature:is(new Uint8Array(o.signature)),userHandle:o.userHandle?is(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function av(){var t,e;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Aj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",e)}:{data:null,error:new yl("Empty credential response",e)}}catch(e){return{data:null,error:Lj({error:e,options:t})}}}async function Ij(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",e)}:{data:null,error:new yl("Empty credential response",e)}}catch(e){return{data:null,error:Pj({error:e,options:t})}}}const Dj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))s[a]=u;else if(n(u))s[a]=u;else if(e(u)){const c=s[a];e(c)?s[a]=xl(c,u):s[a]=xl(u)}else s[a]=u}return s}function $j(t,e){return xl(Dj,t,e||{})}function Bj(t,e){return xl(Uj,t,e||{})}class Vj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},a){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const h=o??Tj.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=$j(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:y}=await Aj({publicKey:f,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const f=Bj(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:y}=await Ij(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(u){return pe(u)?{data:null,error:u}:{data:null,error:new ts("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new Eo("rpId is required for WebAuthn authentication")};try{if(!av())return{data:null,error:new ts("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:a});if(!u)return{data:null,error:c};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return pe(u)?{data:null,error:u}:{data:null,error:new ts("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new Eo("rpId is required for WebAuthn registration")};try{if(!av())return{data:null,error:new ts("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var y;return(y=m.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:h,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:a});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(u){return pe(u)?{data:null,error:u}:{data:null,error:new ts("Unexpected error in register",u)}}}}Sj();const Fj={url:DP,storageKey:UP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$P,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lv(t,e,n){return await n()}const Vs={};class _o{get jwks(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Fj),e);if(this.storageKey=a.storageKey,this.instanceID=(n=_o.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,_o.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&gt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new wj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Bx(a.fetch),this.lock=a.lock||lv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&gt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=kj:this.lock=lv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:$x()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ov(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ov(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ix}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(gt()&&(n=ej(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),gt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),KP(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new ts("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:cn}),{data:u,error:c}=a;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,s,o;try{let a;if("email"in e){const{email:m,password:y,options:w}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await Us(this.storage,this.storageKey)),a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:m,password:y,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:k},xform:cn})}else if("phone"in e){const{phone:m,password:y,options:w}=e;a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:cn})}else throw new Xa("You must provide either an email or phone number and a password");const{data:u,error:c}=a;if(c||!u)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:c}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:sv})}else if("phone"in e){const{phone:a,password:u,options:c}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:sv})}else throw new Xa("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const a=new Ds;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,a,u,c,h,f,m,y,w;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:E,wallet:_,statement:L,options:P}=e;let C;if(gt())if(typeof _=="object")C=_;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")C=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const T=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),O=await C.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Fx(O[0]);let D=(s=P==null?void 0:P.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const $=await C.request({method:"eth_chainId"});D=Ej($)}const W={domain:T.host,address:A,statement:L,uri:T.href,version:"1",chainId:D,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=P==null?void 0:P.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=P==null?void 0:P.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=Cj(W),k=await C.request({method:"personal_sign",params:[_j(b),A]})}try{const{data:E,error:_}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:k},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:cn});if(_)throw _;if(!E||!E.session||!E.user){const L=new Ds;return this._returnResult({data:{user:null,session:null},error:L})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:_})}catch(E){if(pe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,s,o,a,u,c,h,f,m,y,w,b;let k,E;if("message"in e)k=e.message,E=e.signature;else{const{chain:_,wallet:L,statement:P,options:C}=e;let T;if(gt())if(typeof L=="object")T=L;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))T=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=L}const O=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const A=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),P?{statement:P}:null));let D;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")D=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)D=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)k=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),E=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${O.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(o=(s=C==null?void 0:C.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(m=C==null?void 0:C.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const A=await T.signMessage(new TextEncoder().encode(k),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=A}}try{const{data:_,error:L}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:is(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:cn});if(L)throw L;if(!_||!_.session||!_.user){const P=new Ds;return this._returnResult({data:{user:null,session:null},error:P})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:L})}catch(_){if(pe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new HP;const{data:a,error:u}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:cn});if(await mt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const c=new Ds;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:a,nonce:u}=e,c=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:cn}),{data:h,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const m=new Ds;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,a,u;try{if("email"in e){const{email:c,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Us(this.storage,this.storageKey));const{error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:c,options:h}=e,{data:f,error:m}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new Xa("You must provide either an email or phone number.")}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),pe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,s;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:c}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:cn});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,f=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,a,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Us(this.storage,this.storageKey));const f=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:vj});return!((a=f.data)===null||a===void 0)&&a.url&&gt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),pe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new $t;const{error:o}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:u}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:u,error:c}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Xa("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Kc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Zr(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=qc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=fj(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kr}):await this._useSession(async n=>{var s,o,a;const{data:u,error:c}=n;if(c)throw c;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:kr})})}catch(n){if(pe(n))return WP(n)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new $t;const u=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await Us(this.storage,this.storageKey));const{data:f,error:m}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:u.access_token,xform:kr});if(m)throw m;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await mt(this.storage,`${this.storageKey}-code-verifier`),pe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const n=Date.now()/1e3;let s=n,o=!0,a=null;const{payload:u}=Gc(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!gt())throw new el("No browser detected.");if(e.error||e.error_description||e.error_code)throw new el(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new el("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yg("No code detected.");const{data:P,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:c,expires_at:h,token_type:f}=e;if(!a||!c||!u||!f)throw new el("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(c);let w=m+y;h&&(w=parseInt(h));const b=w-m;b*1e3<=zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const k=w-y;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,m);const{data:E,error:_}=await this._getUser(a);if(_)throw _;const L={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:w,refresh_token:u,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({error:a});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(zP(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=XP(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Us(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async a=>{var u,c,h,f,m;const{data:y,error:w}=a;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return gt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(pe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:u,provider:c,token:h,access_token:f,nonce:m}=e,y=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:h,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:cn}),{data:w,error:b}=y;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ds}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(o){if(await mt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:u}=n;if(u)throw u;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await rj(async o=>(o>0&&await nj(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cn})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Hc(a)&&Date.now()+u-s<zs})}catch(s){if(this._debug(n,"error",s),pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),gt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ws(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:qc()}else if(o&&!o.user&&!o.user){const u=await Zr(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await mt(this.storage,this.storageKey+"-user"),await Ws(this.storage,this.storageKey,o)):o.user=qc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Kc;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Kc}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Hc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(o.access_token);!c&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Dl;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),pe(a)){const u={data:null,error:a};return Hc(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ws(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=nv(o);await Ws(this.storage,this.storageKey,a)}else{const o=nv(n);await Ws(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${zs}ms, refresh threshold is ${Rd} ticks`),o<=Rd&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,u]=await Us(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await be(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Nj(e.webauthn.credential_response):Rj(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Oj(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Mj(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Gc(s.access_token);let u=null;a.aal&&(u=a.aal);let c=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $t})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+VP>o)return s;const{data:a,error:u}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:b,error:k}=await this.getSession();if(k||!b.session)return this._returnResult({data:null,error:k});s=b.session.access_token}const{header:o,payload:a,signature:u,raw:{header:c,payload:h}}=Gc(s);n!=null&&n.allowExpired||cj(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:a,header:o,signature:u},error:null}}const m=dj(o.alg),y=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,u,YP(`${c}.${h}`)))throw new Dd("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}}_o.nextInstanceID={};const zj=_o,Wj="2.88.0";let oo="";typeof Deno<"u"?oo="deno":typeof document<"u"?oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oo="react-native":oo="node";const Kj={"X-Client-Info":`supabase-js-${oo}/${Wj}`},Hj={headers:Kj},Gj={schema:"public"},qj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zj={};function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function Jj(t,e){if(Co(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Co(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yj(t){var e=Jj(t,"string");return Co(e)=="symbol"?e:e+""}function Qj(t,e,n){return(e=Yj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uv(Object(n),!0).forEach(function(s){Qj(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Xj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eT=()=>Headers,tT=(t,e,n)=>{const s=Xj(n),o=eT();return async(a,u)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let f=new o(u==null?void 0:u.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(a,Qe(Qe({},u),{},{headers:f}))}};function nT(t){return t.endsWith("/")?t:t+"/"}function rT(t,e){var n,s;const{db:o,auth:a,realtime:u,global:c}=t,{db:h,auth:f,realtime:m,global:y}=e,w={db:Qe(Qe({},h),o),auth:Qe(Qe({},f),a),realtime:Qe(Qe({},m),u),storage:{},global:Qe(Qe(Qe({},y),c),{},{headers:Qe(Qe({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(s=c==null?void 0:c.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function sT(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var iT=class extends zj{constructor(t){super(t)}},oT=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const a=sT(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Gj,realtime:Zj,auth:Qe(Qe({},qj),{},{storageKey:u}),global:Hj},h=rT(n??{},c);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=tT(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new $L(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new IP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new RL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:a,flowType:u,lock:c,debug:h,throwOnError:f},m,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iT({url:this.authUrl.href,headers:Qe(Qe({},w),m),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:c,debug:h,throwOnError:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nP(this.realtimeUrl.href,Qe(Qe({},t),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const aT=(t,e,n)=>new oT(t,e,n);function lT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uT="https://fvpljdjywwicvqssnjah.supabase.co",cT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ2cGxqZGp5d3dpY3Zxc3NuamFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5NjY4MDEsImV4cCI6MjA4MTU0MjgwMX0.JBDcVXF-Erlq3UTyWujJkvL7Ce_SxPNsF-C8wH-yVVc";let Wx=null;Wx=aT(uT,cT);const Te=Wx;function dT(){const t=Tl(),[e,n]=me.useState("login"),s=e==="login",[o,a]=me.useState(""),[u,c]=me.useState(""),[h,f]=me.useState(""),[m,y]=me.useState(!1),[w,b]=me.useState(null),k=async E=>{if(E.preventDefault(),b(null),!Te){b("Supabase is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");return}if(!o.trim()||!u){b("Please enter your email and password.");return}if(!s&&u!==h){b("Passwords do not match.");return}try{if(y(!0),s){const{error:_}=await Te.auth.signInWithPassword({email:o.trim(),password:u});if(_)throw _}else{const{error:_}=await Te.auth.signUp({email:o.trim(),password:u});if(_)throw _}t("/")}catch(_){b((_==null?void 0:_.message)??"Authentication failed. Please try again.")}finally{y(!1)}};return g.jsx("div",{className:"min-h-[calc(100vh-7rem)] flex items-center justify-center py-10",children:g.jsx("div",{className:"w-full max-w-md",children:g.jsxs("div",{className:"rounded-3xl border border-white/15 bg-white/10 p-6 shadow-soft-2xl backdrop-blur-xl sm:p-7",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Land Leverage"}),g.jsx("h1",{className:"mt-2 text-2xl font-semibold tracking-tight text-slate-900 dark:text-white",children:s?"Welcome back":"Create your account"}),g.jsx("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-400",children:s?"Sign in to continue.":"Sign up to start exploring deals."})]}),g.jsxs("div",{className:"inline-flex rounded-full bg-white/10 p-1 ring-1 ring-white/15",children:[g.jsx("button",{type:"button",onClick:()=>n("login"),className:`rounded-full px-3 py-1.5 text-xs font-semibold transition ${s?"bg-white/20 text-slate-900 dark:text-white":"text-slate-600 dark:text-slate-300 hover:bg-white/10"}`,children:"Login"}),g.jsx("button",{type:"button",onClick:()=>n("signup"),className:`rounded-full px-3 py-1.5 text-xs font-semibold transition ${s?"text-slate-600 dark:text-slate-300 hover:bg-white/10":"bg-white/20 text-slate-900 dark:text-white"}`,children:"Sign Up"})]})]}),g.jsxs("form",{onSubmit:k,className:"mt-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Email"}),g.jsx("input",{type:"email",autoComplete:"email",required:!0,value:o,onChange:E=>a(E.target.value),className:"mt-1 w-full rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 ring-1 ring-white/10 backdrop-blur focus:outline-none focus:ring-2 focus:ring-emerald-400/60",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Password"}),g.jsx("input",{type:"password",autoComplete:s?"current-password":"new-password",required:!0,value:u,onChange:E=>c(E.target.value),className:"mt-1 w-full rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 ring-1 ring-white/10 backdrop-blur focus:outline-none focus:ring-2 focus:ring-emerald-400/60",placeholder:""})]}),!s&&g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Confirm password"}),g.jsx("input",{type:"password",autoComplete:"new-password",required:!0,value:h,onChange:E=>f(E.target.value),className:"mt-1 w-full rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 ring-1 ring-white/10 backdrop-blur focus:outline-none focus:ring-2 focus:ring-emerald-400/60",placeholder:""})]}),w&&g.jsx("div",{className:"rounded-2xl border border-rose-500/30 bg-rose-500/10 p-3 text-xs text-rose-100",children:w}),g.jsx("button",{type:"submit",disabled:m,className:"inline-flex w-full items-center justify-center rounded-2xl bg-gradient-to-tr from-brand-500 to-emerald-400 px-4 py-2 text-sm font-semibold text-slate-950 shadow-md shadow-emerald-500/30 transition hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-70",children:m?s?"Signing in":"Creating account":s?"Sign In":"Sign Up"}),g.jsxs("div",{className:"flex items-center justify-between pt-1 text-xs text-slate-500",children:[g.jsx(Ye,{to:"/",className:"hover:text-slate-700 dark:hover:text-slate-300",children:" Back home"}),g.jsx("button",{type:"button",onClick:()=>n(s?"signup":"login"),className:"text-emerald-300 hover:text-emerald-200",children:s?"Need an account?":"Already have an account?"})]})]})]})})})}const hT=({filters:t,onChange:e,onReset:n})=>g.jsxs("div",{className:"mt-8 w-full rounded-3xl border border-white/15 bg-white/10 p-4 shadow-soft-2xl backdrop-blur-xl sm:p-5",children:[g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-400 sm:text-sm",children:[g.jsx(Sh,{className:"h-4 w-4 text-brand-400"}),g.jsx("span",{className:"font-medium",children:"Search & filter plots"})]}),g.jsxs("div",{className:"flex items-center justify-between gap-3 sm:justify-end",children:[g.jsx("span",{className:"rounded-full bg-white/10 px-2 py-1 text-[10px] text-slate-600 dark:text-slate-400 ring-1 ring-white/10 sm:text-[11px]",children:"KES  Category  Location"}),n&&g.jsx("button",{type:"button",onClick:n,className:"text-xs text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:"Reset"})]})]}),g.jsxs("div",{className:"mt-4 grid gap-3 rounded-2xl bg-white/10 p-3 ring-1 ring-white/10 sm:grid-cols-6 sm:items-end sm:gap-4 sm:p-3.5",children:[g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-[11px] font-medium uppercase tracking-[0.12em] text-slate-400",children:"Location"}),g.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-xl bg-white/10 px-3 py-2 ring-1 ring-white/10 focus-within:ring-brand-400",children:[g.jsx(_L,{className:"h-3.5 w-3.5 text-slate-500"}),g.jsx("input",{value:t.location,onChange:s=>e({location:s.target.value}),placeholder:"City, region or coordinates",className:"w-full bg-transparent text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:outline-none"})]})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-[11px] font-medium uppercase tracking-[0.12em] text-slate-400",children:"Category"}),g.jsxs("select",{value:t.category,onChange:s=>e({category:s.target.value}),className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 dark:text-white ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70",children:[g.jsx("option",{value:"All",children:"All"}),g.jsx("option",{value:"Residential",children:"Residential"}),g.jsx("option",{value:"Agricultural",children:"Agricultural"}),g.jsx("option",{value:"Commercial",children:"Commercial"}),g.jsx("option",{value:"Investment",children:"Investment"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[11px] font-medium uppercase tracking-[0.12em] text-slate-400",children:"Min (KES)"}),g.jsx("input",{inputMode:"numeric",value:t.minPriceKes,onChange:s=>e({minPriceKes:s.target.value}),placeholder:"Enter amount in KES",className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[11px] font-medium uppercase tracking-[0.12em] text-slate-400",children:"Max (KES)"}),g.jsx("input",{inputMode:"numeric",value:t.maxPriceKes,onChange:s=>e({maxPriceKes:s.target.value}),placeholder:"Enter amount in KES",className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70"})]})]})]}),fT=({plot:t})=>{const e=async()=>{try{Te&&await Te.from("leads").insert({plot_id:t.id,seller_id:t.seller_id??null})}catch{}finally{const n=String(t.seller_phone??"").replace(/[^\d]/g,""),s=`I_am_interested_in_[${t.name}]`,o=`https://wa.me/${n}?text=${encodeURIComponent(s)}`;window.open(o,"_blank","noopener,noreferrer")}};return g.jsxs("article",{className:"group flex cursor-pointer flex-col overflow-hidden rounded-2xl border border-white/15 bg-white/10 shadow-md shadow-slate-950/40 backdrop-blur-xl transition hover:border-emerald-400/40",children:[g.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[g.jsx("img",{src:t.image_url||"https://images.pexels.com/photos/5726888/pexels-photo-5726888.jpeg?auto=compress&cs=tinysrgb&w=1200",alt:t.name,className:"h-full w-full object-cover transition duration-700 group-hover:scale-110 group-hover:brightness-110"}),g.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-tr from-slate-950/70 via-transparent to-transparent"}),(t.tag||t.category)&&g.jsxs("div",{className:"absolute left-2 top-2 flex flex-wrap gap-2",children:[t.tag&&g.jsx("span",{className:"rounded-full bg-slate-950/70 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.16em] text-slate-100 backdrop-blur",children:t.tag}),t.category&&g.jsx("span",{className:"rounded-full bg-emerald-500/15 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.16em] text-emerald-100 ring-1 ring-emerald-400/25 backdrop-blur",children:t.category})]})]}),g.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx(Ye,{to:`/plots/${t.id}`,className:"block",children:g.jsx("h3",{className:"line-clamp-1 text-sm font-semibold text-slate-900 dark:text-white hover:underline",children:t.name})}),g.jsxs("p",{className:"flex items-center gap-1 text-[11px] text-slate-600 dark:text-slate-400",children:[g.jsx(Sh,{className:"h-3 w-3 text-slate-500"}),t.location]})]}),g.jsxs("div",{className:"flex items-end justify-between gap-3",children:[g.jsxs("div",{className:"text-xs text-slate-500",children:[g.jsx("div",{className:"text-[11px]",children:"Size"}),g.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:t.size})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-[11px] text-slate-500",children:"Price (KES)"}),g.jsx("div",{className:"text-sm font-semibold text-emerald-300",children:typeof t.price=="number"?t.price.toLocaleString():t.price})]})]}),g.jsxs("button",{type:"button",onClick:e,disabled:!t.seller_phone,className:"relative inline-flex items-center justify-center gap-2 rounded-2xl bg-emerald-500/15 px-4 py-2 text-sm font-semibold text-emerald-100 ring-1 ring-emerald-400/30 transition hover:bg-emerald-500/25",children:[g.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-2xl opacity-70 blur-md bg-emerald-400/20 animate-pulse"}),g.jsxs("span",{className:"relative inline-flex items-center gap-2",children:[g.jsx(Eh,{className:"h-4 w-4"}),"Chat on WhatsApp"]})]}),!t.seller_phone&&g.jsx("p",{className:"text-[10px] text-slate-500",children:"Seller WhatsApp number not set for this plot."})]})]})},pT=()=>g.jsxs("div",{className:"flex flex-col gap-14 lg:flex-row lg:mt-6",children:[g.jsx(mT,{}),g.jsx(vT,{})]}),mT=()=>g.jsxs("section",{className:"flex-1",children:[g.jsxs(pn.div,{initial:{y:24,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.1,ease:[.16,1,.3,1]},className:"max-w-xl",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-500/20 bg-emerald-500/10 px-2.5 py-1 text-[11px] font-medium text-emerald-200 shadow shadow-emerald-500/20",children:[g.jsx("span",{className:"flex h-4 w-4 items-center justify-center rounded-full bg-emerald-400/90",children:g.jsx(Cx,{className:"h-2.5 w-2.5 text-emerald-950"})}),"Land-backed yields from 612% in growth markets."]}),g.jsx("h1",{className:"mt-4 text-3xl font-semibold tracking-tight text-slate-900 dark:text-white sm:text-4xl lg:text-5xl",children:"Own the ground where the next decade is built."}),g.jsx("p",{className:"mt-4 text-sm leading-relaxed text-slate-600 dark:text-slate-400 sm:text-base",children:"Land Leverage surfaces vetted plots across fast-growing regionszoned, titled, and ready for your next home, farm, or long-term hold."}),g.jsxs("div",{className:"mt-5 flex flex-wrap items-center gap-3",children:[g.jsxs(Ye,{to:"/get-started",className:"inline-flex items-center gap-1.5 rounded-full bg-slate-50 px-4 py-2 text-xs font-semibold text-slate-950 shadow-md shadow-slate-950/40 transition hover:bg-slate-200",children:["Get started",g.jsx(_h,{className:"h-3.5 w-3.5 text-amber-500"})]}),g.jsx(Ye,{to:"/investments",className:"inline-flex items-center gap-1.5 rounded-full border border-white/15 bg-white/10 px-4 py-2 text-xs font-semibold text-slate-900 dark:text-slate-100 shadow-soft-2xl backdrop-blur-xl transition hover:bg-white/15",children:"Explore investments "})]})]}),g.jsx(gT,{}),g.jsxs(pn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"mt-4 flex flex-wrap items-center gap-4 text-xs text-slate-400 sm:text-sm",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-5 w-5 rounded-full border border-emerald-400/40 bg-emerald-500/20"}),"12,000+ acres available today"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"flex -space-x-2",children:[g.jsx("div",{className:"h-6 w-6 rounded-full border border-slate-950 bg-cover bg-center bg-[url('https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=120')]"}),g.jsx("div",{className:"h-6 w-6 rounded-full border border-slate-950 bg-cover bg-center bg-[url('https://images.pexels.com/photos/1181519/pexels-photo-1181519.jpeg?auto=compress&cs=tinysrgb&w=120')]"}),g.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full border border-slate-950 bg-slate-800 text-[10px]",children:"+9k"})]}),"Trusted by landowners and buyers worldwide"]})]})]}),Oh=me.createContext(null),Mh={location:"",minPriceKes:"",maxPriceKes:"",category:"All"},gT=()=>{const t=me.useContext(Oh);if(!t)return null;const{filters:e,setFilters:n}=t;return g.jsx(hT,{filters:e,onChange:s=>n(o=>({...o,...s})),onReset:()=>n(Mh)})},vT=()=>{const[t,e]=me.useState(Mh);return g.jsx(Oh.Provider,{value:{filters:t,setFilters:e},children:g.jsx(yT,{})})},yT=()=>{const t=me.useContext(Oh),e=(t==null?void 0:t.filters)??Mh,[n,s]=me.useState([]),[o,a]=me.useState(!0),[u,c]=me.useState(null);return me.useEffect(()=>{(async()=>{try{if(a(!0),c(null),!Te){c("Data is not available  Supabase is not configured yet.");return}let f=Te.from("plots").select("id, name, location, size, price, tag, image_url, media_urls, category, seller_id, seller_phone, lat, lng").limit(24);const m=e.location.trim();m&&(f=f.ilike("location",`%${m}%`)),e.category!=="All"&&(f=f.eq("category",e.category));const y=Number(e.minPriceKes);e.minPriceKes.trim()!==""&&!Number.isNaN(y)&&(f=f.gte("price",y));const w=Number(e.maxPriceKes);e.maxPriceKes.trim()!==""&&!Number.isNaN(w)&&(f=f.lte("price",w));const{data:b,error:k}=await f;if(k)throw k;s(b??[])}catch(f){console.error("Error fetching plots from Supabase",f),c("Unable to load plots right now.")}finally{a(!1)}})()},[e.location,e.minPriceKes,e.maxPriceKes,e.category]),g.jsx("section",{id:"featured-plots",className:"mt-10 w-full lg:mt-0",children:g.jsxs(pn.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.25},children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("h2",{className:"text-sm font-medium uppercase tracking-[0.18em] text-slate-400",children:"Listings"}),g.jsx("span",{className:"text-xs text-slate-400",children:o?"Loading":`${n.length} result${n.length===1?"":"s"}`})]}),g.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-1",children:[o&&g.jsx("div",{className:"rounded-2xl border border-white/15 bg-white/10 p-4 text-xs text-slate-600 dark:text-slate-400 backdrop-blur-xl",children:"Loading plots..."}),!o&&u&&g.jsx("div",{className:"rounded-2xl border border-rose-500/40 bg-rose-500/10 p-4 text-xs text-rose-100 backdrop-blur-xl",children:u}),!o&&!u&&n.length===0&&g.jsx("div",{className:"rounded-2xl border border-white/15 bg-white/10 p-4 text-xs text-slate-600 dark:text-slate-400 backdrop-blur-xl",children:"No plots match your filters yet."}),!o&&!u&&n.map((h,f)=>g.jsx(pn.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.25+f*.05,duration:.5},children:g.jsx(fT,{plot:h})},h.id))]}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[11px] text-slate-500",children:[g.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full bg-sky-500/10 px-2 py-0.5 text-[10px] font-semibold text-sky-100 ring-1 ring-sky-400/20",children:[g.jsx(gL,{className:"h-3.5 w-3.5 text-sky-400"}),"Verified-first sourcing"]}),g.jsx("span",{children:"Use filters above to refine by location, category, and KES budget."})]})]})})},xT="https://wa.me/254722877046?text="+encodeURIComponent("I'm_interested_in_the_MMF/Mansa-X_investment_options"),wT="https://wa.me/254722877046?text="+encodeURIComponent("I_want_to_join_the_Leverage_Ventures_30%25_Lending_Pool"),cv="mailto:gkiriga01@gmail.com",Jr=({children:t,className:e})=>g.jsx("div",{className:["rounded-3xl border border-white/15 bg-white/10 shadow-soft-2xl backdrop-blur-xl",e??""].join(" "),children:t});function bT(t,e,n){return Math.max(e,Math.min(n,t))}function vr(t){return`KES ${Math.round(t).toLocaleString()}`}function tl({initial:t,monthly:e,annualReturnPct:n,years:s}){const o=n/100/12,a=Math.max(0,Math.round(s*12));let u=t;for(let c=0;c<a;c++)u=u*(1+o)+e;return u}const kT=({points:t})=>{const o=Math.max(...t,1),a=Math.min(...t,0),u=Math.max(1,o-a),c=m=>10+m*400/(t.length-1),h=m=>110-(m-a)*100/u,f=t.map((m,y)=>`${y===0?"M":"L"} ${c(y).toFixed(1)} ${h(m).toFixed(1)}`).join(" ");return g.jsx("div",{className:"overflow-hidden rounded-2xl border border-[#FFD37A]/20 bg-black/30 p-3 ring-1 ring-white/10",children:g.jsxs("svg",{width:"100%",viewBox:"0 0 420 120","aria-label":"ROI projection chart",children:[g.jsxs("defs",{children:[g.jsxs("linearGradient",{id:"goldLine",x1:"0",x2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#FFD37A",stopOpacity:"0.9"}),g.jsx("stop",{offset:"100%",stopColor:"#34D399",stopOpacity:"0.9"})]}),g.jsxs("linearGradient",{id:"goldFill",x1:"0",x2:"0",y1:"0",y2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#FFD37A",stopOpacity:"0.22"}),g.jsx("stop",{offset:"100%",stopColor:"#000000",stopOpacity:"0"})]})]}),g.jsx("path",{d:`${f} L ${c(t.length-1)} 110 L ${c(0)} 110 Z`,fill:"url(#goldFill)"}),g.jsx("path",{d:f,fill:"none",stroke:"url(#goldLine)",strokeWidth:"3"})]})})},ST=()=>{const[t,e]=me.useState("wealth"),[n,s]=me.useState(25e4),[o,a]=me.useState(1e4),[u,c]=me.useState(12.5),[h,f]=me.useState(1e5),m=me.useMemo(()=>({USD:156,GBP:198,EUR:171}),[]);return g.jsxs("div",{className:"mx-auto w-full max-w-6xl",children:[g.jsxs(pn.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"rounded-3xl border border-[#FFD37A]/20 bg-white/10 p-6 shadow-soft-2xl backdrop-blur-xl sm:p-8",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-[#FFD37A]",children:"Land Leverage  Wealth Management"}),g.jsx("h1",{className:"mt-2 text-3xl font-semibold tracking-tight text-slate-900 dark:text-white sm:text-4xl",children:"Premium dashboard for KES-first wealth building."}),g.jsxs("p",{className:"mt-3 max-w-2xl text-sm text-slate-600 dark:text-slate-400",children:["Compare funds, project your portfolio growth, and book a consultation. All figures and tools default to",g.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:" KES"}),"."]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsxs("a",{href:xT,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-tr from-[#FFD37A] to-emerald-300 px-4 py-2 text-xs font-semibold text-slate-950 shadow-md shadow-amber-500/20 transition hover:brightness-105",children:[g.jsx(_h,{className:"h-4 w-4"}),"Book a Consultation"]}),g.jsxs("a",{href:cv,className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-4 py-2 text-xs font-semibold text-slate-900 shadow-soft-2xl backdrop-blur-xl transition hover:bg-white/15 dark:text-slate-100",children:[g.jsx(_d,{className:"h-4 w-4 text-[#FFD37A]"}),"Email"]})]})]}),g.jsxs("div",{className:"mt-6 inline-flex rounded-full bg-black/30 p-1 ring-1 ring-white/10 backdrop-blur",children:[g.jsx("button",{type:"button",onClick:()=>e("wealth"),className:["rounded-full px-4 py-2 text-xs font-semibold transition",t==="wealth"?"bg-white/15 text-slate-900 dark:text-white ring-1 ring-[#FFD37A]/25":"text-slate-600 hover:bg-white/10 dark:text-slate-300"].join(" "),children:"Wealth Dashboard"}),g.jsx("button",{type:"button",onClick:()=>e("ventures"),className:["rounded-full px-4 py-2 text-xs font-semibold transition",t==="ventures"?"bg-white/15 text-slate-900 dark:text-white ring-1 ring-emerald-400/25":"text-slate-600 hover:bg-white/10 dark:text-slate-300"].join(" "),children:"Leverage Ventures"})]})]}),t==="wealth"?g.jsxs("div",{className:"mt-8 grid gap-6",children:[g.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[g.jsxs(Jr,{className:"p-6 sm:p-7",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-[#FFD37A]",children:"Featured Fund"}),g.jsx("h2",{className:"mt-2 text-xl font-semibold text-slate-900 dark:text-white",children:"MansaX (Special Fund)"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Global multi-asset strategy (Equities, Forex, Commodities)."})]}),g.jsx("span",{className:"rounded-full bg-[#FFD37A]/10 px-3 py-1 text-[10px] font-semibold text-[#FFD37A] ring-1 ring-[#FFD37A]/25",children:"Aggressive"})]}),g.jsxs("div",{className:"mt-5 grid gap-3 sm:grid-cols-3",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Return"}),g.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-200",children:"~19.56%"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Annualized net  Q1 2025"})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Min"}),g.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"KES 250,000"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Minimum investment"})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Vibe"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:"High-yield global exposure"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"For the aggressive investor"})]})]})]}),g.jsxs(Jr,{className:"p-6 sm:p-7",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-[#FFD37A]",children:"Featured Fund"}),g.jsx("h2",{className:"mt-2 text-xl font-semibold text-slate-900 dark:text-white",children:"Moran Capital (MMF)"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Low-risk, high-liquidity local fund focused on capital preservation."})]}),g.jsx("span",{className:"rounded-full bg-emerald-500/10 px-3 py-1 text-[10px] font-semibold text-emerald-200 ring-1 ring-emerald-400/25",children:"Conservative"})]}),g.jsxs("div",{className:"mt-5 grid gap-3 sm:grid-cols-3",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Yield"}),g.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-200",children:"~12.5%"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Avg effective  mid2025"})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Min"}),g.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"KES 5,000"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Provider-dependent (5k10k)"})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Vibe"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Safe, steady growth"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Daily compounding focus"})]})]})]})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-5",children:[g.jsxs(Jr,{className:"p-6 sm:p-7 lg:col-span-3",children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"ROI Calculator"}),g.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-white",children:"Projected wealth (KES)"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Adjust inputs to model 1, 5 and 10-year projections."})]}),g.jsx(yL,{className:"h-5 w-5 text-[#FFD37A]"})]}),g.jsxs("div",{className:"mt-5 grid gap-4 sm:grid-cols-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-400",children:"Initial (KES)"}),g.jsx("input",{type:"range",min:5e3,max:5e6,step:5e3,value:n,onChange:y=>s(Number(y.target.value)),className:"mt-2 w-full"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:vr(n)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-400",children:"Monthly topup (KES)"}),g.jsx("input",{type:"range",min:0,max:5e5,step:1e3,value:o,onChange:y=>a(Number(y.target.value)),className:"mt-2 w-full"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:vr(o)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-400",children:"Expected return (%)"}),g.jsx("input",{type:"range",min:5,max:30,step:.25,value:u,onChange:y=>c(Number(y.target.value)),className:"mt-2 w-full"}),g.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:[u.toFixed(2),"%"]})]})]}),(()=>{const y=tl({initial:n,monthly:o,annualReturnPct:u,years:1}),w=tl({initial:n,monthly:o,annualReturnPct:u,years:5}),b=tl({initial:n,monthly:o,annualReturnPct:u,years:10}),k=[0,1,2,3,4,5,7,10].map(E=>tl({initial:n,monthly:o,annualReturnPct:u,years:E}));return g.jsxs("div",{className:"mt-6 grid gap-4",children:[g.jsx(kT,{points:k}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"1 year"}),g.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-200",children:vr(y)})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"5 years"}),g.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-200",children:vr(w)})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"10 years"}),g.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-200",children:vr(b)})]})]})]})})()]}),g.jsxs(Jr,{className:"p-6 sm:p-7 lg:col-span-2",children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Currency Converter"}),g.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-white",children:"KES  USD/GBP/EUR"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Simple reference rates (hardcoded) for planning."})]}),g.jsx(mL,{className:"h-5 w-5 text-[#FFD37A]"})]}),g.jsxs("div",{className:"mt-5 space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-400",children:"Amount (KES)"}),g.jsx("input",{inputMode:"numeric",value:h,onChange:y=>f(bT(Number(y.target.value||0),0,1e9)),placeholder:"Enter amount in KES",className:"mt-2 w-full rounded-2xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-slate-900 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-[#FFD37A]/40 dark:text-white"})]}),g.jsx("div",{className:"grid gap-3",children:["USD","GBP","EUR"].map(y=>g.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold text-slate-900 dark:text-slate-100",children:y}),g.jsxs("p",{className:"text-[11px] text-slate-500",children:["Rate: ",m[y]," KES"]})]}),g.jsx("p",{className:"text-sm font-semibold text-emerald-200",children:(h/m[y]).toFixed(2)})]},y))})]})]})]})]}):g.jsxs("div",{className:"mt-8 grid gap-6",children:[g.jsx(Jr,{className:"p-6 sm:p-8",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-emerald-300",children:"Leverage Ventures"}),g.jsxs("h2",{className:"mt-2 text-3xl font-semibold tracking-tight text-slate-900 dark:text-white",children:["Earn ",g.jsx("span",{className:"text-emerald-300",children:"30% APR"})," through Venture Debt"]}),g.jsx("p",{className:"mt-3 max-w-3xl text-sm text-slate-600 dark:text-slate-400",children:"Funds are pooled to provide short-term working capital (LPO financing and Invoice Discounting) to verified Kenyan SMEs. Interest is paid quarterly or at the end of the 12month term."})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsxs("a",{href:wT,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-slate-950 shadow-md shadow-emerald-500/25 hover:bg-emerald-400",children:[g.jsx(Eh,{className:"h-4 w-4"}),"Join the Lending Group"]}),g.jsxs("a",{href:cv,className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-4 py-2 text-xs font-semibold text-slate-900 shadow-soft-2xl backdrop-blur-xl transition hover:bg-white/15 dark:text-slate-100",children:[g.jsx(_d,{className:"h-4 w-4 text-[#FFD37A]"}),"Email"]})]})]})}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[g.jsxs(Jr,{className:"p-6 sm:p-7 lg:col-span-2",children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"The Math"}),g.jsx("h3",{className:"mt-2 text-xl font-semibold text-slate-900 dark:text-white",children:"Fixed 30% annualized return (KES)"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Select an amount to see a simple 12month projection."}),(()=>{const[y,w]=me.useState(25e4),b=y*.3,k=y+b;return g.jsxs("div",{className:"mt-5 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-400",children:"Amount (KES)"}),g.jsx("input",{type:"range",min:5e4,max:5e6,step:1e4,value:y,onChange:E=>w(Number(E.target.value)),className:"mt-2 w-full"}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-between gap-2 text-sm",children:[g.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:vr(y)}),g.jsxs("span",{className:"font-semibold text-emerald-300",children:["+",vr(b)," (30%)"]}),g.jsxs("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:["=",vr(k)]})]})]}),g.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Term"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:"12 months"})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"Payout"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Quarterly or end-term"})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-slate-400",children:"APR"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-emerald-300",children:"30%"})]})]})]})})()]}),g.jsxs(Jr,{className:"p-6 sm:p-7",children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Trust & Security"}),g.jsx("h3",{className:"mt-2 text-xl font-semibold text-slate-900 dark:text-white",children:"Risk mitigation"})]}),g.jsx(CL,{className:"h-5 w-5 text-[#FFD37A]"})]}),g.jsxs("div",{className:"mt-5 space-y-3",children:[g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Diversification"}),g.jsx("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-400",children:"Funds are spread across 10+ different lending groups."})]}),g.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Collateral"}),g.jsx("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-400",children:"Loans backed by government LPOs or verified corporate invoices."})]}),g.jsxs("div",{className:"rounded-2xl border border-rose-500/20 bg-rose-500/10 p-4 ring-1 ring-white/10",children:[g.jsx("p",{className:"text-sm font-semibold text-rose-100",children:"Disclaimer"}),g.jsx("p",{className:"mt-1 text-xs text-rose-100/90",children:"High-yield investments carry higher risk. Not regulated by the CMA. Capital at risk."})]})]})]})]})]})]})};function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function ET(t,e){if(Lo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Lo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _T(t){var e=ET(t,"string");return Lo(e)=="symbol"?e:e+""}function K(t,e,n){return(e=_T(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jc,dv;function CT(){if(dv)return Jc;dv=1;var t=function(n,s,o,a,u,c,h,f){if(!n){var m;if(s===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[o,a,u,c,h,f],w=0;m=new Error(s.replace(/%s/g,function(){return y[w++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Jc=t,Jc}var LT=CT(),ut=Kx(LT),Le=v.createContext(null);function PT(){ut(!!v.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=v.useContext(Le);return ut(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function jT(t,e,n){return Object.keys(t).reduce(function(o,a){return e(o,t[a],a)},n)}function TT(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function OT(t,e,n,s){var o={},a=(u,c)=>{var h=n[c];h!==e[c]&&(o[c]=h,u(s,h))};return TT(t,a),o}function MT(t,e,n){var s=jT(n,function(a,u,c){return typeof t[c]=="function"&&a.push(google.maps.event.addListener(e,u,t[c])),a},[]);return s}function NT(t){google.maps.event.removeListener(t)}function Me(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(NT)}function Oe(t){var{updaterMap:e,eventMap:n,prevProps:s,nextProps:o,instance:a}=t,u=MT(o,a,n);return OT(e,s,o,a),u}function RT(t){var{children:e,options:n,id:s,mapContainerStyle:o,mapContainerClassName:a,center:u,onClick:c,onDblClick:h,onDrag:f,onDragEnd:m,onDragStart:y,onMouseMove:w,onMouseOut:b,onMouseOver:k,onMouseDown:E,onMouseUp:_,onRightClick:L,onCenterChanged:P,onLoad:C,onUnmount:T}=t,[O,A]=v.useState(null),D=v.useRef(null),[W,$]=v.useState(null),[F,q]=v.useState(null),[ne,ue]=v.useState(null),[te,re]=v.useState(null),[ge,ie]=v.useState(null),[H,X]=v.useState(null),[G,N]=v.useState(null),[z,ee]=v.useState(null),[ae,V]=v.useState(null),[ve,ye]=v.useState(null),[oe,Ce]=v.useState(null),[de,je]=v.useState(null);return v.useEffect(()=>{n&&O!==null&&O.setOptions(n)},[O,n]),v.useEffect(()=>{O!==null&&typeof u<"u"&&O.setCenter(u)},[O,u]),v.useEffect(()=>{O&&h&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(O,"dblclick",h)))},[h]),v.useEffect(()=>{O&&m&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(O,"dragend",m)))},[m]),v.useEffect(()=>{O&&y&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(O,"dragstart",y)))},[y]),v.useEffect(()=>{O&&E&&(ge!==null&&google.maps.event.removeListener(ge),ie(google.maps.event.addListener(O,"mousedown",E)))},[E]),v.useEffect(()=>{O&&w&&(H!==null&&google.maps.event.removeListener(H),X(google.maps.event.addListener(O,"mousemove",w)))},[w]),v.useEffect(()=>{O&&b&&(G!==null&&google.maps.event.removeListener(G),N(google.maps.event.addListener(O,"mouseout",b)))},[b]),v.useEffect(()=>{O&&k&&(z!==null&&google.maps.event.removeListener(z),ee(google.maps.event.addListener(O,"mouseover",k)))},[k]),v.useEffect(()=>{O&&_&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(O,"mouseup",_)))},[_]),v.useEffect(()=>{O&&L&&(ve!==null&&google.maps.event.removeListener(ve),ye(google.maps.event.addListener(O,"rightclick",L)))},[L]),v.useEffect(()=>{O&&c&&(oe!==null&&google.maps.event.removeListener(oe),Ce(google.maps.event.addListener(O,"click",c)))},[c]),v.useEffect(()=>{O&&f&&(de!==null&&google.maps.event.removeListener(de),je(google.maps.event.addListener(O,"drag",f)))},[f]),v.useEffect(()=>{O&&P&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(O,"center_changed",P)))},[c]),v.useEffect(()=>{var Ct=D.current===null?null:new google.maps.Map(D.current,n);return A(Ct),Ct!==null&&C&&C(Ct),()=>{Ct!==null&&T&&T(Ct)}},[]),g.jsx("div",{id:s,ref:D,style:o,className:a,children:g.jsx(Le.Provider,{value:O,children:O!==null?e:null})})}v.memo(RT);function hv(t,e,n,s,o,a,u){try{var c=t[a](u),h=c.value}catch(f){return void n(f)}c.done?e(h):Promise.resolve(h).then(s,o)}function Hx(t){return function(){var e=this,n=arguments;return new Promise(function(s,o){var a=t.apply(e,n);function u(h){hv(a,s,o,u,c,"next",h)}function c(h){hv(a,s,o,u,c,"throw",h)}u(void 0)})}}function Gx(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:s="weekly",language:o,region:a,libraries:u,channel:c,mapIds:h,authReferrerPolicy:f,apiUrl:m="https://maps.googleapis.com"}=t,y=[];return ut(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?y.push("key=".concat(e)):n&&y.push("client=".concat(n)),s&&y.push("v=".concat(s)),o&&y.push("language=".concat(o)),a&&y.push("region=".concat(a)),u&&u.length&&y.push("libraries=".concat(u.sort().join(","))),c&&y.push("channel=".concat(c)),h&&h.length&&y.push("map_ids=".concat(h.join(","))),f&&y.push("auth_referrer_policy=".concat(f)),y.push("loading=async"),y.push("callback=initMap"),"".concat(m,"/maps/api/js?").concat(y.join("&"))}var Sr=typeof document<"u";function qx(t){var{url:e,id:n,nonce:s}=t;return Sr?new Promise(function(a,u){var c=document.getElementById(n),h=window;if(c){var f=c.getAttribute("data-state");if(c.src===e&&f!=="error"){if(f==="ready")return a(n);var m=h.initMap,y=c.onerror;h.initMap=function(){m&&m(),a(n)},c.onerror=function(b){y&&y(b),u(b)};return}else c.remove()}var w=document.createElement("script");w.type="text/javascript",w.src=e,w.id=n,w.async=!0,w.nonce=s||"",w.onerror=function(k){w.setAttribute("data-state","error"),u(k)},h.initMap=function(){w.setAttribute("data-state","ready"),a(n)},document.head.appendChild(w)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function fv(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Nh(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(o,a){return fv(o)||Reflect.apply(e,t,[o,a]),o};var n=t.appendChild.bind(t);t.appendChild=function(o){return fv(o)||Reflect.apply(n,t,[o]),o}}}var no=!1;function Zx(){return g.jsx("div",{children:"Loading..."})}var Po={id:"script-loader",version:"weekly"};class AT extends v.PureComponent{constructor(){super(...arguments),K(this,"check",null),K(this,"state",{loaded:!1}),K(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),K(this,"isCleaningUp",Hx(function*(){function e(n){if(!no)n();else if(Sr)var s=window.setInterval(function(){no||(window.clearInterval(s),n())},1)}return new Promise(e)})),K(this,"cleanup",()=>{no=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),K(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Nh(),ut(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:Gx(this.props)};qx(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),K(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Sr){if(window.google&&window.google.maps&&!no){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Sr&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Sr){this.cleanup();var e=()=>{this.check||(delete window.google,no=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||g.jsx(Zx,{})]})}}K(AT,"defaultProps",Po);function IT(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function Rh(t,e){if(t==null)return{};var n,s,o=IT(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var pv;function DT(t){var{id:e=Po.id,version:n=Po.version,nonce:s,googleMapsApiKey:o,googleMapsClientId:a,language:u,region:c,libraries:h,preventGoogleFontsLoading:f,channel:m,mapIds:y,authReferrerPolicy:w,apiUrl:b="https://maps.googleapis.com"}=t,k=v.useRef(!1),[E,_]=v.useState(!1),[L,P]=v.useState(void 0);v.useEffect(function(){return k.current=!0,()=>{k.current=!1}},[]),v.useEffect(function(){Sr&&f&&Nh()},[f]),v.useEffect(function(){E&&ut(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var C=Gx({version:n,googleMapsApiKey:o,googleMapsClientId:a,language:u,region:c,libraries:h,channel:m,mapIds:y,authReferrerPolicy:w,apiUrl:b});v.useEffect(function(){if(!Sr)return;function A(){k.current&&(_(!0),pv=C)}if(window.google&&window.google.maps&&pv===C){A();return}qx({id:e,url:C,nonce:s}).then(A).catch(function(W){k.current&&P(W),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(W)})},[e,C,s]);var T=v.useRef(void 0);return v.useEffect(function(){T.current&&h!==T.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),T.current=h},[h]),{isLoaded:E,loadError:L,url:C}}var UT=["loadingElement","onLoad","onError","onUnmount","children"],$T=g.jsx(Zx,{});function BT(t){var{loadingElement:e,onLoad:n,onError:s,onUnmount:o,children:a}=t,u=Rh(t,UT),{isLoaded:c,loadError:h}=DT(u);return v.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),v.useEffect(function(){h&&typeof s=="function"&&s(h)},[h,s]),v.useEffect(function(){return()=>{o&&o()}},[o]),c?a:e||$T}v.memo(BT);function VT(t,e,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(m){try{f(s.next(m))}catch(y){u(y)}}function h(m){try{f(s.throw(m))}catch(y){u(y)}}function f(m){m.done?a(m.value):o(m.value).then(c,h)}f((s=s.apply(t,[])).next())})}function FT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zT=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,o,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=s;o--!==0;){var u=a[o];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n},WT=FT(zT),mv="__googleMapsScriptId",Ys;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Ys||(Ys={}));class ns{constructor(e){var{apiKey:n,authReferrerPolicy:s,channel:o,client:a,id:u=mv,language:c,libraries:h=[],mapIds:f,nonce:m,region:y,retries:w=3,url:b="https://maps.googleapis.com/maps/api/js",version:k}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=s,this.channel=o,this.client=a,this.id=u||mv,this.language=c,this.libraries=h,this.mapIds=f,this.nonce=m,this.region=y,this.retries=w,this.url=b,this.version=k,ns.instance){if(!WT(this.options,ns.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(ns.instance.options)));return ns.instance}ns.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ys.FAILURE:this.done?Ys.SUCCESS:this.loading?Ys.LOADING:Ys.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(a=>!s[a]&&delete s[a]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(a=>{var u,c,h,f="The Google Maps JavaScript API",m="google",y="importLibrary",w="__ib__",b=document,k=window;k=k[m]||(k[m]={});var E=k.maps||(k.maps={}),_=new Set,L=new URLSearchParams,P=()=>u||(u=new Promise((C,T)=>VT(this,void 0,void 0,function*(){var O;yield c=b.createElement("script"),c.id=this.id,L.set("libraries",[..._]+"");for(h in a)L.set(h.replace(/[A-Z]/g,A=>"_"+A[0].toLowerCase()),a[h]);L.set("callback",m+".maps."+w),c.src=this.url+"?"+L,E[w]=C,c.onerror=()=>u=T(Error(f+" could not load.")),c.nonce=this.nonce||((O=b.querySelector("script[nonce]"))===null||O===void 0?void 0:O.nonce)||"",b.head.append(c)})));E[y]?console.warn(f+" only loads once. Ignoring:",a):E[y]=function(C){for(var T=arguments.length,O=new Array(T>1?T-1:0),A=1;A<T;A++)O[A-1]=arguments[A];return _.add(C)&&P().then(()=>E[y](C,...O))}})(s);var o=this.libraries.map(a=>this.importLibrary(a));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),a=>{var u=new ErrorEvent("error",{error:a});this.loadErrorCallback(u)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var KT=["maps"];function Jx(t){var{id:e=Po.id,version:n=Po.version,nonce:s,googleMapsApiKey:o,language:a,region:u,libraries:c=KT,preventGoogleFontsLoading:h,mapIds:f,authReferrerPolicy:m}=t,y=v.useRef(!1),[w,b]=v.useState(!1),[k,E]=v.useState(void 0);v.useEffect(function(){return y.current=!0,()=>{y.current=!1}},[]);var _=v.useMemo(()=>new ns({id:e,apiKey:o,version:n,libraries:c,language:a||"en",region:u||"US",mapIds:f||[],nonce:s||"",authReferrerPolicy:m||"origin"}),[e,o,n,c,a,u,f,s,m]);v.useEffect(function(){w||_.load().then(()=>{y.current&&b(!0)}).catch(C=>{E(C)})},[]),v.useEffect(()=>{Sr&&h&&Nh()},[h]);var L=v.useRef();return v.useEffect(()=>{L.current&&c!==L.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),L.current=c},[c]),{isLoaded:w,loadError:k}}function gv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var vv={},yv={options(t,e){t.setOptions(e)}};function HT(t){var{options:e,onLoad:n,onUnmount:s}=t,o=v.useContext(Le),[a,u]=v.useState(null);return v.useEffect(()=>{a!==null&&a.setMap(o)},[o]),v.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),v.useEffect(()=>{var c=new google.maps.TrafficLayer(wl(wl({},e),{},{map:o}));return u(c),n&&n(c),()=>{a!==null&&(s&&s(a),a.setMap(null))}},[]),null}v.memo(HT);class GT extends v.PureComponent{constructor(){super(...arguments),K(this,"state",{trafficLayer:null}),K(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),K(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(wl(wl({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:yv,eventMap:vv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:yv,eventMap:vv,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Me(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}K(GT,"contextType",Le);function qT(t){var{onLoad:e,onUnmount:n}=t,s=v.useContext(Le),[o,a]=v.useState(null);return v.useEffect(()=>{o!==null&&o.setMap(s)},[s]),v.useEffect(()=>{var u=new google.maps.BicyclingLayer;return a(u),u.setMap(s),e&&e(u),()=>{u!==null&&(n&&n(u),u.setMap(null))}},[]),null}v.memo(qT);class ZT extends v.PureComponent{constructor(){super(...arguments),K(this,"state",{bicyclingLayer:null}),K(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}K(ZT,"contextType",Le);function JT(t){var{onLoad:e,onUnmount:n}=t,s=v.useContext(Le),[o,a]=v.useState(null);return v.useEffect(()=>{o!==null&&o.setMap(s)},[s]),v.useEffect(()=>{var u=new google.maps.TransitLayer;return a(u),u.setMap(s),e&&e(u),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}v.memo(JT);class YT extends v.PureComponent{constructor(){super(...arguments),K(this,"state",{transitLayer:null}),K(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}K(YT,"contextType",Le);function xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var wv={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},bv={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function QT(t){var{options:e,drawingMode:n,onCircleComplete:s,onMarkerComplete:o,onOverlayComplete:a,onPolygonComplete:u,onPolylineComplete:c,onRectangleComplete:h,onLoad:f,onUnmount:m}=t,y=v.useContext(Le),[w,b]=v.useState(null),[k,E]=v.useState(null),[_,L]=v.useState(null),[P,C]=v.useState(null),[T,O]=v.useState(null),[A,D]=v.useState(null),[W,$]=v.useState(null);return v.useEffect(()=>{w!==null&&w.setMap(y)},[y]),v.useEffect(()=>{e&&w!==null&&w.setOptions(e)},[w,e]),v.useEffect(()=>{w!==null&&w.setDrawingMode(n??null)},[w,n]),v.useEffect(()=>{w&&s&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(w,"circlecomplete",s)))},[w,s]),v.useEffect(()=>{w&&o&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(w,"markercomplete",o)))},[w,o]),v.useEffect(()=>{w&&a&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(w,"overlaycomplete",a)))},[w,a]),v.useEffect(()=>{w&&u&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(w,"polygoncomplete",u)))},[w,u]),v.useEffect(()=>{w&&c&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(w,"polylinecomplete",c)))},[w,c]),v.useEffect(()=>{w&&h&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(w,"rectanglecomplete",h)))},[w,h]),v.useEffect(()=>{ut(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var F=new google.maps.drawing.DrawingManager(bl(bl({},e),{},{map:y}));return n&&F.setDrawingMode(n),s&&E(google.maps.event.addListener(F,"circlecomplete",s)),o&&L(google.maps.event.addListener(F,"markercomplete",o)),a&&C(google.maps.event.addListener(F,"overlaycomplete",a)),u&&O(google.maps.event.addListener(F,"polygoncomplete",u)),c&&D(google.maps.event.addListener(F,"polylinecomplete",c)),h&&$(google.maps.event.addListener(F,"rectanglecomplete",h)),b(F),f&&f(F),()=>{w!==null&&(k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),P&&google.maps.event.removeListener(P),T&&google.maps.event.removeListener(T),A&&google.maps.event.removeListener(A),W&&google.maps.event.removeListener(W),m&&m(w),w.setMap(null))}},[]),null}v.memo(QT);class XT extends v.PureComponent{constructor(e){super(e),K(this,"registeredEvents",[]),K(this,"state",{drawingManager:null}),K(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),ut(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(bl(bl({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:bv,eventMap:wv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:bv,eventMap:wv,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Me(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}K(XT,"contextType",Le);function kv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Sv={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Ev={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},kl={};function eO(t){var{position:e,options:n,clusterer:s,noClustererRedraw:o,children:a,draggable:u,visible:c,animation:h,clickable:f,cursor:m,icon:y,label:w,opacity:b,shape:k,title:E,zIndex:_,onClick:L,onDblClick:P,onDrag:C,onDragEnd:T,onDragStart:O,onMouseOut:A,onMouseOver:D,onMouseUp:W,onMouseDown:$,onRightClick:F,onClickableChanged:q,onCursorChanged:ne,onAnimationChanged:ue,onDraggableChanged:te,onFlatChanged:re,onIconChanged:ge,onPositionChanged:ie,onShapeChanged:H,onTitleChanged:X,onVisibleChanged:G,onZindexChanged:N,onLoad:z,onUnmount:ee}=t,ae=v.useContext(Le),[V,ve]=v.useState(null),[ye,oe]=v.useState(null),[Ce,de]=v.useState(null),[je,Ct]=v.useState(null),[Lt,Cn]=v.useState(null),[Ie,ci]=v.useState(null),[Kn,di]=v.useState(null),[Hn,Gn]=v.useState(null),[Xt,ls]=v.useState(null),[Lr,hi]=v.useState(null),[fi,pi]=v.useState(null),[qn,Pr]=v.useState(null),[jr,Zn]=v.useState(null),[vn,Do]=v.useState(null),[Tr,mi]=v.useState(null),[us,cs]=v.useState(null),[Jn,ds]=v.useState(null),[Yn,hs]=v.useState(null),[Ln,Pn]=v.useState(null),[Or,gi]=v.useState(null),[Mr,vi]=v.useState(null),[Nr,fs]=v.useState(null);v.useEffect(()=>{V!==null&&V.setMap(ae)},[ae]),v.useEffect(()=>{typeof n<"u"&&V!==null&&V.setOptions(n)},[V,n]),v.useEffect(()=>{typeof u<"u"&&V!==null&&V.setDraggable(u)},[V,u]),v.useEffect(()=>{e&&V!==null&&V.setPosition(e)},[V,e]),v.useEffect(()=>{typeof c<"u"&&V!==null&&V.setVisible(c)},[V,c]),v.useEffect(()=>{V==null||V.setAnimation(h)},[V,h]),v.useEffect(()=>{V&&f!==void 0&&V.setClickable(f)},[V,f]),v.useEffect(()=>{V&&m!==void 0&&V.setCursor(m)},[V,m]),v.useEffect(()=>{V&&y!==void 0&&V.setIcon(y)},[V,y]),v.useEffect(()=>{V&&w!==void 0&&V.setLabel(w)},[V,w]),v.useEffect(()=>{V&&b!==void 0&&V.setOpacity(b)},[V,b]),v.useEffect(()=>{V&&k!==void 0&&V.setShape(k)},[V,k]),v.useEffect(()=>{V&&E!==void 0&&V.setTitle(E)},[V,E]),v.useEffect(()=>{V&&_!==void 0&&V.setZIndex(_)},[V,_]),v.useEffect(()=>{V&&P&&(ye!==null&&google.maps.event.removeListener(ye),oe(google.maps.event.addListener(V,"dblclick",P)))},[P]),v.useEffect(()=>{V&&T&&(Ce!==null&&google.maps.event.removeListener(Ce),de(google.maps.event.addListener(V,"dragend",T)))},[T]),v.useEffect(()=>{V&&O&&(je!==null&&google.maps.event.removeListener(je),Ct(google.maps.event.addListener(V,"dragstart",O)))},[O]),v.useEffect(()=>{V&&$&&(Lt!==null&&google.maps.event.removeListener(Lt),Cn(google.maps.event.addListener(V,"mousedown",$)))},[$]),v.useEffect(()=>{V&&A&&(Ie!==null&&google.maps.event.removeListener(Ie),ci(google.maps.event.addListener(V,"mouseout",A)))},[A]),v.useEffect(()=>{V&&D&&(Kn!==null&&google.maps.event.removeListener(Kn),di(google.maps.event.addListener(V,"mouseover",D)))},[D]),v.useEffect(()=>{V&&W&&(Hn!==null&&google.maps.event.removeListener(Hn),Gn(google.maps.event.addListener(V,"mouseup",W)))},[W]),v.useEffect(()=>{V&&F&&(Xt!==null&&google.maps.event.removeListener(Xt),ls(google.maps.event.addListener(V,"rightclick",F)))},[F]),v.useEffect(()=>{V&&L&&(Lr!==null&&google.maps.event.removeListener(Lr),hi(google.maps.event.addListener(V,"click",L)))},[L]),v.useEffect(()=>{V&&C&&(fi!==null&&google.maps.event.removeListener(fi),pi(google.maps.event.addListener(V,"drag",C)))},[C]),v.useEffect(()=>{V&&q&&(qn!==null&&google.maps.event.removeListener(qn),Pr(google.maps.event.addListener(V,"clickable_changed",q)))},[q]),v.useEffect(()=>{V&&ne&&(jr!==null&&google.maps.event.removeListener(jr),Zn(google.maps.event.addListener(V,"cursor_changed",ne)))},[ne]),v.useEffect(()=>{V&&ue&&(vn!==null&&google.maps.event.removeListener(vn),Do(google.maps.event.addListener(V,"animation_changed",ue)))},[ue]),v.useEffect(()=>{V&&te&&(Tr!==null&&google.maps.event.removeListener(Tr),mi(google.maps.event.addListener(V,"draggable_changed",te)))},[te]),v.useEffect(()=>{V&&re&&(us!==null&&google.maps.event.removeListener(us),cs(google.maps.event.addListener(V,"flat_changed",re)))},[re]),v.useEffect(()=>{V&&ge&&(Jn!==null&&google.maps.event.removeListener(Jn),ds(google.maps.event.addListener(V,"icon_changed",ge)))},[ge]),v.useEffect(()=>{V&&ie&&(Yn!==null&&google.maps.event.removeListener(Yn),hs(google.maps.event.addListener(V,"position_changed",ie)))},[ie]),v.useEffect(()=>{V&&H&&(Ln!==null&&google.maps.event.removeListener(Ln),Pn(google.maps.event.addListener(V,"shape_changed",H)))},[H]),v.useEffect(()=>{V&&X&&(Or!==null&&google.maps.event.removeListener(Or),gi(google.maps.event.addListener(V,"title_changed",X)))},[X]),v.useEffect(()=>{V&&G&&(Mr!==null&&google.maps.event.removeListener(Mr),vi(google.maps.event.addListener(V,"visible_changed",G)))},[G]),v.useEffect(()=>{V&&N&&(Nr!==null&&google.maps.event.removeListener(Nr),fs(google.maps.event.addListener(V,"zindex_changed",N)))},[N]),v.useEffect(()=>{var en=ei(ei(ei({},n||kl),s?kl:{map:ae}),{},{position:e}),_e=new google.maps.Marker(en);return s?s.addMarker(_e,!!o):_e.setMap(ae),e&&_e.setPosition(e),typeof c<"u"&&_e.setVisible(c),typeof u<"u"&&_e.setDraggable(u),typeof f<"u"&&_e.setClickable(f),typeof m=="string"&&_e.setCursor(m),y&&_e.setIcon(y),typeof w<"u"&&_e.setLabel(w),typeof b<"u"&&_e.setOpacity(b),k&&_e.setShape(k),typeof E=="string"&&_e.setTitle(E),typeof _=="number"&&_e.setZIndex(_),P&&oe(google.maps.event.addListener(_e,"dblclick",P)),T&&de(google.maps.event.addListener(_e,"dragend",T)),O&&Ct(google.maps.event.addListener(_e,"dragstart",O)),$&&Cn(google.maps.event.addListener(_e,"mousedown",$)),A&&ci(google.maps.event.addListener(_e,"mouseout",A)),D&&di(google.maps.event.addListener(_e,"mouseover",D)),W&&Gn(google.maps.event.addListener(_e,"mouseup",W)),F&&ls(google.maps.event.addListener(_e,"rightclick",F)),L&&hi(google.maps.event.addListener(_e,"click",L)),C&&pi(google.maps.event.addListener(_e,"drag",C)),q&&Pr(google.maps.event.addListener(_e,"clickable_changed",q)),ne&&Zn(google.maps.event.addListener(_e,"cursor_changed",ne)),ue&&Do(google.maps.event.addListener(_e,"animation_changed",ue)),te&&mi(google.maps.event.addListener(_e,"draggable_changed",te)),re&&cs(google.maps.event.addListener(_e,"flat_changed",re)),ge&&ds(google.maps.event.addListener(_e,"icon_changed",ge)),ie&&hs(google.maps.event.addListener(_e,"position_changed",ie)),H&&Pn(google.maps.event.addListener(_e,"shape_changed",H)),X&&gi(google.maps.event.addListener(_e,"title_changed",X)),G&&vi(google.maps.event.addListener(_e,"visible_changed",G)),N&&fs(google.maps.event.addListener(_e,"zindex_changed",N)),ve(_e),z&&z(_e),()=>{ye!==null&&google.maps.event.removeListener(ye),Ce!==null&&google.maps.event.removeListener(Ce),je!==null&&google.maps.event.removeListener(je),Lt!==null&&google.maps.event.removeListener(Lt),Ie!==null&&google.maps.event.removeListener(Ie),Kn!==null&&google.maps.event.removeListener(Kn),Hn!==null&&google.maps.event.removeListener(Hn),Xt!==null&&google.maps.event.removeListener(Xt),Lr!==null&&google.maps.event.removeListener(Lr),qn!==null&&google.maps.event.removeListener(qn),jr!==null&&google.maps.event.removeListener(jr),vn!==null&&google.maps.event.removeListener(vn),Tr!==null&&google.maps.event.removeListener(Tr),us!==null&&google.maps.event.removeListener(us),Jn!==null&&google.maps.event.removeListener(Jn),Yn!==null&&google.maps.event.removeListener(Yn),Or!==null&&google.maps.event.removeListener(Or),Mr!==null&&google.maps.event.removeListener(Mr),Nr!==null&&google.maps.event.removeListener(Nr),ee&&ee(_e),s?s.removeMarker(_e,!!o):_e&&_e.setMap(null)}},[]);var Uo=v.useMemo(()=>a?v.Children.map(a,en=>{if(!v.isValidElement(en))return en;var _e=en;return v.cloneElement(_e,{anchor:V})}):null,[a,V]);return g.jsx(g.Fragment,{children:Uo})||null}v.memo(eO);class tO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[])}componentDidMount(){var e=this;return Hx(function*(){var n=ei(ei(ei({},e.props.options||kl),e.props.clusterer?kl:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Oe({updaterMap:Ev,eventMap:Sv,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:Ev,eventMap:Sv,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Me(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?v.Children.map(this.props.children,n=>{if(!v.isValidElement(n))return n;var s=n;return v.cloneElement(s,{anchor:this.marker})}):null;return e||null}}K(tO,"contextType",Le);var nO=(function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),o=this.cluster.getBounds(),a=n.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(o),this.timeOut=window.setTimeout(function(){var u=n.getMap();if(u!==null){"fitBounds"in u&&u.fitBounds(o);var c=u.getZoom()||0;s!==null&&c>s&&u.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,s,o,a,u;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,h=this.backgroundPosition.split(" "),f=parseInt(((e=h[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),m=parseInt(((n=h[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),y=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(y!==null?"".concat(y.y,"px"):"0","; left: ").concat(y!==null?"".concat(y.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var w=document.createElement("img");w.alt=c,w.src=this.url,w.width=this.width,w.height=this.height,w.setAttribute("style","position: absolute; top: ".concat(m,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(w.style.clip="rect(-".concat(m,"px, -").concat(f+this.width,"px, -").concat(m+this.height,", -").concat(f,")"));var b=document.createElement("div");b.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(b.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(b.innerHTML="".concat((u=this.sums)===null||u===void 0?void 0:u.html)),this.div.innerHTML="",this.div.appendChild(w),this.div.appendChild(b),this.div.title=c,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t})(),rO=(function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new nO(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,o=n;s<o.length;s++){var a=o[s],u=a.getPosition();u&&e.extend(u)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+s.lat())/o,(this.center.lng()*(o-1)+s.lng())/o),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,u=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(u!==null&&typeof c<"u"&&c>u)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var h=0,f=this.markers;h<f.length;h++){var m=f[h];m.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof o<"u"&&o>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t})();function sO(t,e){var n=t.length,s=n.toString().length,o=Math.min(s,e);return{text:n.toString(),index:o,title:""}}var iO=2e3,oO=500,aO="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",lO="png",uO=[53,56,66,78,90],cO="cluster",Yx=(function(){function t(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||aO,this.imageExtension=s.imageExtension||lO,this.imageSizes=s.imageSizes||uO,this.calculator=s.calculator||sO,this.batchSize=s.batchSize||iO,this.batchSizeIE=s.batchSizeIE||oO,this.clusterClass=s.clusterClass||cO,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var s=n[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var o=0,a=this.clusters;o<a.length;o++){var u=a[o];u.remove()}this.clusters=[];for(var c=0,h=this.listeners;c<h.length;c++){var f=h[c];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,o=e;s<o.length;s++){var a=o[s],u=a.getPosition();u&&n.extend(u)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=e[s];o&&this.pushMarkerTo(o)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,n){for(var s=!1,o=0,a=e;o<a.length;o++){var u=a[o];s=s||this.removeMarker_(u)}return!n&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,o=e;s<o.length;s++){var a=o[s];a.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}if(o!==null){var u=n.fromDivPixelToLatLng(o);u!==null&&e.extend(u)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,s=this.clusters;n<s.length;n++){var o=s[n];o.remove()}this.clusters=[];for(var a=0,u=this.markers;a<u.length;a++){var c=u[a];c.isAdded=!1,e&&c.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var s=6371,o=(n.lat()-e.lat())*Math.PI/180,a=(n.lng()-e.lng())*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return s*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},t.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var n,s=4e4,o=null,a=0,u=this.clusters;a<u.length;a++){var c=u[a];n=c;var h=n.getCenter(),f=e.getPosition();if(h&&f){var m=this.distanceBetweenPoints(h,f);m<s&&(s=m,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new rO(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),o=s!==null&&("getBounds"in s)?s.getBounds():null,a=(s==null?void 0:s.getZoom())||0,u=a>3?new google.maps.LatLngBounds(o==null?void 0:o.getSouthWest(),o==null?void 0:o.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(u),h=Math.min(e+this.batchSize,this.markers.length),f=e;f<h;f++){var m=this.markers[f];m&&!m.isAdded&&this.isMarkerInBounds(m,c)&&(!this.ignoreHidden||this.ignoreHidden&&m.getVisible())&&this.addToClosestCluster(m)}if(h<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(h)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var y=0,w=this.clusters;y<w.length;y++){var b=w[y];b.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(o){for(var a in o.prototype){var u=a;this.prototype[u]=o.prototype[u]}return this}).apply(e,[n])},t})();function _v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_v(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_v(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Jt={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ae={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},hO={};function fO(t){var{children:e,options:n,averageCenter:s,batchSizeIE:o,calculator:a,clusterClass:u,enableRetinaIcons:c,gridSize:h,ignoreHidden:f,imageExtension:m,imagePath:y,imageSizes:w,maxZoom:b,minimumClusterSize:k,styles:E,title:_,zoomOnClick:L,onClick:P,onClusteringBegin:C,onClusteringEnd:T,onMouseOver:O,onMouseOut:A,onLoad:D,onUnmount:W}=t,[$,F]=v.useState(null),q=v.useContext(Le),[ne,ue]=v.useState(null),[te,re]=v.useState(null),[ge,ie]=v.useState(null),[H,X]=v.useState(null),[G,N]=v.useState(null);return v.useEffect(()=>{$&&A&&(H!==null&&google.maps.event.removeListener(H),X(google.maps.event.addListener($,Jt.onMouseOut,A)))},[A]),v.useEffect(()=>{$&&O&&(G!==null&&google.maps.event.removeListener(G),N(google.maps.event.addListener($,Jt.onMouseOver,O)))},[O]),v.useEffect(()=>{$&&P&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener($,Jt.onClick,P)))},[P]),v.useEffect(()=>{$&&C&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener($,Jt.onClusteringBegin,C)))},[C]),v.useEffect(()=>{$&&T&&(ge!==null&&google.maps.event.removeListener(ge),re(google.maps.event.addListener($,Jt.onClusteringEnd,T)))},[T]),v.useEffect(()=>{typeof s<"u"&&$!==null&&Ae.averageCenter($,s)},[$,s]),v.useEffect(()=>{typeof o<"u"&&$!==null&&Ae.batchSizeIE($,o)},[$,o]),v.useEffect(()=>{typeof a<"u"&&$!==null&&Ae.calculator($,a)},[$,a]),v.useEffect(()=>{typeof u<"u"&&$!==null&&Ae.clusterClass($,u)},[$,u]),v.useEffect(()=>{typeof c<"u"&&$!==null&&Ae.enableRetinaIcons($,c)},[$,c]),v.useEffect(()=>{typeof h<"u"&&$!==null&&Ae.gridSize($,h)},[$,h]),v.useEffect(()=>{typeof f<"u"&&$!==null&&Ae.ignoreHidden($,f)},[$,f]),v.useEffect(()=>{typeof m<"u"&&$!==null&&Ae.imageExtension($,m)},[$,m]),v.useEffect(()=>{typeof y<"u"&&$!==null&&Ae.imagePath($,y)},[$,y]),v.useEffect(()=>{typeof w<"u"&&$!==null&&Ae.imageSizes($,w)},[$,w]),v.useEffect(()=>{typeof b<"u"&&$!==null&&Ae.maxZoom($,b)},[$,b]),v.useEffect(()=>{typeof k<"u"&&$!==null&&Ae.minimumClusterSize($,k)},[$,k]),v.useEffect(()=>{typeof E<"u"&&$!==null&&Ae.styles($,E)},[$,E]),v.useEffect(()=>{typeof _<"u"&&$!==null&&Ae.title($,_)},[$,_]),v.useEffect(()=>{typeof L<"u"&&$!==null&&Ae.zoomOnClick($,L)},[$,L]),v.useEffect(()=>{if(q){var z=dO({},n||hO),ee=new Yx(q,[],z);return s&&Ae.averageCenter(ee,s),o&&Ae.batchSizeIE(ee,o),a&&Ae.calculator(ee,a),u&&Ae.clusterClass(ee,u),c&&Ae.enableRetinaIcons(ee,c),h&&Ae.gridSize(ee,h),f&&Ae.ignoreHidden(ee,f),m&&Ae.imageExtension(ee,m),y&&Ae.imagePath(ee,y),w&&Ae.imageSizes(ee,w),b&&Ae.maxZoom(ee,b),k&&Ae.minimumClusterSize(ee,k),E&&Ae.styles(ee,E),_&&Ae.title(ee,_),L&&Ae.zoomOnClick(ee,L),A&&X(google.maps.event.addListener(ee,Jt.onMouseOut,A)),O&&N(google.maps.event.addListener(ee,Jt.onMouseOver,O)),P&&ue(google.maps.event.addListener(ee,Jt.onClick,P)),C&&re(google.maps.event.addListener(ee,Jt.onClusteringBegin,C)),T&&ie(google.maps.event.addListener(ee,Jt.onClusteringEnd,T)),F(ee),D&&D(ee),()=>{H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),ne!==null&&google.maps.event.removeListener(ne),te!==null&&google.maps.event.removeListener(te),ge!==null&&google.maps.event.removeListener(ge),W&&W(ee)}}},[]),$!==null&&e($)||null}v.memo(fO);class pO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{markerClusterer:null}),K(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Yx(this.context,[],this.props.options);this.registeredEvents=Oe({updaterMap:Ae,eventMap:Jt,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:Ae,eventMap:Jt,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Me(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}K(pO,"contextType",Le);function Cv(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var Qx=(function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(m){m.returnValue=!1,m.preventDefault&&m.preventDefault(),e.enableEventPropagation||Cv(m)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],u=0,c=a;u<c.length;u++){var h=c[u];this.eventListeners.push(google.maps.event.addListener(this.div,h,Cv))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,o=0,a=n.getBounds();a&&!a.contains(this.position)&&n.setCenter(this.position);var u=n.getDiv(),c=u.offsetWidth,h=u.offsetHeight,f=this.pixelOffset.width,m=this.pixelOffset.height,y=this.div.offsetWidth,w=this.div.offsetHeight,b=this.infoBoxClearance.width,k=this.infoBoxClearance.height,E=this.getProjection(),_=E.fromLatLngToContainerPixel(this.position);_!==null&&(_.x<-f+b?s=_.x+f-b:_.x+y+f+b>c&&(s=_.x+y+f+b-c),this.alignBottom?_.y<-m+k+w?o=_.y+m-k-w:_.y+m+k>h&&(o=_.y+m+k-h):_.y<-m+k?o=_.y+m-k:_.y+w+m+k>h&&(o=_.y+w+m+k-h)),s===0&&o===0||n.panBy(s,o)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();s.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var s=n[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(o){for(var a in o.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=o.prototype[a]);return this}).apply(e,[n])},t})(),mO=["position"],gO=["position"];function Lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Pv={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},jv={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},vO={};function yO(t){var{children:e,anchor:n,options:s,position:o,zIndex:a,onCloseClick:u,onDomReady:c,onContentChanged:h,onPositionChanged:f,onZindexChanged:m,onLoad:y,onUnmount:w}=t,b=v.useContext(Le),[k,E]=v.useState(null),[_,L]=v.useState(null),[P,C]=v.useState(null),[T,O]=v.useState(null),[A,D]=v.useState(null),[W,$]=v.useState(null),F=v.useRef(null);return v.useEffect(()=>{b&&k!==null&&(k.close(),n?k.open(b,n):k.getPosition()&&k.open(b))},[b,k,n]),v.useEffect(()=>{s&&k!==null&&k.setOptions(s)},[k,s]),v.useEffect(()=>{if(o&&k!==null){var q=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);k.setPosition(q)}},[o]),v.useEffect(()=>{typeof a=="number"&&k!==null&&k.setZIndex(a)},[a]),v.useEffect(()=>{k&&u&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(k,"closeclick",u)))},[u]),v.useEffect(()=>{k&&c&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(k,"domready",c)))},[c]),v.useEffect(()=>{k&&h&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(k,"content_changed",h)))},[h]),v.useEffect(()=>{k&&f&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(k,"position_changed",f)))},[f]),v.useEffect(()=>{k&&m&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(k,"zindex_changed",m)))},[m]),v.useEffect(()=>{if(b){var q=s||vO,{position:ne}=q,ue=Rh(q,mO),te;ne&&!(ne instanceof google.maps.LatLng)&&(te=new google.maps.LatLng(ne.lat,ne.lng));var re=new Qx(Sl(Sl({},ue),te?{position:te}:{}));F.current=document.createElement("div"),E(re),u&&L(google.maps.event.addListener(re,"closeclick",u)),c&&C(google.maps.event.addListener(re,"domready",c)),h&&O(google.maps.event.addListener(re,"content_changed",h)),f&&D(google.maps.event.addListener(re,"position_changed",f)),m&&$(google.maps.event.addListener(re,"zindex_changed",m)),re.setContent(F.current),n?re.open(b,n):re.getPosition()?re.open(b):ut(!1,"You must provide either an anchor or a position prop for <InfoBox>."),y&&y(re)}return()=>{k!==null&&(_&&google.maps.event.removeListener(_),T&&google.maps.event.removeListener(T),P&&google.maps.event.removeListener(P),A&&google.maps.event.removeListener(A),W&&google.maps.event.removeListener(W),w&&w(k),k.close())}},[]),F.current?ii.createPortal(v.Children.only(e),F.current):null}v.memo(yO);class xO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"containerElement",null),K(this,"state",{infoBox:null}),K(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):ut(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),K(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,s=Rh(e,gO),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var a=new Qx(Sl(Sl({},s),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Oe({updaterMap:jv,eventMap:Pv,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:jv,eventMap:Pv,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Me(this.registeredEvents),n.close())}render(){return this.containerElement?ii.createPortal(v.Children.only(this.props.children),this.containerElement):null}}K(xO,"contextType",Le);var Yc,Tv;function wO(){return Tv||(Tv=1,Yc=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,o,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=s;o--!==0;){var u=a[o];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),Yc}var bO=wO(),Ov=Kx(bO),Mv=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Qc=1,ro=8;class Ah{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=s>>4;if(o!==Qc)throw new Error("Got v".concat(o," data when expected v").concat(Qc,"."));var a=Mv[s&15];if(!a)throw new Error("Unrecognized array type.");var[u]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new Ah(c,u,a,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=Mv.indexOf(this.ArrayType),u=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,h=(8-c%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,ro,e),this.coords=new this.ArrayType(this.data,ro+c+h,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ro+u+c+h),this.ids=new this.IndexArrayType(this.data,ro,e),this.coords=new this.ArrayType(this.data,ro+c+h,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Qc<<4)+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=n,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Ud(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,s,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:u,nodeSize:c}=this,h=[0,a.length-1,0],f=[];h.length;){var m=h.pop()||0,y=h.pop()||0,w=h.pop()||0;if(y-w<=c){for(var b=w;b<=y;b++){var k=u[2*b],E=u[2*b+1];k>=e&&k<=s&&E>=n&&E<=o&&f.push(a[b])}continue}var _=w+y>>1,L=u[2*_],P=u[2*_+1];L>=e&&L<=s&&P>=n&&P<=o&&f.push(a[_]),(m===0?e<=L:n<=P)&&(h.push(w),h.push(_-1),h.push(1-m)),(m===0?s>=L:o>=P)&&(h.push(_+1),h.push(y),h.push(1-m))}return f}within(e,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:a,nodeSize:u}=this,c=[0,o.length-1,0],h=[],f=s*s;c.length;){var m=c.pop()||0,y=c.pop()||0,w=c.pop()||0;if(y-w<=u){for(var b=w;b<=y;b++)Nv(a[2*b],a[2*b+1],e,n)<=f&&h.push(o[b]);continue}var k=w+y>>1,E=a[2*k],_=a[2*k+1];Nv(E,_,e,n)<=f&&h.push(o[k]),(m===0?e-s<=E:n-s<=_)&&(c.push(w),c.push(k-1),c.push(1-m)),(m===0?e+s>=E:n+s>=_)&&(c.push(k+1),c.push(y),c.push(1-m))}return h}}function Ud(t,e,n,s,o,a){if(!(o-s<=n)){var u=s+o>>1;Xx(t,e,u,s,o,a),Ud(t,e,n,s,u-1,1-a),Ud(t,e,n,u+1,o,1-a)}}function Xx(t,e,n,s,o,a){for(;o>s;){if(o-s>600){var u=o-s+1,c=n-s+1,h=Math.log(u),f=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*f*(u-f)/u)*(c-u/2<0?-1:1),y=Math.max(s,Math.floor(n-c*f/u+m)),w=Math.min(o,Math.floor(n+(u-c)*f/u+m));Xx(t,e,n,y,w,a)}var b=e[2*n+a],k=s,E=o;for(so(t,e,s,n),e[2*o+a]>b&&so(t,e,s,o);k<E;){for(so(t,e,k,E),k++,E--;e[2*k+a]<b;)k++;for(;e[2*E+a]>b;)E--}e[2*s+a]===b?so(t,e,s,E):(E++,so(t,e,E,o)),E<=n&&(s=E+1),n<=E&&(o=E-1)}}function so(t,e,n,s){Xc(t,n,s),Xc(e,2*n,2*s),Xc(e,2*n+1,2*s+1)}function Xc(t,e,n){var s=t[e];t[e]=t[n],t[n]=s}function Nv(t,e,n,s){var o=t-n,a=e-s;return o*o+a*a}var kO={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Rv=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Yr=2,br=3,ed=4,xr=5,ew=6;class SO{constructor(e){this.options=Object.assign(Object.create(kO),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:s,maxZoom:o}=this.options;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var u=[],c=0;c<e.length;c++){var h=e[c];if(h.geometry){var[f,m]=h.geometry.coordinates,y=Rv(nl(f)),w=Rv(rl(m));u.push(y,w,1/0,c,-1,1),this.options.reduce&&u.push(0)}}var b=this.trees[o+1]=this._createTree(u);n&&console.timeEnd(a);for(var k=o;k>=s;k--){var E=+Date.now();b=this.trees[k]=this._createTree(this._cluster(b,k)),n&&console.log("z%d: %d clusters in %dms",k,b.numItems,+Date.now()-E)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var s=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,u=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,a=180;else if(s>a){var c=this.getClusters([s,o,180,u],n),h=this.getClusters([-180,o,a,u],n);return c.concat(h)}var f=this.trees[this._limitZoom(n)],m=f.range(nl(s),rl(u),nl(a),rl(o)),y=f.data,w=[];for(var b of m){var k=this.stride*b;w.push(y[k+xr]>1?Av(y,k,this.clusterProps):this.points[y[k+br]])}return w}getChildren(e){var n=this._getOriginId(e),s=this._getOriginZoom(e),o="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(o);var u=a.data;if(n*this.stride>=u.length)throw new Error(o);var c=this.options.radius/(this.options.extent*Math.pow(2,s-1)),h=u[n*this.stride],f=u[n*this.stride+1],m=a.within(h,f,c),y=[];for(var w of m){var b=w*this.stride;u[b+ed]===e&&y.push(u[b+xr]>1?Av(u,b,this.clusterProps):this.points[u[b+br]])}if(y.length===0)throw new Error(o);return y}getLeaves(e,n,s){n=n||10,s=s||0;var o=[];return this._appendLeaves(o,e,n,s,0),o}getTile(e,n,s){var o=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:u,radius:c}=this.options,h=c/u,f=(s-h)/a,m=(s+1+h)/a,y={features:[]};return this._addTileFeatures(o.range((n-h)/a,f,(n+1+h)/a,m),o.data,n,s,a,y),n===0&&this._addTileFeatures(o.range(1-h/a,f,1,m),o.data,a,s,a,y),n===a-1&&this._addTileFeatures(o.range(0,f,h/a,m),o.data,-1,s,a,y),y.features.length?y:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,o,a){var u=this.getChildren(n);for(var c of u){var h=c.properties;if(h&&h.cluster?a+h.point_count<=o?a+=h.point_count:a=this._appendLeaves(e,h.cluster_id,s,o,a):a<o?a++:e.push(c),e.length===s)break}return a}_createTree(e){for(var n=new Ah(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)n.add(e[s],e[s+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,s,o,a,u){for(var c of e){var h=c*this.stride,f=n[h+xr]>1,m=void 0,y=void 0,w=void 0;if(f)m=tw(n,h,this.clusterProps),y=n[h],w=n[h+1];else{var b=this.points[n[h+br]];m=b.properties;var[k,E]=b.geometry.coordinates;y=nl(k),w=rl(E)}var _={type:1,geometry:[[Math.round(this.options.extent*(y*a-s)),Math.round(this.options.extent*(w*a-o))]],tags:m},L=void 0;f||this.options.generateId?L=n[h+br]:L=this.points[n[h+br]].id,L!==void 0&&(_.id=L),u.features.push(_)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:s,extent:o,reduce:a,minPoints:u}=this.options,c=s/(o*Math.pow(2,n)),h=e.data,f=[],m=this.stride,y=0;y<h.length;y+=m)if(!(h[y+Yr]<=n)){h[y+Yr]=n;var w=h[y],b=h[y+1],k=e.within(h[y],h[y+1],c),E=h[y+xr],_=E;for(var L of k){var P=L*m;h[P+Yr]>n&&(_+=h[P+xr])}if(_>E&&_>=u){var C=w*E,T=b*E,O=void 0,A=-1,D=((y/m|0)<<5)+(n+1)+this.points.length;for(var W of k){var $=W*m;if(!(h[$+Yr]<=n)){h[$+Yr]=n;var F=h[$+xr];C+=h[$]*F,T+=h[$+1]*F,h[$+ed]=D,a&&(O||(O=this._map(h,y,!0),A=this.clusterProps.length,this.clusterProps.push(O)),a(O,this._map(h,$)))}}h[y+ed]=D,f.push(C/_,T/_,1/0,D,-1,_),a&&f.push(A)}else{for(var q=0;q<m;q++)f.push(h[y+q]);if(_>1)for(var ne of k){var ue=ne*m;if(!(h[ue+Yr]<=n)){h[ue+Yr]=n;for(var te=0;te<m;te++)f.push(h[ue+te])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,s){if(e[n+xr]>1){var o=this.clusterProps[e[n+ew]];return s?Object.assign({},o):o}var a=this.points[e[n+br]].properties,u=this.options.map(a);return s&&u===a?Object.assign({},u):u}}function Av(t,e,n){return{type:"Feature",id:t[e+br],properties:tw(t,e,n),geometry:{type:"Point",coordinates:[EO(t[e]),_O(t[e+1])]}}}function tw(t,e,n){var s=t[e+xr],o=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,a=t[e+ew],u=a===-1?{}:Object.assign({},n[a]);return Object.assign(u,{cluster:!0,cluster_id:t[e+br],point_count:s,point_count_abbreviated:o})}function nl(t){return t/360+.5}function rl(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function EO(t){return(t-.5)*360}function _O(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function CO(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}class Bt{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class $d{constructor(e){var{markers:n,position:s}=e;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Bt.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Bt.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Bt.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class LO{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return PO(n)}}var PO=t=>{var e=t.map(n=>new $d({position:Bt.getPosition(n),markers:[n]}));return e};class jO extends LO{constructor(e){var{maxZoom:n,radius:s=60}=e,o=CO(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new SO(Object.assign({maxZoom:this.maxZoom,radius:s},o))}calculate(e){var n=!1,s={zoom:e.map.getZoom()};if(!Ov(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(a=>{var u=Bt.getPosition(a),c=[u.lng(),u.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:a}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!Ov(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[n,s]},properties:o}=e;if(o.cluster)return new $d({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(u=>u.properties.marker),position:{lat:s,lng:n}});var a=o.marker;return new $d({markers:[a],position:Bt.getPosition(a)})}}class TO{constructor(e,n){this.markers={sum:e.length};var s=n.map(a=>a.count),o=s.reduce((a,u)=>a+u,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...s),max:Math.max(...s)}}}}class OO{render(e,n,s){var{count:o,position:a}=e,u=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(u,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),h="Cluster of ".concat(o," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+o;if(Bt.isAdvancedMarkerAvailable(s)){var m=new DOMParser,y=m.parseFromString(c,"image/svg+xml").documentElement;y.setAttribute("transform","translate(0 25)");var w={map:s,position:a,zIndex:f,title:h,content:y};return new google.maps.marker.AdvancedMarkerElement(w)}var b={position:a,zIndex:f,title:h,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(b)}}function MO(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Ih{constructor(){MO(Ih,google.maps.OverlayView)}}var po;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(po||(po={}));var NO=(t,e,n)=>{n.fitBounds(e.bounds)};class RO extends Ih{constructor(e){var{map:n,markers:s=[],algorithmOptions:o={},algorithm:a=new jO(o),renderer:u=new OO,onClusterClick:c=NO}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=u,this.onClusterClick=c,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){var s=this.markers.indexOf(e);return s===-1?!1:(Bt.setMap(e,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){var s=!1;return e.forEach(o=>{s=this.removeMarker(o,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,po.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var o=new Set;for(var a of n)a.markers.length==1&&o.add(a.markers[0]);var u=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?o.has(c.marker)||Bt.setMap(c.marker,null):u.push(c.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>u.forEach(h=>Bt.setMap(h,null)))}google.maps.event.trigger(this,po.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Bt.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new TO(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,n),s.markers.forEach(o=>Bt.setMap(o,null)),this.onClusterClick&&s.marker.addListener("click",o=>{google.maps.event.trigger(this,po.CLUSTER_CLICK,s),this.onClusterClick(o,s,n)})),Bt.setMap(s.marker,n)})}}function Iv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function AO(t){var e=PT(),[n,s]=v.useState(null);return v.useEffect(()=>{if(e&&n===null){var o=new RO(Dv(Dv({},t),{},{map:e}));s(o)}},[e]),n}function IO(t){var{children:e,options:n}=t,s=AO(n);return s!==null?e(s):null}v.memo(IO);var Uv={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$v={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function DO(t){var{children:e,anchor:n,options:s,position:o,zIndex:a,onCloseClick:u,onDomReady:c,onContentChanged:h,onPositionChanged:f,onZindexChanged:m,onLoad:y,onUnmount:w}=t,b=v.useContext(Le),[k,E]=v.useState(null),[_,L]=v.useState(null),[P,C]=v.useState(null),[T,O]=v.useState(null),[A,D]=v.useState(null),[W,$]=v.useState(null),F=v.useRef(null);return v.useEffect(()=>{k!==null&&(k.close(),n?k.open(b,n):k.getPosition()&&k.open(b))},[b,k,n]),v.useEffect(()=>{s&&k!==null&&k.setOptions(s)},[k,s]),v.useEffect(()=>{o&&k!==null&&k.setPosition(o)},[o]),v.useEffect(()=>{typeof a=="number"&&k!==null&&k.setZIndex(a)},[a]),v.useEffect(()=>{k&&u&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(k,"closeclick",u)))},[u]),v.useEffect(()=>{k&&c&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(k,"domready",c)))},[c]),v.useEffect(()=>{k&&h&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(k,"content_changed",h)))},[h]),v.useEffect(()=>{k&&f&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(k,"position_changed",f)))},[f]),v.useEffect(()=>{k&&m&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(k,"zindex_changed",m)))},[m]),v.useEffect(()=>{var q=new google.maps.InfoWindow(s);return E(q),F.current=document.createElement("div"),u&&L(google.maps.event.addListener(q,"closeclick",u)),c&&C(google.maps.event.addListener(q,"domready",c)),h&&O(google.maps.event.addListener(q,"content_changed",h)),f&&D(google.maps.event.addListener(q,"position_changed",f)),m&&$(google.maps.event.addListener(q,"zindex_changed",m)),q.setContent(F.current),o&&q.setPosition(o),a&&q.setZIndex(a),n?q.open(b,n):q.getPosition()?q.open(b):ut(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),y&&y(q),()=>{_&&google.maps.event.removeListener(_),T&&google.maps.event.removeListener(T),P&&google.maps.event.removeListener(P),A&&google.maps.event.removeListener(A),W&&google.maps.event.removeListener(W),w&&w(q),q.close()}},[]),F.current?ii.createPortal(v.Children.only(e),F.current):null}v.memo(DO);class UO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"containerElement",null),K(this,"state",{infoWindow:null}),K(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):ut(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),K(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Oe({updaterMap:$v,eventMap:Uv,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:$v,eventMap:Uv,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Me(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?ii.createPortal(v.Children.only(this.props.children),this.containerElement):null}}K(UO,"contextType",Le);function Bv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Vv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Fv={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},$O={};function BO(t){var{options:e,draggable:n,editable:s,visible:o,path:a,onDblClick:u,onDragEnd:c,onDragStart:h,onMouseDown:f,onMouseMove:m,onMouseOut:y,onMouseOver:w,onMouseUp:b,onRightClick:k,onClick:E,onDrag:_,onLoad:L,onUnmount:P}=t,C=v.useContext(Le),[T,O]=v.useState(null),[A,D]=v.useState(null),[W,$]=v.useState(null),[F,q]=v.useState(null),[ne,ue]=v.useState(null),[te,re]=v.useState(null),[ge,ie]=v.useState(null),[H,X]=v.useState(null),[G,N]=v.useState(null),[z,ee]=v.useState(null),[ae,V]=v.useState(null),[ve,ye]=v.useState(null);return v.useEffect(()=>{T!==null&&T.setMap(C)},[C]),v.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),v.useEffect(()=>{typeof n<"u"&&T!==null&&T.setDraggable(n)},[T,n]),v.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),v.useEffect(()=>{typeof o<"u"&&T!==null&&T.setVisible(o)},[T,o]),v.useEffect(()=>{typeof a<"u"&&T!==null&&T.setPath(a)},[T,a]),v.useEffect(()=>{T&&u&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(T,"dblclick",u)))},[u]),v.useEffect(()=>{T&&c&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(T,"dragend",c)))},[c]),v.useEffect(()=>{T&&h&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(T,"dragstart",h)))},[h]),v.useEffect(()=>{T&&f&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(T,"mousedown",f)))},[f]),v.useEffect(()=>{T&&m&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(T,"mousemove",m)))},[m]),v.useEffect(()=>{T&&y&&(ge!==null&&google.maps.event.removeListener(ge),ie(google.maps.event.addListener(T,"mouseout",y)))},[y]),v.useEffect(()=>{T&&w&&(H!==null&&google.maps.event.removeListener(H),X(google.maps.event.addListener(T,"mouseover",w)))},[w]),v.useEffect(()=>{T&&b&&(G!==null&&google.maps.event.removeListener(G),N(google.maps.event.addListener(T,"mouseup",b)))},[b]),v.useEffect(()=>{T&&k&&(z!==null&&google.maps.event.removeListener(z),ee(google.maps.event.addListener(T,"rightclick",k)))},[k]),v.useEffect(()=>{T&&E&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(T,"click",E)))},[E]),v.useEffect(()=>{T&&_&&(ve!==null&&google.maps.event.removeListener(ve),ye(google.maps.event.addListener(T,"drag",_)))},[_]),v.useEffect(()=>{var oe=new google.maps.Polyline(El(El({},e||$O),{},{map:C}));return a&&oe.setPath(a),typeof o<"u"&&oe.setVisible(o),typeof s<"u"&&oe.setEditable(s),typeof n<"u"&&oe.setDraggable(n),u&&D(google.maps.event.addListener(oe,"dblclick",u)),c&&$(google.maps.event.addListener(oe,"dragend",c)),h&&q(google.maps.event.addListener(oe,"dragstart",h)),f&&ue(google.maps.event.addListener(oe,"mousedown",f)),m&&re(google.maps.event.addListener(oe,"mousemove",m)),y&&ie(google.maps.event.addListener(oe,"mouseout",y)),w&&X(google.maps.event.addListener(oe,"mouseover",w)),b&&N(google.maps.event.addListener(oe,"mouseup",b)),k&&ee(google.maps.event.addListener(oe,"rightclick",k)),E&&V(google.maps.event.addListener(oe,"click",E)),_&&ye(google.maps.event.addListener(oe,"drag",_)),O(oe),L&&L(oe),()=>{A!==null&&google.maps.event.removeListener(A),W!==null&&google.maps.event.removeListener(W),F!==null&&google.maps.event.removeListener(F),ne!==null&&google.maps.event.removeListener(ne),te!==null&&google.maps.event.removeListener(te),ge!==null&&google.maps.event.removeListener(ge),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),z!==null&&google.maps.event.removeListener(z),ae!==null&&google.maps.event.removeListener(ae),P&&P(oe),oe.setMap(null)}},[]),null}v.memo(BO);class VO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{polyline:null}),K(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(El(El({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:Fv,eventMap:Vv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:Fv,eventMap:Vv,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Me(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}K(VO,"contextType",Le);function zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Kv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Hv={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function FO(t){var{options:e,draggable:n,editable:s,visible:o,path:a,paths:u,onDblClick:c,onDragEnd:h,onDragStart:f,onMouseDown:m,onMouseMove:y,onMouseOut:w,onMouseOver:b,onMouseUp:k,onRightClick:E,onClick:_,onDrag:L,onLoad:P,onUnmount:C,onEdit:T}=t,O=v.useContext(Le),[A,D]=v.useState(null),[W,$]=v.useState(null),[F,q]=v.useState(null),[ne,ue]=v.useState(null),[te,re]=v.useState(null),[ge,ie]=v.useState(null),[H,X]=v.useState(null),[G,N]=v.useState(null),[z,ee]=v.useState(null),[ae,V]=v.useState(null),[ve,ye]=v.useState(null),[oe,Ce]=v.useState(null);return v.useEffect(()=>{A!==null&&A.setMap(O)},[O]),v.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),v.useEffect(()=>{typeof n<"u"&&A!==null&&A.setDraggable(n)},[A,n]),v.useEffect(()=>{typeof s<"u"&&A!==null&&A.setEditable(s)},[A,s]),v.useEffect(()=>{typeof o<"u"&&A!==null&&A.setVisible(o)},[A,o]),v.useEffect(()=>{typeof a<"u"&&A!==null&&A.setPath(a)},[A,a]),v.useEffect(()=>{typeof u<"u"&&A!==null&&A.setPaths(u)},[A,u]),v.useEffect(()=>{A&&typeof c=="function"&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(A,"dblclick",c)))},[c]),v.useEffect(()=>{A&&(google.maps.event.addListener(A.getPath(),"insert_at",()=>{T==null||T(A)}),google.maps.event.addListener(A.getPath(),"set_at",()=>{T==null||T(A)}),google.maps.event.addListener(A.getPath(),"remove_at",()=>{T==null||T(A)}))},[A,T]),v.useEffect(()=>{A&&typeof h=="function"&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(A,"dragend",h)))},[h]),v.useEffect(()=>{A&&typeof f=="function"&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(A,"dragstart",f)))},[f]),v.useEffect(()=>{A&&typeof m=="function"&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(A,"mousedown",m)))},[m]),v.useEffect(()=>{A&&typeof y=="function"&&(ge!==null&&google.maps.event.removeListener(ge),ie(google.maps.event.addListener(A,"mousemove",y)))},[y]),v.useEffect(()=>{A&&typeof w=="function"&&(H!==null&&google.maps.event.removeListener(H),X(google.maps.event.addListener(A,"mouseout",w)))},[w]),v.useEffect(()=>{A&&typeof b=="function"&&(G!==null&&google.maps.event.removeListener(G),N(google.maps.event.addListener(A,"mouseover",b)))},[b]),v.useEffect(()=>{A&&typeof k=="function"&&(z!==null&&google.maps.event.removeListener(z),ee(google.maps.event.addListener(A,"mouseup",k)))},[k]),v.useEffect(()=>{A&&typeof E=="function"&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(A,"rightclick",E)))},[E]),v.useEffect(()=>{A&&typeof _=="function"&&(ve!==null&&google.maps.event.removeListener(ve),ye(google.maps.event.addListener(A,"click",_)))},[_]),v.useEffect(()=>{A&&typeof L=="function"&&(oe!==null&&google.maps.event.removeListener(oe),Ce(google.maps.event.addListener(A,"drag",L)))},[L]),v.useEffect(()=>{var de=new google.maps.Polygon(Wv(Wv({},e),{},{map:O}));return a&&de.setPath(a),u&&de.setPaths(u),typeof o<"u"&&de.setVisible(o),typeof s<"u"&&de.setEditable(s),typeof n<"u"&&de.setDraggable(n),c&&$(google.maps.event.addListener(de,"dblclick",c)),h&&q(google.maps.event.addListener(de,"dragend",h)),f&&ue(google.maps.event.addListener(de,"dragstart",f)),m&&re(google.maps.event.addListener(de,"mousedown",m)),y&&ie(google.maps.event.addListener(de,"mousemove",y)),w&&X(google.maps.event.addListener(de,"mouseout",w)),b&&N(google.maps.event.addListener(de,"mouseover",b)),k&&ee(google.maps.event.addListener(de,"mouseup",k)),E&&V(google.maps.event.addListener(de,"rightclick",E)),_&&ye(google.maps.event.addListener(de,"click",_)),L&&Ce(google.maps.event.addListener(de,"drag",L)),D(de),P&&P(de),()=>{W!==null&&google.maps.event.removeListener(W),F!==null&&google.maps.event.removeListener(F),ne!==null&&google.maps.event.removeListener(ne),te!==null&&google.maps.event.removeListener(te),ge!==null&&google.maps.event.removeListener(ge),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),z!==null&&google.maps.event.removeListener(z),ae!==null&&google.maps.event.removeListener(ae),ve!==null&&google.maps.event.removeListener(ve),C&&C(de),de.setMap(null)}},[]),null}v.memo(FO);class zO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Oe({updaterMap:Hv,eventMap:Kv,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:Hv,eventMap:Kv,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Me(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}K(zO,"contextType",Le);function Gv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function _l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var qv={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Zv={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function WO(t){var{options:e,bounds:n,draggable:s,editable:o,visible:a,onDblClick:u,onDragEnd:c,onDragStart:h,onMouseDown:f,onMouseMove:m,onMouseOut:y,onMouseOver:w,onMouseUp:b,onRightClick:k,onClick:E,onDrag:_,onBoundsChanged:L,onLoad:P,onUnmount:C}=t,T=v.useContext(Le),[O,A]=v.useState(null),[D,W]=v.useState(null),[$,F]=v.useState(null),[q,ne]=v.useState(null),[ue,te]=v.useState(null),[re,ge]=v.useState(null),[ie,H]=v.useState(null),[X,G]=v.useState(null),[N,z]=v.useState(null),[ee,ae]=v.useState(null),[V,ve]=v.useState(null),[ye,oe]=v.useState(null),[Ce,de]=v.useState(null);return v.useEffect(()=>{O!==null&&O.setMap(T)},[T]),v.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),v.useEffect(()=>{typeof s<"u"&&O!==null&&O.setDraggable(s)},[O,s]),v.useEffect(()=>{typeof o<"u"&&O!==null&&O.setEditable(o)},[O,o]),v.useEffect(()=>{typeof a<"u"&&O!==null&&O.setVisible(a)},[O,a]),v.useEffect(()=>{typeof n<"u"&&O!==null&&O.setBounds(n)},[O,n]),v.useEffect(()=>{O&&u&&(D!==null&&google.maps.event.removeListener(D),W(google.maps.event.addListener(O,"dblclick",u)))},[u]),v.useEffect(()=>{O&&c&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(O,"dragend",c)))},[c]),v.useEffect(()=>{O&&h&&(q!==null&&google.maps.event.removeListener(q),ne(google.maps.event.addListener(O,"dragstart",h)))},[h]),v.useEffect(()=>{O&&f&&(ue!==null&&google.maps.event.removeListener(ue),te(google.maps.event.addListener(O,"mousedown",f)))},[f]),v.useEffect(()=>{O&&m&&(re!==null&&google.maps.event.removeListener(re),ge(google.maps.event.addListener(O,"mousemove",m)))},[m]),v.useEffect(()=>{O&&y&&(ie!==null&&google.maps.event.removeListener(ie),H(google.maps.event.addListener(O,"mouseout",y)))},[y]),v.useEffect(()=>{O&&w&&(X!==null&&google.maps.event.removeListener(X),G(google.maps.event.addListener(O,"mouseover",w)))},[w]),v.useEffect(()=>{O&&b&&(N!==null&&google.maps.event.removeListener(N),z(google.maps.event.addListener(O,"mouseup",b)))},[b]),v.useEffect(()=>{O&&k&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(O,"rightclick",k)))},[k]),v.useEffect(()=>{O&&E&&(V!==null&&google.maps.event.removeListener(V),ve(google.maps.event.addListener(O,"click",E)))},[E]),v.useEffect(()=>{O&&_&&(ye!==null&&google.maps.event.removeListener(ye),oe(google.maps.event.addListener(O,"drag",_)))},[_]),v.useEffect(()=>{O&&L&&(Ce!==null&&google.maps.event.removeListener(Ce),de(google.maps.event.addListener(O,"bounds_changed",L)))},[L]),v.useEffect(()=>{var je=new google.maps.Rectangle(_l(_l({},e),{},{map:T}));return typeof a<"u"&&je.setVisible(a),typeof o<"u"&&je.setEditable(o),typeof s<"u"&&je.setDraggable(s),typeof n<"u"&&je.setBounds(n),u&&W(google.maps.event.addListener(je,"dblclick",u)),c&&F(google.maps.event.addListener(je,"dragend",c)),h&&ne(google.maps.event.addListener(je,"dragstart",h)),f&&te(google.maps.event.addListener(je,"mousedown",f)),m&&ge(google.maps.event.addListener(je,"mousemove",m)),y&&H(google.maps.event.addListener(je,"mouseout",y)),w&&G(google.maps.event.addListener(je,"mouseover",w)),b&&z(google.maps.event.addListener(je,"mouseup",b)),k&&ae(google.maps.event.addListener(je,"rightclick",k)),E&&ve(google.maps.event.addListener(je,"click",E)),_&&oe(google.maps.event.addListener(je,"drag",_)),L&&de(google.maps.event.addListener(je,"bounds_changed",L)),A(je),P&&P(je),()=>{D!==null&&google.maps.event.removeListener(D),$!==null&&google.maps.event.removeListener($),q!==null&&google.maps.event.removeListener(q),ue!==null&&google.maps.event.removeListener(ue),re!==null&&google.maps.event.removeListener(re),ie!==null&&google.maps.event.removeListener(ie),X!==null&&google.maps.event.removeListener(X),N!==null&&google.maps.event.removeListener(N),ee!==null&&google.maps.event.removeListener(ee),V!==null&&google.maps.event.removeListener(V),ye!==null&&google.maps.event.removeListener(ye),Ce!==null&&google.maps.event.removeListener(Ce),C&&C(je),je.setMap(null)}},[]),null}v.memo(WO);class KO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{rectangle:null}),K(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(_l(_l({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:Zv,eventMap:qv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:Zv,eventMap:qv,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Me(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}K(KO,"contextType",Le);function Jv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Yv={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qv={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},HO={};function GO(t){var{options:e,center:n,radius:s,draggable:o,editable:a,visible:u,onDblClick:c,onDragEnd:h,onDragStart:f,onMouseDown:m,onMouseMove:y,onMouseOut:w,onMouseOver:b,onMouseUp:k,onRightClick:E,onClick:_,onDrag:L,onCenterChanged:P,onRadiusChanged:C,onLoad:T,onUnmount:O}=t,A=v.useContext(Le),[D,W]=v.useState(null),[$,F]=v.useState(null),[q,ne]=v.useState(null),[ue,te]=v.useState(null),[re,ge]=v.useState(null),[ie,H]=v.useState(null),[X,G]=v.useState(null),[N,z]=v.useState(null),[ee,ae]=v.useState(null),[V,ve]=v.useState(null),[ye,oe]=v.useState(null),[Ce,de]=v.useState(null),[je,Ct]=v.useState(null),[Lt,Cn]=v.useState(null);return v.useEffect(()=>{D!==null&&D.setMap(A)},[A]),v.useEffect(()=>{typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),v.useEffect(()=>{typeof o<"u"&&D!==null&&D.setDraggable(o)},[D,o]),v.useEffect(()=>{typeof a<"u"&&D!==null&&D.setEditable(a)},[D,a]),v.useEffect(()=>{typeof u<"u"&&D!==null&&D.setVisible(u)},[D,u]),v.useEffect(()=>{typeof s=="number"&&D!==null&&D.setRadius(s)},[D,s]),v.useEffect(()=>{typeof n<"u"&&D!==null&&D.setCenter(n)},[D,n]),v.useEffect(()=>{D&&c&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(D,"dblclick",c)))},[c]),v.useEffect(()=>{D&&h&&(q!==null&&google.maps.event.removeListener(q),ne(google.maps.event.addListener(D,"dragend",h)))},[h]),v.useEffect(()=>{D&&f&&(ue!==null&&google.maps.event.removeListener(ue),te(google.maps.event.addListener(D,"dragstart",f)))},[f]),v.useEffect(()=>{D&&m&&(re!==null&&google.maps.event.removeListener(re),ge(google.maps.event.addListener(D,"mousedown",m)))},[m]),v.useEffect(()=>{D&&y&&(ie!==null&&google.maps.event.removeListener(ie),H(google.maps.event.addListener(D,"mousemove",y)))},[y]),v.useEffect(()=>{D&&w&&(X!==null&&google.maps.event.removeListener(X),G(google.maps.event.addListener(D,"mouseout",w)))},[w]),v.useEffect(()=>{D&&b&&(N!==null&&google.maps.event.removeListener(N),z(google.maps.event.addListener(D,"mouseover",b)))},[b]),v.useEffect(()=>{D&&k&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(D,"mouseup",k)))},[k]),v.useEffect(()=>{D&&E&&(V!==null&&google.maps.event.removeListener(V),ve(google.maps.event.addListener(D,"rightclick",E)))},[E]),v.useEffect(()=>{D&&_&&(ye!==null&&google.maps.event.removeListener(ye),oe(google.maps.event.addListener(D,"click",_)))},[_]),v.useEffect(()=>{D&&L&&(Ce!==null&&google.maps.event.removeListener(Ce),de(google.maps.event.addListener(D,"drag",L)))},[L]),v.useEffect(()=>{D&&P&&(je!==null&&google.maps.event.removeListener(je),Ct(google.maps.event.addListener(D,"center_changed",P)))},[_]),v.useEffect(()=>{D&&C&&(Lt!==null&&google.maps.event.removeListener(Lt),Cn(google.maps.event.addListener(D,"radius_changed",C)))},[C]),v.useEffect(()=>{var Ie=new google.maps.Circle(Cl(Cl({},e||HO),{},{map:A}));return typeof s=="number"&&Ie.setRadius(s),typeof n<"u"&&Ie.setCenter(n),typeof s=="number"&&Ie.setRadius(s),typeof u<"u"&&Ie.setVisible(u),typeof a<"u"&&Ie.setEditable(a),typeof o<"u"&&Ie.setDraggable(o),c&&F(google.maps.event.addListener(Ie,"dblclick",c)),h&&ne(google.maps.event.addListener(Ie,"dragend",h)),f&&te(google.maps.event.addListener(Ie,"dragstart",f)),m&&ge(google.maps.event.addListener(Ie,"mousedown",m)),y&&H(google.maps.event.addListener(Ie,"mousemove",y)),w&&G(google.maps.event.addListener(Ie,"mouseout",w)),b&&z(google.maps.event.addListener(Ie,"mouseover",b)),k&&ae(google.maps.event.addListener(Ie,"mouseup",k)),E&&ve(google.maps.event.addListener(Ie,"rightclick",E)),_&&oe(google.maps.event.addListener(Ie,"click",_)),L&&de(google.maps.event.addListener(Ie,"drag",L)),P&&Ct(google.maps.event.addListener(Ie,"center_changed",P)),C&&Cn(google.maps.event.addListener(Ie,"radius_changed",C)),W(Ie),T&&T(Ie),()=>{$!==null&&google.maps.event.removeListener($),q!==null&&google.maps.event.removeListener(q),ue!==null&&google.maps.event.removeListener(ue),re!==null&&google.maps.event.removeListener(re),ie!==null&&google.maps.event.removeListener(ie),X!==null&&google.maps.event.removeListener(X),N!==null&&google.maps.event.removeListener(N),ee!==null&&google.maps.event.removeListener(ee),V!==null&&google.maps.event.removeListener(V),ye!==null&&google.maps.event.removeListener(ye),je!==null&&google.maps.event.removeListener(je),Lt!==null&&google.maps.event.removeListener(Lt),O&&O(Ie),Ie.setMap(null)}},[]),null}v.memo(GO);class qO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{circle:null}),K(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Cl(Cl({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:Qv,eventMap:Yv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:Qv,eventMap:Yv,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Me(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}K(qO,"contextType",Le);function Xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xv(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var ey={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},ty={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,s){t.loadGeoJson(e,n,s)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function ZO(t){var{options:e,onClick:n,onDblClick:s,onMouseDown:o,onMouseMove:a,onMouseOut:u,onMouseOver:c,onMouseUp:h,onRightClick:f,onAddFeature:m,onRemoveFeature:y,onRemoveProperty:w,onSetGeometry:b,onSetProperty:k,onLoad:E,onUnmount:_}=t,L=v.useContext(Le),[P,C]=v.useState(null),[T,O]=v.useState(null),[A,D]=v.useState(null),[W,$]=v.useState(null),[F,q]=v.useState(null),[ne,ue]=v.useState(null),[te,re]=v.useState(null),[ge,ie]=v.useState(null),[H,X]=v.useState(null),[G,N]=v.useState(null),[z,ee]=v.useState(null),[ae,V]=v.useState(null),[ve,ye]=v.useState(null),[oe,Ce]=v.useState(null);return v.useEffect(()=>{P!==null&&P.setMap(L)},[L]),v.useEffect(()=>{P&&s&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(P,"dblclick",s)))},[s]),v.useEffect(()=>{P&&o&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(P,"mousedown",o)))},[o]),v.useEffect(()=>{P&&a&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(P,"mousemove",a)))},[a]),v.useEffect(()=>{P&&u&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(P,"mouseout",u)))},[u]),v.useEffect(()=>{P&&c&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(P,"mouseover",c)))},[c]),v.useEffect(()=>{P&&h&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(P,"mouseup",h)))},[h]),v.useEffect(()=>{P&&f&&(ge!==null&&google.maps.event.removeListener(ge),ie(google.maps.event.addListener(P,"rightclick",f)))},[f]),v.useEffect(()=>{P&&n&&(H!==null&&google.maps.event.removeListener(H),X(google.maps.event.addListener(P,"click",n)))},[n]),v.useEffect(()=>{P&&m&&(G!==null&&google.maps.event.removeListener(G),N(google.maps.event.addListener(P,"addfeature",m)))},[m]),v.useEffect(()=>{P&&y&&(z!==null&&google.maps.event.removeListener(z),ee(google.maps.event.addListener(P,"removefeature",y)))},[y]),v.useEffect(()=>{P&&w&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(P,"removeproperty",w)))},[w]),v.useEffect(()=>{P&&b&&(ve!==null&&google.maps.event.removeListener(ve),ye(google.maps.event.addListener(P,"setgeometry",b)))},[b]),v.useEffect(()=>{P&&k&&(oe!==null&&google.maps.event.removeListener(oe),Ce(google.maps.event.addListener(P,"setproperty",k)))},[k]),v.useEffect(()=>{if(L!==null){var de=new google.maps.Data(Ll(Ll({},e),{},{map:L}));s&&O(google.maps.event.addListener(de,"dblclick",s)),o&&D(google.maps.event.addListener(de,"mousedown",o)),a&&$(google.maps.event.addListener(de,"mousemove",a)),u&&q(google.maps.event.addListener(de,"mouseout",u)),c&&ue(google.maps.event.addListener(de,"mouseover",c)),h&&re(google.maps.event.addListener(de,"mouseup",h)),f&&ie(google.maps.event.addListener(de,"rightclick",f)),n&&X(google.maps.event.addListener(de,"click",n)),m&&N(google.maps.event.addListener(de,"addfeature",m)),y&&ee(google.maps.event.addListener(de,"removefeature",y)),w&&V(google.maps.event.addListener(de,"removeproperty",w)),b&&ye(google.maps.event.addListener(de,"setgeometry",b)),k&&Ce(google.maps.event.addListener(de,"setproperty",k)),C(de),E&&E(de)}return()=>{P&&(T!==null&&google.maps.event.removeListener(T),A!==null&&google.maps.event.removeListener(A),W!==null&&google.maps.event.removeListener(W),F!==null&&google.maps.event.removeListener(F),ne!==null&&google.maps.event.removeListener(ne),te!==null&&google.maps.event.removeListener(te),ge!==null&&google.maps.event.removeListener(ge),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),z!==null&&google.maps.event.removeListener(z),ae!==null&&google.maps.event.removeListener(ae),ve!==null&&google.maps.event.removeListener(ve),oe!==null&&google.maps.event.removeListener(oe),_&&_(P),P.setMap(null))}},[]),null}v.memo(ZO);class JO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{data:null}),K(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ll(Ll({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:ty,eventMap:ey,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:ty,eventMap:ey,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Me(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}K(JO,"contextType",Le);function ny(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ny(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var sy={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},iy={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class YO extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{kmlLayer:null}),K(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(ry(ry({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:iy,eventMap:sy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:iy,eventMap:sy,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Me(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}K(YO,"contextType",Le);function nw(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function QO(t,e){return new e(t.lat,t.lng)}function XO(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function eM(t,e,n){return t instanceof e?t:n(t,e)}function tM(t,e,n){return t instanceof e?t:n(t,e)}function nM(t,e,n){var s=t&&t.fromLatLngToDivPixel(n.getNorthEast()),o=t&&t.fromLatLngToDivPixel(n.getSouthWest());return s&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-o.x-e.x,"px"),height:"".concat(o.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function rM(t,e,n){var s=t&&t.fromLatLngToDivPixel(n);if(s){var{x:o,y:a}=s;return{left:"".concat(o+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function rw(t,e,n,s){return n!==void 0?nM(t,e,tM(n,google.maps.LatLngBounds,XO)):rM(t,e,eM(s,google.maps.LatLng,QO))}function sM(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oy(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function oM(t,e,n,s,o){class a extends google.maps.OverlayView{constructor(c,h,f,m){super(),this.container=c,this.pane=h,this.position=f,this.bounds=m}onAdd(){var c,h=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];h==null||h.appendChild(this.container)}draw(){var c=this.getProjection(),h=iM({},this.container?nw(this.container,o):{x:0,y:0}),f=rw(c,h,this.bounds,this.position);for(var[m,y]of Object.entries(f))this.container.style[m]=y}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(t,e,n,s)}function ay(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ay(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ay(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ly(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function uy(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function lM(t){var{position:e,bounds:n,mapPaneName:s,zIndex:o,onLoad:a,onUnmount:u,getPixelPositionOffset:c,children:h}=t,f=v.useContext(Le),m=v.useMemo(()=>{var w=document.createElement("div");return w.style.position="absolute",w},[]),y=v.useMemo(()=>oM(m,s,e,n,c),[m,s,e,n]);return v.useEffect(()=>(a==null||a(y),y==null||y.setMap(f),()=>{u==null||u(y),y==null||y.setMap(null)}),[f,y]),v.useEffect(()=>{m.style.zIndex="".concat(o)},[o,m]),ii.createPortal(h,m)}v.memo(lM);class ui extends v.PureComponent{constructor(e){super(e),K(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),K(this,"updatePane",()=>{var s=this.props.mapPaneName,o=this.overlayView.getPanes();ut(!!s,"OverlayView requires props.mapPaneName but got %s",s),o?this.setState({paneEl:o[s]}):this.setState({paneEl:null})}),K(this,"onAdd",()=>{var s,o;this.updatePane(),(s=(o=this.props).onLoad)===null||s===void 0||s.call(o,this.overlayView)}),K(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),o=aM({x:0,y:0},this.containerRef.current?nw(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=rw(s,o,this.props.bounds,this.props.position);if(!sM(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var u,c,h,f;this.setState({containerStyle:{top:(u=a.top)!==null&&u!==void 0?u:0,left:(c=a.left)!==null&&c!==void 0?c:0,width:(h=a.width)!==null&&h!==void 0?h:0,height:(f=a.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),K(this,"draw",()=>{this.onPositionElement()}),K(this,"onRemove",()=>{var s,o;this.setState(()=>({paneEl:null})),(s=(o=this.props).onUnmount)===null||s===void 0||s.call(o,this.overlayView)}),this.containerRef=v.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=ly(e.position),s=ly(this.props.position),o=uy(e.bounds),a=uy(this.props.bounds);(n!==s||o!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?ii.createPortal(g.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:v.Children.only(this.props.children)}),e):null}}K(ui,"FLOAT_PANE","floatPane");K(ui,"MAP_PANE","mapPane");K(ui,"MARKER_LAYER","markerLayer");K(ui,"OVERLAY_LAYER","overlayLayer");K(ui,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");K(ui,"contextType",Le);function uM(){}function cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cy(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var hy={onDblClick:"dblclick",onClick:"click"},fy={opacity(t,e){t.setOpacity(e)}};function cM(t){var{url:e,bounds:n,options:s,visible:o}=t,a=v.useContext(Le),u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),c=v.useMemo(()=>new google.maps.GroundOverlay(e,u,s),[]);return v.useEffect(()=>{c!==null&&c.setMap(a)},[a]),v.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(a))},[c,e]),v.useEffect(()=>{typeof o<"u"&&c!==null&&c.setOpacity(o?1:0)},[c,o]),v.useEffect(()=>{var h=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&c!==null&&(c.set("bounds",h),c.setMap(a))},[c,n]),null}v.memo(cM);class sw extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{groundOverlay:null}),K(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){ut(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,dy(dy({},this.props.options),{},{map:this.context}));this.registeredEvents=Oe({updaterMap:fy,eventMap:hy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:fy,eventMap:hy,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}K(sw,"defaultProps",{onLoad:uM});K(sw,"contextType",Le);function py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?py(Object(n),!0).forEach(function(s){K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var my={},gy={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function dM(t){var{data:e,onLoad:n,onUnmount:s,options:o}=t,a=v.useContext(Le),[u,c]=v.useState(null);return v.useEffect(()=>{google.maps.visualization||ut(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),v.useEffect(()=>{ut(!!e,"data property is required in HeatmapLayer %s",e)},[e]),v.useEffect(()=>{u!==null&&u.setMap(a)},[a]),v.useEffect(()=>{o&&u!==null&&u.setOptions(o)},[u,o]),v.useEffect(()=>{var h=new google.maps.visualization.HeatmapLayer(Pl(Pl({},o),{},{data:e,map:a}));return c(h),n&&n(h),()=>{u!==null&&(s&&s(u),u.setMap(null))}},[]),null}v.memo(dM);class hM extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{heatmapLayer:null}),K(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){ut(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),ut(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Pl(Pl({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Oe({updaterMap:gy,eventMap:my,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:gy,eventMap:my,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Me(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}K(hM,"contextType",Le);var vy={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},yy={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class fM extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{streetViewPanorama:null}),K(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,s=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Oe({updaterMap:yy,eventMap:vy,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:yy,eventMap:vy,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Me(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}K(fM,"contextType",Le);class pM extends v.PureComponent{constructor(){super(...arguments),K(this,"state",{streetViewService:null}),K(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}K(pM,"contextType",Le);var xy={onDirectionsChanged:"directions_changed"},wy={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class mM extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"state",{directionsRenderer:null}),K(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Oe({updaterMap:wy,eventMap:xy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:wy,eventMap:xy,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Me(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}K(mM,"contextType",Le);var by={onPlacesChanged:"places_changed"},ky={bounds(t,e){t.setBounds(e)}};class gM extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"containerElement",v.createRef()),K(this,"state",{searchBox:null}),K(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(ut(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Oe({updaterMap:ky,eventMap:by,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:ky,eventMap:by,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Me(this.registeredEvents))}render(){return g.jsx("div",{ref:this.containerElement,children:v.Children.only(this.props.children)})}}K(gM,"contextType",Le);var Sy={onPlaceChanged:"place_changed"},Ey={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class iw extends v.PureComponent{constructor(){super(...arguments),K(this,"registeredEvents",[]),K(this,"containerElement",v.createRef()),K(this,"state",{autocomplete:null}),K(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;ut(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Oe({updaterMap:Ey,eventMap:Sy,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){Me(this.registeredEvents),this.registeredEvents=Oe({updaterMap:Ey,eventMap:Sy,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Me(this.registeredEvents)}render(){return g.jsx("div",{ref:this.containerElement,className:this.props.className,children:v.Children.only(this.props.children)})}}K(iw,"defaultProps",{className:""});K(iw,"contextType",Le);const _y={title:"",location:"",priceKes:"",sizeAcres:"",images:[],videoFile:null,sellerPhone:"+254700000000",lat:null,lng:null,category:"Residential"},vM=({session:t})=>{var _,L;const e=Tl(),[n,s]=me.useState(_y),[o,a]=me.useState(!1),[u,c]=me.useState(null),[h,f]=me.useState(null),[m,y]=me.useState(!1),[w,b]=me.useState(!1);Jx({id:"google-map-script",googleMapsApiKey:""}),me.useEffect(()=>{t!=null&&t.user||e("/auth")},[e,t==null?void 0:t.user]);const k=P=>C=>{s(T=>({...T,[P]:C}))},E=async P=>{if(P.preventDefault(),c(null),f(null),!(t!=null&&t.user)){e("/auth");return}if(!Te){c("Supabase is not configured.");return}const C=Number(n.priceKes);if(n.priceKes.trim()===""||Number.isNaN(C)){c("Please enter a valid price in KES.");return}try{a(!0);const T=[],O=async(q,ne)=>{const ue=q.name.split(".").pop()??"bin",te=`plots/${ne}/${Date.now()}-${Math.random().toString(36).slice(2)}.${ue}`,{error:re}=await Te.storage.from("plots-media").upload(te,q);if(re)throw re;const{data:ge}=Te.storage.from("plots-media").getPublicUrl(te);return(ge==null?void 0:ge.publicUrl)??null};for(const q of n.images)T.push(O(q,"images"));n.videoFile&&T.push(O(n.videoFile,"video"));const D=(T.length?await Promise.all(T):[]).filter(Boolean),W=D[0]??null,{data:$,error:F}=await Te.from("plots").insert({name:n.title,location:n.location,price:C,size:`${n.sizeAcres} acres`,image_url:W,media_urls:D,seller_id:t.user.id,seller_phone:n.sellerPhone,lat:n.lat,lng:n.lng,category:n.category,tag:"New listing",is_verified:!1}).select("id").single();if(F)throw F;f("Listing created! You can verify it below (500 KES), or we will redirect shortly."),s(_y),setTimeout(()=>{e("/")},1800),$!=null&&$.id&&console.log("Created plot id:",$.id)}catch(T){console.error("Error creating plot",T),c((T==null?void 0:T.message)??"Failed to create listing.")}finally{a(!1)}};return g.jsxs("section",{className:"mx-auto w-full max-w-3xl rounded-3xl border border-white/15 bg-white/10 p-6 text-sm text-slate-900 shadow-soft-2xl backdrop-blur-xl dark:text-slate-100 sm:p-8",children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Add listing"}),g.jsx("h1",{className:"mt-2 text-2xl font-semibold tracking-tight text-slate-900 dark:text-white",children:"Create a new plot"}),g.jsxs("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-400",children:["Pricing is in ",g.jsx("span",{className:"font-semibold",children:"KES"}),". Upload a hero image to improve conversion."]}),g.jsxs("form",{onSubmit:E,className:"mt-6 space-y-4",children:[g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Title"}),g.jsx("input",{required:!0,value:n.title,onChange:P=>k("title")(P.target.value),placeholder:"e.g. Ridgeview 2-Acre Plot",className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-500 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70 dark:text-white"})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Location"}),g.jsx("input",{required:!0,value:n.location,onChange:P=>k("location")(P.target.value),placeholder:"City, county, or landmark",className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-500 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70 dark:text-white"})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"WhatsApp Number"}),g.jsx("input",{required:!0,value:n.sellerPhone,onChange:P=>k("sellerPhone")(P.target.value),placeholder:"+254700000000",className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-500 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-emerald-400/60 dark:text-white"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-600 dark:text-slate-400",children:"This will be used for the Chat on WhatsApp button."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Price (KES)"}),g.jsx("input",{required:!0,inputMode:"numeric",value:n.priceKes,onChange:P=>k("priceKes")(P.target.value),placeholder:"Enter amount in KES",className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-500 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70 dark:text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Size (Acres)"}),g.jsx("input",{required:!0,inputMode:"decimal",value:n.sizeAcres,onChange:P=>k("sizeAcres")(P.target.value),placeholder:"e.g. 2.5",className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-500 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70 dark:text-white"})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Category"}),g.jsxs("select",{value:n.category,onChange:P=>k("category")(P.target.value),className:"mt-1 w-full rounded-xl bg-white/10 px-3 py-2 text-sm text-slate-900 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-brand-400/70 dark:text-white",children:[g.jsx("option",{value:"Residential",children:"Residential"}),g.jsx("option",{value:"Agricultural",children:"Agricultural"}),g.jsx("option",{value:"Commercial",children:"Commercial"}),g.jsx("option",{value:"Investment",children:"Investment"})]})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Images (multiple)"}),g.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:P=>k("images")(Array.from(P.target.files??[])),className:"mt-2 w-full text-xs text-slate-500 file:mr-3 file:rounded-full file:border-0 file:bg-white/10 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-slate-900 hover:file:bg-white/15 dark:text-slate-300 dark:file:text-slate-100"}),n.images.length>0&&g.jsxs("p",{className:"mt-1 text-[11px] text-slate-600 dark:text-slate-400",children:["Selected: ",g.jsx("span",{className:"font-medium",children:n.images.length})," image(s)"]})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Video (one)"}),g.jsx("input",{type:"file",accept:"video/*",onChange:P=>{var C;return k("videoFile")(((C=P.target.files)==null?void 0:C[0])??null)},className:"mt-2 w-full text-xs text-slate-500 file:mr-3 file:rounded-full file:border-0 file:bg-white/10 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-slate-900 hover:file:bg-white/15 dark:text-slate-300 dark:file:text-slate-100"}),n.videoFile&&g.jsxs("p",{className:"mt-1 text-[11px] text-slate-600 dark:text-slate-400",children:["Selected: ",g.jsx("span",{className:"font-medium",children:n.videoFile.name})]})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Pin location on map"}),g.jsx("div",{className:"mt-2 overflow-hidden rounded-3xl border border-emerald-400/25 bg-white/10 ring-1 ring-emerald-400/20 shadow-soft-2xl backdrop-blur-xl",children:g.jsx("div",{className:"h-72 w-full",children:g.jsxs("div",{className:"flex h-full items-center justify-center p-4 text-xs text-slate-600 dark:text-slate-400",children:["Set ",g.jsx("code",{className:"mx-1 rounded bg-white/10 px-1.5 py-0.5 font-mono",children:"VITE_GOOGLE_MAPS_API_KEY"})," to enable maps."]})})}),g.jsxs("p",{className:"mt-2 text-[11px] text-slate-600 dark:text-slate-400",children:["Click on the map to drop a pin. Current: ",((_=n.lat)==null?void 0:_.toFixed(6))??"",", ",((L=n.lng)==null?void 0:L.toFixed(6))??""]})]})]}),u&&g.jsx("div",{className:"rounded-2xl border border-rose-500/40 bg-rose-500/10 p-3 text-xs text-rose-100",children:u}),h&&g.jsx("div",{className:"rounded-2xl border border-emerald-400/30 bg-emerald-500/10 p-3 text-xs text-emerald-100",children:h}),g.jsxs("div",{className:"flex items-center justify-between gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:()=>e("/"),className:"h-10 px-2 text-xs text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:o,className:"inline-flex h-10 items-center gap-2 rounded-full bg-gradient-to-tr from-brand-500 to-emerald-400 px-6 text-xs font-semibold text-slate-950 shadow-md shadow-emerald-500/30 transition hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-70",children:o?"Publishing":"Publish listing"})]})]}),g.jsxs("div",{className:"mt-8 rounded-3xl border border-emerald-400/20 bg-emerald-500/10 p-5 shadow-soft-2xl backdrop-blur-xl",children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-emerald-200",children:"Verify Listing (500 KES)"}),g.jsx("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-300",children:"STK Push verification requires a secure server endpoint (so your IntaSend SECRET_KEY never ships to the browser)."}),m&&g.jsx("div",{className:"mt-3 rounded-2xl border border-white/15 bg-white/10 p-3 text-xs text-slate-200",children:"Waiting for M-Pesa Confirmation"}),w&&g.jsx("div",{className:"mt-3 rounded-2xl border border-emerald-400/30 bg-emerald-500/10 p-3 text-xs text-emerald-100",children:"Verified! "}),g.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>{y(!0),setTimeout(()=>{y(!1),b(!0)},1200)},className:"inline-flex items-center justify-center rounded-full bg-emerald-500/20 px-4 py-2 text-xs font-semibold text-emerald-100 ring-1 ring-emerald-400/30 hover:bg-emerald-500/25",children:"Pay & Verify (500 KES)"}),g.jsx("span",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:"Environment: Test  Currency: KES"})]})]})]})},yM=220,xM=35,wM=5,ow=250;function bM(t,e){const n=yM+t*xM+e*wM;return Math.max(ow,Math.round(n))}function Cy(t,e){const n=bM(t,e);return{low:Math.max(ow,n-50),high:n+50}}const kM=()=>{var L;const{id:t}=F1(),e=Number(t),[n,s]=me.useState(null),[o,a]=me.useState(!0),[u,c]=me.useState(null),[h,f]=me.useState(null),[m,y]=me.useState(null),{isLoaded:w}=Jx({id:"google-map-script-details",googleMapsApiKey:""});me.useEffect(()=>{(async()=>{if(f(null),y(null),!!w&&!(!(n!=null&&n.lat)||!(n!=null&&n.lng))){if(!navigator.geolocation){y("Geolocation not available to estimate ride distance.");return}navigator.geolocation.getCurrentPosition(C=>{try{const T=new google.maps.LatLng(C.coords.latitude,C.coords.longitude),O=new google.maps.LatLng(n.lat,n.lng);new google.maps.DistanceMatrixService().getDistanceMatrix({origins:[T],destinations:[O],travelMode:google.maps.TravelMode.DRIVING},(D,W)=>{var ne,ue,te,re,ge;if(W!=="OK"||!((te=(ue=(ne=D==null?void 0:D.rows)==null?void 0:ne[0])==null?void 0:ue.elements)!=null&&te[0])){y("Unable to estimate distance right now.");return}const $=D.rows[0].elements[0];if($.status!=="OK"||!((re=$.distance)!=null&&re.value)||!((ge=$.duration)!=null&&ge.value)){y("Distance estimate unavailable for this location.");return}const F=$.distance.value/1e3,q=$.duration.value/60;f({distanceKm:F,durationMins:q})})}catch{y("Distance estimate failed.")}},()=>y("Enable location access to estimate fares."),{enableHighAccuracy:!0,timeout:7e3})}})()},[w,n==null?void 0:n.lat,n==null?void 0:n.lng]),me.useEffect(()=>{(async()=>{try{if(a(!0),c(null),!Te){c("Supabase is not configured.");return}if(!Number.isFinite(e)){c("Invalid plot id.");return}const{data:C,error:T}=await Te.from("plots").select("id, name, location, size, price, image_url, media_urls, category, seller_id, seller_phone, lat, lng, is_verified").eq("id",e).single();if(T)throw T;s(C??null)}catch(C){console.error("Error loading plot details",C),c((C==null?void 0:C.message)??"Failed to load plot.")}finally{a(!1)}})()},[e]);const b=me.useMemo(()=>{if(!(n!=null&&n.seller_phone))return null;const P=String(n.seller_phone).replace(/[^\d]/g,""),C=`I_am_interested_in_[${n.name}]`;return`https://wa.me/${P}?text=${encodeURIComponent(C)}`},[n==null?void 0:n.name,n==null?void 0:n.seller_phone]),k=(n==null?void 0:n.lat)!=null&&(n==null?void 0:n.lng)!=null?`https://m.uber.com/ul/?action=setPickup&dropoff[latitude]=${n.lat}&dropoff[longitude]=${n.lng}&dropoff[nickname]=${encodeURIComponent(n.name)}`:null,E=(n==null?void 0:n.lat)!=null&&(n==null?void 0:n.lng)!=null?`https://bolt.eu/ride/?lat=${n.lat}&lng=${n.lng}`:null;if(o)return g.jsx("section",{className:"mx-auto w-full max-w-5xl rounded-3xl border border-white/15 bg-white/10 p-6 text-sm text-slate-900 shadow-soft-2xl backdrop-blur-xl dark:text-slate-100 sm:p-8",children:g.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Loading plot"})});if(u||!n)return g.jsx("section",{className:"mx-auto w-full max-w-5xl rounded-3xl border border-rose-500/30 bg-rose-500/10 p-6 text-sm text-rose-100 shadow-soft-2xl backdrop-blur-xl sm:p-8",children:u??"Plot not found."});const _=((L=n.media_urls)!=null&&L.length?n.media_urls:n.image_url?[n.image_url]:[]).filter(Boolean);return g.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[g.jsxs("section",{className:"rounded-3xl border border-white/15 bg-white/10 p-6 shadow-soft-2xl backdrop-blur-xl sm:p-8",children:[g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:["Listing ",n.is_verified?" Verified":" Pending"]}),g.jsx("h1",{className:"mt-2 text-2xl font-semibold tracking-tight text-slate-900 dark:text-white sm:text-3xl",children:n.name}),g.jsxs("p",{className:"mt-2 flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[g.jsx(Sh,{className:"h-4 w-4 text-brand-400"}),n.location]}),g.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[g.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 ring-1 ring-white/10",children:["Price (KES):"," ",g.jsx("span",{className:"font-semibold text-emerald-200",children:typeof n.price=="number"?n.price.toLocaleString():n.price})]}),g.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 ring-1 ring-white/10",children:["Size: ",g.jsx("span",{className:"font-semibold text-slate-200",children:n.size})]}),n.category&&g.jsx("span",{className:"rounded-full bg-emerald-500/10 px-3 py-1 ring-1 ring-emerald-400/20 text-emerald-100",children:n.category})]})]}),g.jsx("div",{className:"flex flex-wrap items-center gap-3",children:g.jsxs("a",{href:b??"#",onClick:async P=>{if(!b){P.preventDefault();return}try{Te&&await Te.from("leads").insert({plot_id:n.id,seller_id:n.seller_id??null})}finally{}},target:b?"_blank":void 0,rel:b?"noopener noreferrer":void 0,className:"relative inline-flex items-center justify-center gap-2 rounded-2xl bg-emerald-500/15 px-4 py-2 text-sm font-semibold text-emerald-100 ring-1 ring-emerald-400/30 transition hover:bg-emerald-500/25",children:[g.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-2xl opacity-70 blur-md bg-emerald-400/20 animate-pulse"}),g.jsxs("span",{className:"relative inline-flex items-center gap-2",children:[g.jsx(xL,{className:"h-4 w-4"}),"Chat on WhatsApp"]})]})})]}),_.length>0&&g.jsx("div",{className:"mt-6 grid gap-3 sm:grid-cols-2",children:_.slice(0,4).map(P=>g.jsx("div",{className:"overflow-hidden rounded-3xl border border-white/15 bg-white/10 ring-1 ring-white/10",children:g.jsx("img",{src:P,alt:n.name,className:"h-56 w-full object-cover"})},P))})]}),g.jsxs("section",{className:"rounded-3xl border border-white/15 bg-white/10 p-6 shadow-soft-2xl backdrop-blur-xl sm:p-8",children:[g.jsx("div",{className:"flex items-center justify-between gap-3",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Transport & Logistics"}),g.jsx("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-400",children:"Estimated fares based on standard rates. Real-time prices may vary in-app due to traffic or surge."})]})}),g.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"rounded-3xl border border-emerald-400/20 bg-emerald-500/10 p-5 ring-1 ring-emerald-400/10",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-100",children:[g.jsx(vL,{className:"h-4 w-4"}),"Fare estimate (KES)"]}),g.jsx("div",{className:"mt-2 text-2xl font-semibold tracking-tight text-emerald-100",children:h?g.jsxs(g.Fragment,{children:[Cy(h.distanceKm,h.durationMins).low.toLocaleString(),"",Cy(h.distanceKm,h.durationMins).high.toLocaleString()]}):g.jsx("span",{className:"text-slate-200",children:m?"":"Calculating"})}),g.jsx("div",{className:"mt-2 text-xs text-slate-600 dark:text-slate-300",children:h?g.jsxs(g.Fragment,{children:["~",h.distanceKm.toFixed(1)," km  ~",Math.round(h.durationMins)," mins"]}):m||"Using your current location"})]}),g.jsxs("div",{className:"sm:col-span-2 rounded-3xl border border-white/15 bg-white/10 p-5 ring-1 ring-white/10",children:[g.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[g.jsx("button",{type:"button",disabled:!k,onClick:()=>{k&&window.open(k,"_blank","noopener,noreferrer")},className:"inline-flex items-center justify-center rounded-2xl bg-black px-4 py-2 text-sm font-semibold text-white hover:bg-black/90 disabled:opacity-60",children:"Book on Uber"}),g.jsx("button",{type:"button",disabled:!E,onClick:()=>{E&&window.open(E,"_blank","noopener,noreferrer")},className:"inline-flex items-center justify-center rounded-2xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-500 disabled:opacity-60",children:"Book on Bolt"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-slate-600 dark:text-slate-400",children:"Uber uses pickup from your current location. Bolt opens a direct ride deep link to the plot pin."})]})]})]}),g.jsxs("section",{className:"rounded-3xl border border-emerald-400/25 bg-white/10 p-6 shadow-soft-2xl backdrop-blur-xl sm:p-8",children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Map"}),g.jsx("div",{className:"mt-4 overflow-hidden rounded-3xl border border-emerald-400/25 bg-white/10 ring-1 ring-emerald-400/20 shadow-soft-2xl backdrop-blur-xl",children:g.jsx("div",{className:"h-80 w-full",children:g.jsxs("div",{className:"flex h-full items-center justify-center p-4 text-xs text-slate-600 dark:text-slate-400",children:["Set ",g.jsx("code",{className:"mx-1 rounded bg-white/10 px-1.5 py-0.5 font-mono",children:"VITE_GOOGLE_MAPS_API_KEY"})," to enable maps."]})})})]})]})},SM={theme:"system",setTheme:()=>null},aw=v.createContext(SM);function EM({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme"}){const[s,o]=v.useState(()=>localStorage.getItem(n)||e);v.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(c);return}u.classList.add(s)},[s]);const a={theme:s,setTheme:u=>{localStorage.setItem(n,u),o(u)}};return g.jsx(aw.Provider,{value:a,children:t})}const _M=()=>{const t=v.useContext(aw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function Ly(){const{theme:t,setTheme:e}=_M();return g.jsxs("div",{className:"flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900/50 p-1 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/50",children:[g.jsxs("button",{onClick:()=>e("light"),className:`rounded-full p-1.5 transition-colors ${t==="light"?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-100"}`,title:"Light mode",children:[g.jsx(LL,{className:"h-3.5 w-3.5"}),g.jsx("span",{className:"sr-only",children:"Light"})]}),g.jsxs("button",{onClick:()=>e("dark"),className:`rounded-full p-1.5 transition-colors ${t==="dark"?"bg-slate-800 text-slate-100 shadow-sm dark:bg-slate-700":"text-slate-400 hover:text-slate-100"}`,title:"Dark mode",children:[g.jsx(EL,{className:"h-3.5 w-3.5"}),g.jsx("span",{className:"sr-only",children:"Dark"})]}),g.jsxs("button",{onClick:()=>e("system"),className:`rounded-full p-1.5 transition-colors ${t==="system"?"bg-slate-800 text-slate-100 shadow-sm dark:bg-slate-700":"text-slate-400 hover:text-slate-100"}`,title:"System theme",children:[g.jsx(SL,{className:"h-3.5 w-3.5"}),g.jsx("span",{className:"sr-only",children:"System"})]})]})}const CM=()=>{const t=zn(),[e,n]=me.useState(null);return me.useEffect(()=>{let s=!0;if((async()=>{if(!Te)return;const{data:u}=await Te.auth.getSession();s&&n(u.session??null)})(),!Te)return()=>{s=!1};const{data:a}=Te.auth.onAuthStateChange((u,c)=>{s&&n(c)});return()=>{var u,c;s=!1,(c=(u=a==null?void 0:a.subscription)==null?void 0:u.unsubscribe)==null||c.call(u)}},[]),g.jsxs("div",{className:"min-h-screen text-slate-900 dark:text-white bg-white dark:bg-slate-950 transition-colors duration-300",children:[g.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[g.jsx("div",{className:"pointer-events-none absolute -left-40 top-[-10rem] h-[28rem] w-[28rem] rounded-full bg-brand-500/20 blur-3xl"}),g.jsx("div",{className:"pointer-events-none absolute bottom-[-12rem] right-[-5rem] h-[26rem] w-[26rem] rounded-full bg-emerald-500/10 blur-3xl"}),g.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-40 bg-gradient-to-b from-slate-900 via-slate-950/40 to-transparent dark:from-slate-900 dark:via-slate-950/40 dark:to-transparent from-slate-100 via-white to-transparent"})]}),g.jsxs("div",{className:"relative mx-auto flex min-h-screen max-w-6xl flex-col px-4 pb-16 pt-6 sm:px-6 lg:px-10",children:[g.jsx(LM,{session:e}),g.jsx("main",{className:"mt-10 flex-1",children:g.jsxs(rk,{location:t,children:[g.jsx(Dn,{path:"/",element:g.jsx(pT,{})}),g.jsx(Dn,{path:"/auth",element:g.jsx(dT,{})}),g.jsx(Dn,{path:"/investments",element:g.jsx(ST,{})}),g.jsx(Dn,{path:"/add-plot",element:g.jsx(vM,{session:e})}),g.jsx(Dn,{path:"/plots/:id",element:g.jsx(kM,{})}),g.jsx(Dn,{path:"/get-started",element:g.jsx(OM,{})}),g.jsx(Dn,{path:"/sell",element:g.jsx(TM,{})}),g.jsx(Dn,{path:"/admin",element:g.jsx(MM,{})})]})}),t.pathname==="/"&&g.jsxs(g.Fragment,{children:[g.jsx(jM,{}),g.jsx(PM,{})]})]})]})},LM=({session:t})=>{const e=zn(),[n,s]=me.useState(!1),o=!!(t!=null&&t.user),a=async()=>{Te&&await Te.auth.signOut()};return g.jsxs(g.Fragment,{children:[g.jsxs(pn.header,{initial:{y:-16,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:[.16,1,.3,1]},className:"relative z-50 flex items-center justify-between rounded-full border border-slate-800/70 bg-slate-900/80 px-4 py-2 shadow-lg shadow-slate-950/40 backdrop-blur-xl sm:px-5 dark:border-slate-800/70 dark:bg-slate-900/80 bg-white/80 border-slate-200/70",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-tr from-brand-500 to-emerald-400 shadow-md shadow-emerald-500/40",children:g.jsx(bL,{className:"h-4 w-4 text-slate-950"})}),g.jsxs("div",{className:"leading-tight",children:[g.jsx("span",{className:"text-sm font-semibold tracking-tight sm:text-base",children:"LandPortal"}),g.jsx("p",{className:"text-[10px] text-slate-400 sm:text-xs",children:"Curated land, anywhere."})]})]}),g.jsxs("nav",{className:"hidden items-center gap-6 text-xs text-slate-600 dark:text-slate-400 sm:flex sm:text-sm",children:[g.jsx(Ye,{to:"/",className:`transition hover:text-slate-900 dark:hover:text-slate-50 ${e.pathname==="/"?"text-slate-900 dark:text-slate-50":""}`,children:"Discover"}),g.jsx(Ye,{to:"/investments",className:`transition hover:text-slate-900 dark:hover:text-slate-50 ${e.pathname==="/investments"?"text-slate-900 dark:text-slate-50":""}`,children:"Investment"}),o&&g.jsx(Ye,{to:"/add-plot",className:`transition hover:text-slate-900 dark:hover:text-slate-50 ${e.pathname==="/add-plot"?"text-slate-900 dark:text-slate-50":""}`,children:"Add Listing"}),g.jsx(Ye,{to:"/sell",className:`transition hover:text-slate-900 dark:hover:text-slate-50 ${e.pathname==="/sell"?"text-slate-900 dark:text-slate-50":""}`,children:"Sell land"}),g.jsx(Ye,{to:"/admin",className:`transition hover:text-slate-900 dark:hover:text-slate-50 ${e.pathname==="/admin"?"text-slate-900 dark:text-slate-50":""}`,children:"Admin"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"hidden sm:block",children:g.jsx(Ly,{})}),o?g.jsx("button",{type:"button",onClick:a,className:"hidden rounded-full border border-slate-300 dark:border-slate-700 px-3 py-1 text-xs font-medium text-slate-900 dark:text-slate-200 transition hover:bg-slate-100 dark:hover:bg-slate-800 sm:inline-flex sm:px-4 sm:py-1.5 sm:text-sm",children:"Logout"}):g.jsx(Ye,{to:"/auth",className:"hidden rounded-full border border-slate-300 dark:border-slate-700 px-3 py-1 text-xs font-medium text-slate-900 dark:text-slate-200 transition hover:bg-slate-100 dark:hover:bg-slate-800 sm:inline-flex sm:px-4 sm:py-1.5 sm:text-sm",children:"Login"}),g.jsxs(Ye,{to:"/get-started",className:"hidden items-center gap-1.5 rounded-full bg-slate-50 px-3 py-1.5 text-xs font-semibold text-slate-950 shadow-md shadow-slate-950/40 transition hover:bg-slate-200 sm:inline-flex sm:px-4 sm:text-sm",children:["Get started",g.jsx(_h,{className:"h-3.5 w-3.5 text-amber-500"})]}),g.jsx("button",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-200 sm:hidden",onClick:()=>s(!n),children:n?g.jsx(TL,{className:"h-4 w-4"}):g.jsx(kL,{className:"h-4 w-4"})})]})]}),n&&g.jsx(pn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute inset-x-0 top-20 z-40 mx-4 rounded-3xl border border-slate-200 dark:border-slate-800/70 bg-white dark:bg-slate-900/95 p-6 shadow-2xl backdrop-blur-xl sm:hidden",children:g.jsxs("nav",{className:"flex flex-col gap-4 text-sm text-slate-600 dark:text-slate-400",children:[g.jsxs(Ye,{to:"/",onClick:()=>s(!1),className:`flex items-center justify-between border-b border-slate-200 dark:border-slate-800 pb-2 ${e.pathname==="/"?"text-emerald-400 font-medium":""}`,children:["Discover",g.jsx(Cx,{className:"h-4 w-4"})]}),g.jsxs(Ye,{to:"/investments",onClick:()=>s(!1),className:`flex items-center justify-between border-b border-slate-200 dark:border-slate-800 pb-2 ${e.pathname==="/investments"?"text-emerald-400 font-medium":""}`,children:["Investment",g.jsx("span",{className:"text-[10px] uppercase tracking-wider text-slate-500",children:"KES"})]}),o&&g.jsxs(Ye,{to:"/add-plot",onClick:()=>s(!1),className:`flex items-center justify-between border-b border-slate-200 dark:border-slate-800 pb-2 ${e.pathname==="/add-plot"?"text-emerald-400 font-medium":""}`,children:["Add Listing",g.jsx(Cd,{className:"h-4 w-4"})]}),g.jsxs(Ye,{to:"/sell",onClick:()=>s(!1),className:`flex items-center justify-between border-b border-slate-200 dark:border-slate-800 pb-2 ${e.pathname==="/sell"?"text-emerald-400 font-medium":""}`,children:["Sell land",g.jsx(Cd,{className:"h-4 w-4"})]}),g.jsxs(Ye,{to:"/admin",onClick:()=>s(!1),className:`flex items-center justify-between border-b border-slate-200 dark:border-slate-800 pb-2 ${e.pathname==="/admin"?"text-emerald-400 font-medium":""}`,children:["Admin",g.jsx(_x,{className:"h-4 w-4"})]}),g.jsxs("div",{className:"flex items-center justify-between py-2",children:[g.jsx("span",{className:"text-slate-400",children:"Theme"}),g.jsx(Ly,{})]}),g.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3",children:[o?g.jsx("button",{type:"button",onClick:async()=>{await a(),s(!1)},className:"rounded-xl border border-slate-300 dark:border-slate-700 py-2.5 text-center font-medium text-slate-900 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Logout"}):g.jsx(Ye,{to:"/auth",onClick:()=>s(!1),className:"rounded-xl border border-slate-300 dark:border-slate-700 py-2.5 text-center font-medium text-slate-900 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Login"}),g.jsx(Ye,{to:"/get-started",onClick:()=>s(!1),className:"flex items-center justify-center gap-2 rounded-xl bg-slate-50 py-2.5 font-semibold text-slate-950",children:"Get started"})]})]})})]})},PM=()=>{const[t,e]=me.useState(!0);if(!t)return null;const n=()=>{const s=document.getElementById("featured-plots");s&&s.scrollIntoView({behavior:"smooth",block:"start"})};return g.jsx(pn.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:[0,-8,0]},transition:{duration:.7,delay:.5,ease:[.16,1,.3,1],repeat:1/0,repeatType:"reverse",repeatDelay:1.2},className:"pointer-events-auto fixed bottom-4 right-4 z-20 max-w-xs rounded-3xl border border-white/60 bg-white/80 p-3 text-slate-900 shadow-soft-2xl backdrop-blur-md sm:bottom-6 sm:right-6 sm:p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"mt-0.5 h-7 w-7 flex-none rounded-full bg-gradient-to-tr from-brand-500 to-emerald-400 shadow-md shadow-emerald-400/40"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"Welcome"}),g.jsx("button",{type:"button",onClick:()=>e(!1),className:"ml-2 flex h-5 w-5 items-center justify-center rounded-full bg-slate-900/5 text-[11px] text-slate-500 transition hover:bg-slate-900/10 hover:text-slate-700","aria-label":"Dismiss welcome",children:""})]}),g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-500"}),g.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Explore curated land picks handpicked for growth this decade."}),g.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center gap-1.5 rounded-full bg-slate-900 px-3 py-1.5 text-xs font-semibold text-slate-50 shadow-sm shadow-slate-900/40 transition hover:bg-slate-800",children:["Jump to featured plots",g.jsx("span",{"aria-hidden":!0,children:""})]})]})]})})},jM=()=>{const e=`https://wa.me/?text=${encodeURIComponent("Hi, I saw a listing on your Land Platform and I'd like more details.")}`;return g.jsxs("section",{className:"mt-10 w-full rounded-3xl border border-slate-800/70 bg-slate-950/60 p-4 text-sm text-slate-200 shadow-soft-2xl backdrop-blur-xl sm:mt-12 sm:p-5",children:[g.jsx("div",{className:"flex items-center justify-between gap-2",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Talk to our team"}),g.jsx("p",{className:"mt-1 text-xs text-slate-400 sm:text-sm",children:"Reach out on your preferred channel for fast answers about any plot."})]})}),g.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-4",children:[g.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 rounded-2xl bg-emerald-500/10 px-3 py-2 text-xs font-medium text-emerald-100 ring-1 ring-emerald-500/40 transition hover:bg-emerald-500/20 hover:text-emerald-50 hover:ring-emerald-400 sm:text-sm",children:[g.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-xl bg-emerald-500 text-slate-950 shadow-md shadow-emerald-500/40",children:g.jsx(Eh,{className:"h-3.5 w-3.5"})}),g.jsx("span",{className:"flex-1 text-left",children:"WhatsApp"})]}),g.jsxs("a",{href:"https://instagram.com/",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 rounded-2xl bg-pink-500/5 px-3 py-2 text-xs font-medium text-pink-100 ring-1 ring-pink-500/30 transition hover:bg-pink-500/15 hover:text-pink-50 hover:ring-pink-400 sm:text-sm",children:[g.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-xl bg-gradient-to-tr from-pink-500 to-amber-400 text-slate-950 shadow-md shadow-pink-500/40",children:g.jsx(wL,{className:"h-3.5 w-3.5"})}),g.jsx("span",{className:"flex-1 text-left",children:"Instagram"})]}),g.jsxs("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 rounded-2xl bg-sky-500/10 px-3 py-2 text-xs font-medium text-sky-100 ring-1 ring-sky-500/40 transition hover:bg-sky-500/20 hover:text-sky-50 hover:ring-sky-400 sm:text-sm",children:[g.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-xl bg-sky-500 text-slate-950 shadow-md shadow-sky-500/40",children:g.jsx(jL,{className:"h-3.5 w-3.5"})}),g.jsx("span",{className:"flex-1 text-left",children:"X / Twitter"})]}),g.jsxs("a",{href:"mailto:hello@landportal.app",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 rounded-2xl bg-slate-800/80 px-3 py-2 text-xs font-medium text-slate-100 ring-1 ring-slate-700 transition hover:bg-slate-700 hover:text-white hover:ring-slate-500 sm:text-sm",children:[g.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-xl bg-slate-950 text-slate-50 shadow-md shadow-slate-950/40",children:g.jsx(_d,{className:"h-3.5 w-3.5"})}),g.jsx("span",{className:"flex-1 text-left",children:"Email"})]})]})]})},TM=()=>{const t=Tl(),[e,n]=me.useState(1),[s,o]=me.useState(!1),[a,u]=me.useState(null),[c,h]=me.useState(null),[f,m]=me.useState({ownerName:"",ownerEmail:"",ownerPhone:"",parcelName:"",location:"",size:"",description:"",neighborhoodScore:7,mediaFile:null}),y=E=>_=>{m(L=>({...L,[E]:_}))},w=()=>{n(E=>Math.min(E+1,3))},b=()=>{n(E=>Math.max(E-1,1))},k=async E=>{E.preventDefault(),o(!0),u(null),h(null);try{if(!Te)throw new Error("Supabase is not configured.");let _=null;if(f.mediaFile){const P=f.mediaFile.name.split(".").pop()??"jpg",C=`plots/${Date.now()}-${Math.random().toString(36).slice(2)}.${P}`,{error:T}=await Te.storage.from("plots-media").upload(C,f.mediaFile);if(T)throw T;const{data:O}=Te.storage.from("plots-media").getPublicUrl(C);_=(O==null?void 0:O.publicUrl)??null}const{error:L}=await Te.from("plots").insert({name:f.parcelName,location:f.location,size:f.size,price:"TBD",tag:"New submission",description:f.description,neighborhood_score:f.neighborhoodScore,owner_name:f.ownerName,owner_email:f.ownerEmail,owner_phone:f.ownerPhone,image_url:_,is_verified:!1});if(L)throw L;h("Thanks! Your land listing was submitted for review."),n(1),m(P=>({...P,parcelName:"",location:"",size:"",description:"",neighborhoodScore:7,mediaFile:null})),setTimeout(()=>{t("/")},1800)}catch(_){console.error("Error submitting land listing",_),u("Something went wrong submitting your land. Please try again.")}finally{o(!1)}};return g.jsxs("section",{className:"mx-auto max-w-3xl rounded-3xl border border-slate-200 dark:border-slate-800/70 bg-white dark:bg-slate-950/60 p-5 text-sm text-slate-900 dark:text-slate-100 shadow-soft-2xl backdrop-blur-xl sm:p-7",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"List your land"}),g.jsx("h1",{className:"mt-2 text-xl font-semibold tracking-tight text-slate-900 dark:text-white sm:text-2xl",children:"Share your parcel with vetted buyers."})]}),g.jsxs("div",{className:"hidden text-right text-[11px] text-slate-400 sm:block",children:[g.jsx("p",{children:"Three quick steps"}),g.jsxs("p",{children:["Step ",e," of 3"]})]})]}),g.jsx("div",{className:"mt-4 flex items-center gap-2 text-[11px] text-slate-400 sm:text-xs",children:[1,2,3].map(E=>g.jsx("div",{className:`h-1.5 flex-1 rounded-full bg-slate-800 ${E<=e?"bg-emerald-400":""}`},E))}),g.jsxs("form",{onSubmit:k,className:"mt-6 space-y-6",children:[e===1&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Step 1  Basic info"}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Your name"}),g.jsx("input",{type:"text",required:!0,value:f.ownerName,onChange:E=>y("ownerName")(E.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/80 px-3 py-2 text-base text-slate-900 dark:text-white placeholder:text-slate-500 focus:border-brand-400 focus:outline-none sm:text-sm",placeholder:"Jane Doe"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:f.ownerEmail,onChange:E=>y("ownerEmail")(E.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/80 px-3 py-2 text-base text-slate-900 dark:text-white placeholder:text-slate-500 focus:border-brand-400 focus:outline-none sm:text-sm",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Phone / WhatsApp"}),g.jsx("input",{type:"tel",value:f.ownerPhone,onChange:E=>y("ownerPhone")(E.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/80 px-3 py-2 text-base text-slate-900 dark:text-white placeholder:text-slate-500 focus:border-brand-400 focus:outline-none sm:text-sm",placeholder:"+1 555 000 0000"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Parcel name"}),g.jsx("input",{type:"text",required:!0,value:f.parcelName,onChange:E=>y("parcelName")(E.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/80 px-3 py-2 text-base text-slate-900 dark:text-white placeholder:text-slate-500 focus:border-brand-400 focus:outline-none sm:text-sm",placeholder:"Cedar Ridge Homestead"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Location"}),g.jsx("input",{type:"text",required:!0,value:f.location,onChange:E=>y("location")(E.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/80 px-3 py-2 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:border-brand-400 focus:outline-none",placeholder:"City / region"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Size"}),g.jsx("input",{type:"text",required:!0,value:f.size,onChange:E=>y("size")(E.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/80 px-3 py-2 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:border-brand-400 focus:outline-none",placeholder:"e.g. 2.5 acres"})]})]})]}),e===2&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Step 2  Description & neighborhood"}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Describe your land"}),g.jsx("textarea",{required:!0,value:f.description,onChange:E=>y("description")(E.target.value),rows:4,className:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/80 px-3 py-2 text-base text-slate-900 dark:text-white placeholder:text-slate-500 focus:border-brand-400 focus:outline-none sm:text-sm",placeholder:"Access, zoning, utilities, topography, nearby landmarks..."})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center justify-between text-xs font-medium text-slate-300",children:["Neighborhood score",g.jsxs("span",{className:"text-[11px] text-slate-400",children:[f.neighborhoodScore," / 10"]})]}),g.jsx("input",{type:"range",min:1,max:10,value:f.neighborhoodScore,onChange:E=>y("neighborhoodScore")(Number(E.target.value)),className:"mt-2 w-full"}),g.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Rate access, schools, amenities, and general feel of the area."})]})]}),e===3&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Step 3  Media upload"}),g.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Add a hero image or short drone clip. We'll store this securely and use it on your listing."}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Image / video"}),g.jsx("input",{type:"file",accept:"image/*,video/*",onChange:E=>{var _;return y("mediaFile")(((_=E.target.files)==null?void 0:_[0])??null)},className:"mt-2 w-full text-xs text-slate-300 file:mr-3 file:rounded-full file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-xs file:font-medium file:text-slate-100 hover:file:bg-slate-700"}),f.mediaFile&&g.jsxs("p",{className:"mt-1 text-[11px] text-slate-600 dark:text-slate-400",children:["Selected: ",g.jsx("span",{className:"font-medium",children:f.mediaFile.name})]})]})]}),a&&g.jsx("div",{className:"rounded-2xl border border-rose-500/40 bg-rose-950/40 p-3 text-xs text-rose-100",children:a}),c&&g.jsx("div",{className:"rounded-2xl border border-emerald-500/40 bg-emerald-950/40 p-3 text-xs text-emerald-100",children:c}),g.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[g.jsx("button",{type:"button",onClick:e===1?()=>t("/"):b,className:"h-10 px-4 text-xs text-slate-400 hover:text-slate-200",children:e===1?"Cancel":"Back"}),g.jsxs("div",{className:"flex items-center gap-3",children:[e<3&&g.jsx("button",{type:"button",onClick:w,className:"h-10 rounded-full border border-slate-700 px-6 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:bg-slate-800",children:"Next"}),e===3&&g.jsx("button",{type:"submit",disabled:s,className:"inline-flex h-10 items-center gap-2 rounded-full bg-gradient-to-tr from-brand-500 to-emerald-400 px-6 text-xs font-semibold text-slate-950 shadow-md shadow-emerald-500/40 transition hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-70",children:s?"Submitting...":"Submit for review"})]})]})]})]})},OM=()=>{const t={hidden:{opacity:0,y:24,scale:.96},visible:{opacity:1,y:0,scale:1,transition:{duration:.7,ease:[.16,1,.3,1],when:"beforeChildren",staggerChildren:.12}}},e={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.6}}};return g.jsxs(pn.section,{className:"mx-auto max-w-4xl rounded-3xl border border-slate-800/70 bg-slate-950/60 p-5 text-sm text-slate-100 shadow-soft-2xl backdrop-blur-xl sm:p-7",variants:t,initial:"hidden",animate:"visible",children:[g.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Get started"}),g.jsx("h1",{className:"mt-1 text-2xl font-semibold tracking-tight text-slate-50 sm:text-3xl",children:"How do you want to use LandPortal?"}),g.jsx("p",{className:"mt-2 text-xs text-slate-400 sm:text-sm",children:"Choose the path that fits you best. You can always switch later."})]})}),g.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[g.jsxs(pn.div,{variants:e,whileHover:{y:-6,scale:1.01},className:"group flex flex-col justify-between rounded-2xl border border-slate-800/80 bg-gradient-to-br from-slate-900 via-slate-950 to-slate-950 px-4 py-5 shadow-lg shadow-slate-950/50 transition sm:px-5",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-emerald-300",children:"I want to buy"}),g.jsx("h2",{className:"mt-2 text-lg font-semibold text-slate-50",children:"Explore land listings"}),g.jsx("p",{className:"mt-2 text-xs text-slate-400 sm:text-sm",children:"Browse vetted plots with verified title, filters for zoning and utilities, and investor-grade details."})]}),g.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[g.jsxs("div",{className:"flex -space-x-2",children:[g.jsx("div",{className:"h-7 w-7 rounded-full border border-slate-950 bg-cover bg-center bg-[url('https://images.pexels.com/photos/1181519/pexels-photo-1181519.jpeg?auto=compress&cs=tinysrgb&w=120')]"}),g.jsx("div",{className:"h-7 w-7 rounded-full border border-slate-950 bg-cover bg-center bg-[url('https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=120')]"})]}),g.jsxs(Ye,{to:"/",className:"inline-flex items-center gap-1.5 rounded-full bg-slate-50 px-4 py-1.5 text-xs font-semibold text-slate-950 shadow-md shadow-slate-950/40 transition group-hover:bg-slate-200",children:["Start as buyer",g.jsx("span",{"aria-hidden":!0,children:""})]})]})]}),g.jsxs(pn.div,{variants:e,whileHover:{y:-6,scale:1.01},className:"group flex flex-col justify-between rounded-2xl border border-emerald-500/30 bg-gradient-to-br from-emerald-900/40 via-slate-950 to-slate-950 px-4 py-5 shadow-lg shadow-emerald-500/30 transition sm:px-5",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-emerald-300",children:"I want to sell"}),g.jsx("h2",{className:"mt-2 text-lg font-semibold text-slate-50",children:"List my land"}),g.jsx("p",{className:"mt-2 text-xs text-slate-400 sm:text-sm",children:"Submit your parcel with title details, neighborhood context and media. Our team reviews every listing."})]}),g.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[g.jsx("span",{className:"text-[11px] text-emerald-200",children:"Typically approved within 2472 hours."}),g.jsxs(Ye,{to:"/sell",className:"inline-flex items-center gap-1.5 rounded-full bg-gradient-to-tr from-brand-500 to-emerald-400 px-4 py-1.5 text-xs font-semibold text-slate-950 shadow-md shadow-emerald-500/40 transition group-hover:brightness-110",children:["Start as seller",g.jsx("span",{"aria-hidden":!0,children:""})]})]})]})]})]})},MM=()=>{const[t,e]=me.useState(!1),[n,s]=me.useState(!0),[o,a]=me.useState(""),[u,c]=me.useState(""),[h,f]=me.useState(null),[m,y]=me.useState([]),[w,b]=me.useState(!1),[k,E]=me.useState(null),[_,L]=me.useState(null),[P,C]=me.useState(""),T=me.useCallback(async()=>{if(!Te){E("Supabase is not configured.");return}try{b(!0),E(null);const{data:F,error:q}=await Te.from("plots").select("id, name, location, size, price, tag, image_url, is_verified").order("id",{ascending:!1});if(q)throw q;y(F??[])}catch(F){console.error("Error loading admin plots",F),E("Failed to load listings.")}finally{b(!1)}},[]);me.useEffect(()=>{(async()=>{if(!Te){s(!1);return}try{const{data:q}=await Te.auth.getUser();q.user&&(e(!0),await T())}finally{s(!1)}})()},[T]);const O=async F=>{if(F.preventDefault(),!Te){f("Supabase is not configured.");return}try{s(!0),f(null);const{error:q}=await Te.auth.signInWithPassword({email:o,password:u});if(q)throw q;e(!0),await T()}catch(q){console.error("Admin login failed",q),f("Invalid credentials or login failed.")}finally{s(!1)}},A=async F=>{if(!Te||F.id==null)return;const q=!F.is_verified;y(ue=>ue.map(te=>te.id===F.id?{...te,is_verified:q}:te));const{error:ne}=await Te.from("plots").update({is_verified:q}).eq("id",F.id);ne&&y(ue=>ue.map(te=>te.id===F.id?{...te,is_verified:F.is_verified}:te))},D=F=>{L(F.id),C(F.price)},W=async()=>{if(!Te||_==null)return;const F=_,q=P.trim();L(null);const ne=m.find(te=>te.id===F);y(te=>te.map(re=>re.id===F?{...re,price:q||re.price}:re));const{error:ue}=await Te.from("plots").update({price:q||(ne==null?void 0:ne.price)}).eq("id",F);ue&&ne&&y(te=>te.map(re=>re.id===F?ne:re))},$=async F=>{if(!Te||F.id==null||!window.confirm(`Delete listing "${F.name}"? This action cannot be undone.`))return;const ne=m;y(te=>te.filter(re=>re.id!==F.id));const{error:ue}=await Te.from("plots").delete().eq("id",F.id);ue&&y(ne)};return n?g.jsx("section",{className:"mx-auto max-w-xl rounded-3xl border border-slate-800/70 bg-slate-950/60 p-6 text-sm text-slate-100 shadow-soft-2xl backdrop-blur-xl",children:g.jsx("p",{className:"text-xs text-slate-400",children:"Checking admin session"})}):t?g.jsxs("section",{className:"mx-auto max-w-5xl rounded-3xl border border-slate-800/70 bg-slate-950/60 p-5 text-sm text-slate-100 shadow-soft-2xl backdrop-blur-xl sm:p-7",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Admin  Listings"}),g.jsx("h1",{className:"mt-1 text-xl font-semibold tracking-tight text-slate-50 sm:text-2xl",children:"Review and verify plots"})]}),g.jsx("button",{type:"button",onClick:T,className:"hidden rounded-full border border-slate-700 px-3 py-1.5 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:bg-slate-800 sm:inline-flex",children:"Refresh"})]}),k&&g.jsx("div",{className:"mt-4 rounded-2xl border border-rose-500/40 bg-rose-950/40 p-3 text-xs text-rose-100",children:k}),g.jsx("div",{className:"mt-5 overflow-x-auto rounded-2xl border border-slate-800/80 bg-slate-950/60",children:g.jsxs("table",{className:"min-w-full text-left text-xs text-slate-300 sm:text-sm",children:[g.jsx("thead",{className:"bg-slate-900/80 text-[11px] uppercase tracking-[0.16em] text-slate-500",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-3 py-2",children:"Parcel"}),g.jsx("th",{className:"px-3 py-2",children:"Location"}),g.jsx("th",{className:"px-3 py-2",children:"Size"}),g.jsx("th",{className:"px-3 py-2",children:"Price"}),g.jsx("th",{className:"px-3 py-2",children:"Verified"}),g.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),g.jsxs("tbody",{children:[w&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"px-3 py-4 text-xs text-slate-400",children:"Loading listings"})}),!w&&m.map(F=>g.jsxs("tr",{className:"border-t border-slate-800/80",children:[g.jsx("td",{className:"px-3 py-2",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-medium text-slate-100",children:F.name}),F.tag&&g.jsx("span",{className:"text-[11px] text-slate-500",children:F.tag})]})}),g.jsx("td",{className:"px-3 py-2 text-slate-300",children:F.location}),g.jsx("td",{className:"px-3 py-2 text-slate-300",children:F.size}),g.jsx("td",{className:"px-3 py-2",children:_===F.id?g.jsx("input",{autoFocus:!0,value:P,onChange:q=>C(q.target.value),onBlur:W,onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),W()):q.key==="Escape"&&L(null)},className:"w-24 rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1 text-xs text-slate-50 focus:border-brand-400 focus:outline-none"}):g.jsxs("button",{type:"button",onClick:()=>D(F),className:"inline-flex items-center gap-1 text-xs text-emerald-300 hover:text-emerald-200",children:[F.price,g.jsx(Cd,{className:"h-3 w-3"})]})}),g.jsx("td",{className:"px-3 py-2",children:g.jsxs("button",{type:"button",onClick:()=>void A(F),className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px] font-semibold ${F.is_verified?"bg-emerald-500/10 text-emerald-200 ring-1 ring-emerald-500/40":"bg-slate-800 text-slate-300 ring-1 ring-slate-600"}`,children:[g.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${F.is_verified?"bg-emerald-400":"bg-slate-500"}`}),F.is_verified?"Verified":"Pending"]})}),g.jsx("td",{className:"px-3 py-2 text-right",children:g.jsxs("button",{type:"button",onClick:()=>void $(F),className:"inline-flex items-center gap-1 rounded-full px-2 py-1 text-[11px] text-rose-300 hover:bg-rose-500/10 hover:text-rose-200",children:[g.jsx(PL,{className:"h-3 w-3"}),"Delete"]})})]},F.id)),!w&&m.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"px-3 py-4 text-xs text-slate-400",children:"No listings found yet."})})]})]})}),g.jsxs("p",{className:"mt-3 text-[11px] text-slate-500",children:["Changes are written directly to the ",g.jsx("code",{className:"font-mono",children:"plots"})," table. Make sure you protect this route and Supabase project with proper security rules in production."]})]}):g.jsxs("section",{className:"mx-auto max-w-xl rounded-3xl border border-slate-800/70 bg-slate-950/60 p-6 text-sm text-slate-100 shadow-soft-2xl backdrop-blur-xl",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-2xl bg-slate-900",children:g.jsx(_x,{className:"h-4 w-4 text-slate-300"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Admin"}),g.jsx("h1",{className:"text-lg font-semibold text-slate-50",children:"Sign in to manage listings"})]})]}),g.jsxs("form",{onSubmit:O,className:"mt-5 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-300",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:o,onChange:F=>a(F.target.value),className:"mt-1 w-full rounded-xl border border-slate-700 bg-slate-900/80 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-400 focus:outline-none",placeholder:"admin@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-slate-300",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:u,onChange:F=>c(F.target.value),className:"mt-1 w-full rounded-xl border border-slate-700 bg-slate-900/80 px-3 py-2 text-base text-slate-50 placeholder:text-slate-500 focus:border-brand-400 focus:outline-none sm:text-sm",placeholder:""})]}),h&&g.jsx("div",{className:"rounded-2xl border border-rose-500/40 bg-rose-950/40 p-3 text-xs text-rose-100",children:h}),g.jsx("button",{type:"submit",disabled:n,className:"inline-flex items-center gap-2 rounded-full bg-slate-50 px-5 py-2 text-xs font-semibold text-slate-950 shadow-md shadow-slate-950/40 transition hover:bg-slate-200 disabled:cursor-not-allowed disabled:opacity-70",children:n?"Signing in":"Sign in"})]}),g.jsx("p",{className:"mt-4 text-[11px] text-slate-500",children:"Configure admin users via Supabase Auth. This gate is intentionally simple and should be combined with database Row Level Security for production."})]})};c1.createRoot(document.getElementById("root")).render(g.jsx(me.StrictMode,{children:g.jsx(Ck,{children:g.jsx(EM,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:g.jsx(CM,{})})})}));
