(()=>{var O=Object.create;var E=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var T=(m,o)=>()=>(o||m((o={exports:{}}).exports,o),o.exports);var q=(m,o,u,f)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of D(o))!N.call(m,i)&&i!==u&&E(m,i,{get:()=>o[i],enumerable:!(f=C(o,i))||f.enumerable});return m};var F=(m,o,u)=>(u=m!=null?O(B(m)):{},q(o||!m||!m.__esModule?E(u,"default",{value:m,enumerable:!0}):u,m));var k=T((v,x)=>{(function(m,o,u){"use strict";var f=function(e,t,r){r=i.extend({},i.options,r);var s=i.runValidations(e,t,r),a,n;if(s.some(function(l){return i.isPromise(l.error)}))throw new Error("Use validate.async if you want support for promises");return f.processValidationResults(s,r)},i=f;i.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var r in t)e[r]=t[r]}),e},i.extend(f,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var e=i.format("%{major}.%{minor}.%{patch}",i.version);return i.isEmpty(i.version.metadata)||(e+="+"+i.version.metadata),e}},Promise:typeof Promise<"u"?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(e,t,r){var s=[],a,n,l,d,c,h,p;(i.isDomElement(e)||i.isJqueryElement(e))&&(e=i.collectFormValues(e));for(a in t){l=i.getDeepObjectValue(e,a),d=i.result(t[a],l,e,a,r,t);for(n in d){if(c=i.validators[n],!c)throw p=i.format("Unknown validator %{name}",{name:n}),new Error(p);h=d[n],h=i.result(h,l,e,a,r,t),h&&s.push({attribute:a,value:l,validator:n,globalOptions:r,attributes:e,options:h,error:c.call(c,l,h,a,e,r)})}}return s},processValidationResults:function(e,t){e=i.pruneEmptyErrors(e,t),e=i.expandMultipleErrors(e,t),e=i.convertErrorMessages(e,t);var r=t.format||"grouped";if(typeof i.formatters[r]=="function")e=i.formatters[r](e);else throw new Error(i.format("Unknown format %{format}",t));return i.isEmpty(e)?void 0:e},async:function(e,t,r){r=i.extend({},i.async.options,r);var s=r.wrapErrors||function(n){return n};r.cleanAttributes!==!1&&(e=i.cleanAttributes(e,t));var a=i.runValidations(e,t,r);return new i.Promise(function(n,l){i.waitForResults(a).then(function(){var d=i.processValidationResults(a,r);d?l(new s(d,r,e,t)):n(e)},function(d){l(d)})})},single:function(e,t,r){return r=i.extend({},i.single.options,r,{format:"flat",fullMessages:!1}),i({single:e},{single:t},r)},waitForResults:function(e){return e.reduce(function(t,r){return i.isPromise(r.error)?t.then(function(){return r.error.then(function(s){r.error=s||null})}):t},new i.Promise(function(t){t()}))},result:function(e){var t=[].slice.call(arguments,1);return typeof e=="function"&&(e=e.apply(null,t)),e},isNumber:function(e){return typeof e=="number"&&!isNaN(e)},isFunction:function(e){return typeof e=="function"},isInteger:function(e){return i.isNumber(e)&&e%1===0},isBoolean:function(e){return typeof e=="boolean"},isObject:function(e){return e===Object(e)},isDate:function(e){return e instanceof Date},isDefined:function(e){return e!=null},isPromise:function(e){return!!e&&i.isFunction(e.then)},isJqueryElement:function(e){return e&&i.isString(e.jquery)},isDomElement:function(e){return!e||!e.querySelectorAll||!e.querySelector?!1:i.isObject(document)&&e===document?!0:typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},isEmpty:function(e){var t;if(!i.isDefined(e))return!0;if(i.isFunction(e))return!1;if(i.isString(e))return i.EMPTY_STRING_REGEXP.test(e);if(i.isArray(e))return e.length===0;if(i.isDate(e))return!1;if(i.isObject(e)){for(t in e)return!1;return!0}return!1},format:i.extend(function(e,t){return i.isString(e)?e.replace(i.format.FORMAT_REGEXP,function(r,s,a){return s==="%"?"%{"+a+"}":String(t[a])}):e},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(e){return i.isNumber(e)?e*100%1===0?""+e:parseFloat(Math.round(e*100)/100).toFixed(2):i.isArray(e)?e.map(function(t){return i.prettify(t)}).join(", "):i.isObject(e)?i.isDefined(e.toString)?e.toString():JSON.stringify(e):(e=""+e,e.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(t,r,s){return""+r+" "+s.toLowerCase()}).toLowerCase())},stringifyValue:function(e,t){var r=t&&t.prettify||i.prettify;return r(e)},isString:function(e){return typeof e=="string"},isArray:function(e){return{}.toString.call(e)==="[object Array]"},isHash:function(e){return i.isObject(e)&&!i.isArray(e)&&!i.isFunction(e)},contains:function(e,t){return i.isDefined(e)?i.isArray(e)?e.indexOf(t)!==-1:t in e:!1},unique:function(e){return i.isArray(e)?e.filter(function(t,r,s){return s.indexOf(t)==r}):e},forEachKeyInKeypath:function(e,t,r){if(i.isString(t)){var s="",a,n=!1;for(a=0;a<t.length;++a)switch(t[a]){case".":n?(n=!1,s+="."):(e=r(e,s,!1),s="");break;case"\\":n?(n=!1,s+="\\"):n=!0;break;default:n=!1,s+=t[a];break}return r(e,s,!0)}},getDeepObjectValue:function(e,t){if(i.isObject(e))return i.forEachKeyInKeypath(e,t,function(r,s){if(i.isObject(r))return r[s]})},collectFormValues:function(e,t){var r={},s,a,n,l,d,c;if(i.isJqueryElement(e)&&(e=e[0]),!e)return r;for(t=t||{},l=e.querySelectorAll("input[name], textarea[name]"),s=0;s<l.length;++s)if(n=l.item(s),!i.isDefined(n.getAttribute("data-ignored"))){var h=n.name.replace(/\./g,"\\\\.");c=i.sanitizeFormValue(n.value,t),n.type==="number"?c=c?+c:null:n.type==="checkbox"?n.attributes.value?n.checked||(c=r[h]||null):c=n.checked:n.type==="radio"&&(n.checked||(c=r[h]||null)),r[h]=c}for(l=e.querySelectorAll("select[name]"),s=0;s<l.length;++s)if(n=l.item(s),!i.isDefined(n.getAttribute("data-ignored"))){if(n.multiple){c=[];for(a in n.options)d=n.options[a],d&&d.selected&&c.push(i.sanitizeFormValue(d.value,t))}else{var p=typeof n.options[n.selectedIndex]<"u"?n.options[n.selectedIndex].value:"";c=i.sanitizeFormValue(p,t)}r[n.name]=c}return r},sanitizeFormValue:function(e,t){return t.trim&&i.isString(e)&&(e=e.trim()),t.nullify!==!1&&e===""?null:e},capitalize:function(e){return i.isString(e)?e[0].toUpperCase()+e.slice(1):e},pruneEmptyErrors:function(e){return e.filter(function(t){return!i.isEmpty(t.error)})},expandMultipleErrors:function(e){var t=[];return e.forEach(function(r){i.isArray(r.error)?r.error.forEach(function(s){t.push(i.extend({},r,{error:s}))}):t.push(r)}),t},convertErrorMessages:function(e,t){t=t||{};var r=[],s=t.prettify||i.prettify;return e.forEach(function(a){var n=i.result(a.error,a.value,a.attribute,a.options,a.attributes,a.globalOptions);if(!i.isString(n)){r.push(a);return}n[0]==="^"?n=n.slice(1):t.fullMessages!==!1&&(n=i.capitalize(s(a.attribute))+" "+n),n=n.replace(/\\\^/g,"^"),n=i.format(n,{value:i.stringifyValue(a.value,t)}),r.push(i.extend({},a,{error:n}))}),r},groupErrorsByAttribute:function(e){var t={};return e.forEach(function(r){var s=t[r.attribute];s?s.push(r):t[r.attribute]=[r]}),t},flattenErrorsToArray:function(e){return e.map(function(t){return t.error}).filter(function(t,r,s){return s.indexOf(t)===r})},cleanAttributes:function(e,t){function r(n,l,d){return i.isObject(n[l])?n[l]:n[l]=d?!0:{}}function s(n){var l={},d,c;for(c in n)n[c]&&i.forEachKeyInKeypath(l,c,r);return l}function a(n,l){if(!i.isObject(n))return n;var d=i.extend({},n),c,h;for(h in n)c=l[h],i.isObject(c)?d[h]=a(d[h],c):c||delete d[h];return d}return!i.isObject(t)||!i.isObject(e)?{}:(t=s(t),a(e,t))},exposeModule:function(e,t,r,s,a){r?(s&&s.exports&&(r=s.exports=e),r.validate=e):(t.validate=e,e.isFunction(a)&&a.amd&&a([],function(){return e}))},warn:function(e){typeof console<"u"&&console.warn&&console.warn("[validate.js] "+e)},error:function(e){typeof console<"u"&&console.error&&console.error("[validate.js] "+e)}}),f.validators={presence:function(e,t){if(t=i.extend({},this.options,t),t.allowEmpty!==!1?!i.isDefined(e):i.isEmpty(e))return t.message||this.message||"can't be blank"},length:function(e,t,r){if(i.isDefined(e)){t=i.extend({},this.options,t);var s=t.is,a=t.maximum,n=t.minimum,l=t.tokenizer||function(p){return p},d,c=[];e=l(e);var h=e.length;if(!i.isNumber(h))return t.message||this.notValid||"has an incorrect length";if(i.isNumber(s)&&h!==s&&(d=t.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",c.push(i.format(d,{count:s}))),i.isNumber(n)&&h<n&&(d=t.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",c.push(i.format(d,{count:n}))),i.isNumber(a)&&h>a&&(d=t.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",c.push(i.format(d,{count:a}))),c.length>0)return t.message||c}},numericality:function(e,t,r,s,a){if(i.isDefined(e)){t=i.extend({},this.options,t);var n=[],l,d,c={greaterThan:function(g,b){return g>b},greaterThanOrEqualTo:function(g,b){return g>=b},equalTo:function(g,b){return g===b},lessThan:function(g,b){return g<b},lessThanOrEqualTo:function(g,b){return g<=b},divisibleBy:function(g,b){return g%b===0}},h=t.prettify||a&&a.prettify||i.prettify;if(i.isString(e)&&t.strict){var p="^-?(0|[1-9]\\d*)";if(t.onlyInteger||(p+="(\\.\\d+)?"),p+="$",!new RegExp(p).test(e))return t.message||t.notValid||this.notValid||this.message||"must be a valid number"}if(t.noStrings!==!0&&i.isString(e)&&!i.isEmpty(e)&&(e=+e),!i.isNumber(e))return t.message||t.notValid||this.notValid||this.message||"is not a number";if(t.onlyInteger&&!i.isInteger(e))return t.message||t.notInteger||this.notInteger||this.message||"must be an integer";for(l in c)if(d=t[l],i.isNumber(d)&&!c[l](e,d)){var y="not"+i.capitalize(l),M=t[y]||this[y]||this.message||"must be %{type} %{count}";n.push(i.format(M,{count:d,type:h(l)}))}if(t.odd&&e%2!==1&&n.push(t.notOdd||this.notOdd||this.message||"must be odd"),t.even&&e%2!==0&&n.push(t.notEven||this.notEven||this.message||"must be even"),n.length)return t.message||n}},datetime:i.extend(function(e,t){if(!i.isFunction(this.parse)||!i.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(i.isDefined(e)){t=i.extend({},this.options,t);var r,s=[],a=t.earliest?this.parse(t.earliest,t):NaN,n=t.latest?this.parse(t.latest,t):NaN;if(e=this.parse(e,t),isNaN(e)||t.dateOnly&&e%864e5!==0)return r=t.notValid||t.message||this.notValid||"must be a valid date",i.format(r,{value:arguments[0]});if(!isNaN(a)&&e<a&&(r=t.tooEarly||t.message||this.tooEarly||"must be no earlier than %{date}",r=i.format(r,{value:this.format(e,t),date:this.format(a,t)}),s.push(r)),!isNaN(n)&&e>n&&(r=t.tooLate||t.message||this.tooLate||"must be no later than %{date}",r=i.format(r,{date:this.format(n,t),value:this.format(e,t)}),s.push(r)),s.length)return i.unique(s)}},{parse:null,format:null}),date:function(e,t){return t=i.extend({},t,{dateOnly:!0}),i.validators.datetime.call(i.validators.datetime,e,t)},format:function(e,t){(i.isString(t)||t instanceof RegExp)&&(t={pattern:t}),t=i.extend({},this.options,t);var r=t.message||this.message||"is invalid",s=t.pattern,a;if(i.isDefined(e)&&(!i.isString(e)||(i.isString(s)&&(s=new RegExp(t.pattern,t.flags)),a=s.exec(e),!a||a[0].length!=e.length)))return r},inclusion:function(e,t){if(i.isDefined(e)&&(i.isArray(t)&&(t={within:t}),t=i.extend({},this.options,t),!i.contains(t.within,e))){var r=t.message||this.message||"^%{value} is not included in the list";return i.format(r,{value:e})}},exclusion:function(e,t){if(i.isDefined(e)&&(i.isArray(t)&&(t={within:t}),t=i.extend({},this.options,t),!!i.contains(t.within,e))){var r=t.message||this.message||"^%{value} is restricted";return i.isString(t.within[e])&&(e=t.within[e]),i.format(r,{value:e})}},email:i.extend(function(e,t){t=i.extend({},this.options,t);var r=t.message||this.message||"is not a valid email";if(i.isDefined(e)&&(!i.isString(e)||!this.PATTERN.exec(e)))return r},{PATTERN:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(e,t,r,s,a){if(i.isDefined(e)){i.isString(t)&&(t={attribute:t}),t=i.extend({},this.options,t);var n=t.message||this.message||"is not equal to %{attribute}";if(i.isEmpty(t.attribute)||!i.isString(t.attribute))throw new Error("The attribute must be a non empty string");var l=i.getDeepObjectValue(s,t.attribute),d=t.comparator||function(h,p){return h===p},c=t.prettify||a&&a.prettify||i.prettify;if(!d(e,l,t,r,s))return i.format(n,{attribute:c(t.attribute)})}},url:function(e,t){if(i.isDefined(e)){t=i.extend({},this.options,t);var r=t.message||this.message||"is not a valid url",s=t.schemes||this.schemes||["http","https"],a=t.allowLocal||this.allowLocal||!1,n=t.allowDataUrl||this.allowDataUrl||!1;if(!i.isString(e))return r;var l="^(?:(?:"+s.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",d="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(a?d+="?":l+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",l+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+d+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",n){var c="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",h="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",p="data:(?:"+c+")?(?:;base64)?,"+h;l="(?:"+l+")|(?:^"+p+"$)"}var y=new RegExp(l,"i");if(!y.exec(e))return r}},type:i.extend(function(e,t,r,s,a){if(i.isString(t)&&(t={type:t}),!!i.isDefined(e)){var n=i.extend({},this.options,t),l=n.type;if(!i.isDefined(l))throw new Error("No type was specified");var d;if(i.isFunction(l)?d=l:d=this.types[l],!i.isFunction(d))throw new Error("validate.validators.type.types."+l+" must be a function.");if(!d(e,n,r,s,a)){var c=t.message||this.messages[l]||this.message||n.message||(i.isFunction(l)?"must be of the correct type":"must be of type %{type}");return i.isFunction(c)&&(c=c(e,t,r,s,a)),i.format(c,{attribute:i.prettify(r),type:l})}}},{types:{object:function(e){return i.isObject(e)&&!i.isArray(e)},array:i.isArray,integer:i.isInteger,number:i.isNumber,string:i.isString,date:i.isDate,boolean:i.isBoolean},messages:{}})},f.formatters={detailed:function(e){return e},flat:i.flattenErrorsToArray,grouped:function(e){var t;e=i.groupErrorsByAttribute(e);for(t in e)e[t]=i.flattenErrorsToArray(e[t]);return e},constraint:function(e){var t;e=i.groupErrorsByAttribute(e);for(t in e)e[t]=e[t].map(function(r){return r.validator}).sort();return e}},f.exposeModule(f,this,m,o,u)}).call(v,typeof v<"u"?v:null,typeof x<"u"?x:null,typeof define<"u"?define:null)});var A=F(k(),1);function S(m,o){return fetch(m,{body:JSON.stringify(o),cache:"no-cache",headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",mode:"cors"})}function _(){return"\n        <style>\n            *,\n            *::before,\n            *::after {\n                box-sizing: border-box;\n                margin: 0;\n                padding: 0;\n            }\n\n            :host {\n                --flow-space: 1.5rem;\n\n                --color-dark: #404040;\n                --color-grey: #555B69;\n\n                --color-success: #1EB244;\n                --color-failure: #FFEDEB;\n                --color-failure-tint: #F86B58;\n\n                --color-richblue: #043C93;\n                --color-theme: ".concat(this.themeColor,";\n\n                --color-active: #2D2B2A;\n                --color-default: #001096;\n                --color-disabled: #848282;\n            }\n\n            html {\n                font-family: 'DM Sans', sans-serif;\n            }\n\n            [hidden] {\n                display: none !important;\n            }\n\n            [disabled] {\n                cursor: not-allowed !important;\n            }\n\n            .visually-hidden {\n                border: 0;\n                clip: rect(1px 1px 1px 1px);\n                clip: rect(1px, 1px, 1px, 1px);\n                height: auto;\n                margin: 0;\n                overflow: hidden;\n                padding: 0;\n                position: absolute;\n                white-space: nowrap;\n                width: 1px;\n            }\n\n            .color-dark {\n                color: var(--color-dark);\n            }\n\n            .color-grey {\n                color: var(--color-grey);\n            }\n\n            .flow > * + * {\n                margin-top: var(--flow-space);\n            }\n\n            .center {\n                margin-left: auto;\n                margin-right: auto;\n\n                text-align: center;\n            }\n\n            h1 {\n                font-size: 1.5rem;\n                font-weight: 700;\n            }\n\n            button, input, select, textarea {\n                font: inherit\n            }\n\n            label,\n            input,\n            select,\n            textarea {\n                --flow-space: .5rem;\n                display: block;\n                width: 100%;\n            }\n\n            input,\n            select,\n            textarea {\n                border: 1px solid #d1d8d6;\n                border-radius: .5rem;\n                padding: .75rem 1rem;\n            }\n\n            button {\n                --button-color: var(--color-default);\n                --flow-space: 3rem;\n                -webkit-appearance: none;\n                -moz-appearance: none;\n                align-items: center;\n                appearance: none;\n                background-color: transparent;\n                border-radius: 2.5rem;\n                border: none;\n                color: #ffffff;\n                cursor: pointer;\n                display: inline-flex;\n                font-size: 20px;\n                font-weight: 500;\n                inline-size: 100%;\n                justify-content: center;\n                letter-spacing: .05ch;\n                line-height: 1;\n                padding: 1rem 2.5rem;\n                text-align: center;\n                text-decoration: none;\n            }\n\n            button[data-variant='solid'] {\n                background-color: var(--button-color);\n                border: 2px solid var(--button-color);\n            }\n\n            button[data-variant='outline'] {\n                color: var(--button-color);\n                border: 2px solid var(--button-color);\n            }\n\n            button[data-variant='ghost'] {\n                color: var(--button-color);\n            }\n\n            button:hover,\n            button:focus,\n            button:active {\n                --button-color: var(--color-active);\n            }\n\n            button:disabled {\n                --button-color: var(--color-disabled);\n            }\n\n            button[data-type='icon'] {\n                height: 2rem;\n                padding: 0;\n                width: 2rem;\n                background: transparent;\n            }\n\n            input {\n                font: inherit;\n            }\n\n            fieldset {\n                margin: 0;\n                border: none;\n            }\n\n            .font-weight:bold {\n                font-weight: bold;\n            }\n\n            .justify-right {\n                justify-content: end !important;\n            }\n            .nav {\n                display: flex;\n                justify-content: space-between;\n            }\n\n            .back-wrapper {\n                display: flex;\n                align-items: center;\n            }\n\n            .back-button-text {\n                font-size: 11px;\n                line-height: 11px;\n                color: ").concat(this.themeColor||"rgb(21, 31, 114)",';\n            }\n\n            #error,\n            .validation-message {\n                color: red;\n                text-transform: capitalize;\n            }\n\n            .input-group {\n                --flow-space: 1.5rem;\n                text-align: initial;\n            }\n\n            .input-radio {\n                --flow-space: 1.5rem;\n                background-color: #F8F8F8;\n                border-radius: .5rem;\n                padding: .625rem 1rem;\n                display: flex;\n                align-items: center;\n            }\n\n            .otp-mode {\n                display: flex;\n                align-items: center;\n                text-align: initial;\n            }\n\n            .otp-mode :first-child {\n                margin: 0;\n                margin-inline-end: 1rem;\n            }\n\n            .otp-mode :nth-child(2n) {\n                --flow-space: .5rem;\n            }\n\n            .input-radio [type=\'radio\'] {\n                border-radius: 50%;\n                inline-size: 2rem;\n                block-size: 2rem;\n                margin-inline-end: .5rem;\n                background-color: white;\n                border: .125rem solid #f5f5f5;\n            }\n\n            #totp-token {\n                block-size: 3rem;\n                inline-size: 20rem;\n                max-inline-size: 100%;\n                background-color: #F5F5F5;\n                border: none;\n                border-bottom: 2px solid #2F718D;\n                font-size: 1.5rem;\n                text-align: center;\n                font-weight: 700;\n                letter-spacing: 2rem;\n                padding: .5rem 1rem;\n                margin-inline: auto;\n            }\n\n            @keyframes spin {\n                0% {\n                    transform: translate3d(-50%, -50%, 0) rotate(0deg);\n                }\n                100% {\n                    transform: translate3d(-50%, -50%, 0) rotate(360deg);\n                }\n            }\n\n            .spinner {\n                animation: 1.5s linear infinite spin;\n                animation-play-state: inherit;\n                border: solid 5px #cfd0d1;\n                border-bottom-color: var(--color-active);\n                border-radius: 50%;\n                content: "";\n                display: block;\n                height: 25px;\n                width: 25px;\n                will-change: transform;\n                position: relative;\n                top: .675rem;\n                left: 1.25rem;\n            }\n        </style>\n\n        <div class=\'flow center\' id=\'id-entry\'>\n            <div class="nav">\n                <div class="back-wrapper">\n                    <button type=\'button\' data-type=\'icon\' id="back-button" class="back-button">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">\n                            <path fill="#DBDBC4" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z" opacity=".4"/>\n                            <path fill="').concat(this.themeColor,'" d="M15.5 11.25h-5.19l1.72-1.72c.29-.29.29-.77 0-1.06a.754.754 0 0 0-1.06 0l-3 3c-.29.29-.29.77 0 1.06l3 3c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06l-1.72-1.72h5.19c.41 0 .75-.34.75-.75s-.34-.75-.75-.75Z"/>\n                        </svg>\n                    </button>\n                    <div class="back-button-text">Back</div>\n                </div>\n                <button data-type=\'icon\' type=\'button\' class=\'close-iframe\'>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">\n                        <path fill="#DBDBC4" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z" opacity=".4"/>\n                        <path fill="#91190F" d="m13.06 12 2.3-2.3c.29-.29.29-.77 0-1.06a.754.754 0 0 0-1.06 0l-2.3 2.3-2.3-2.3a.754.754 0 0 0-1.06 0c-.29.29-.29.77 0 1.06l2.3 2.3-2.3 2.3c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22l2.3-2.3 2.3 2.3c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06l-2.3-2.3Z"/>\n                    </svg>\n                    <span class=\'visually-hidden\'>Close SmileIdentity Verification frame</span>\n                </button>\n            </div>\n            <h1>\n                Enter your ').concat(this.idTypeLabel,"\n            </h1>\n\n            <form name='id-entry-form' class='flow' novalidate style='--flow-space: 5.5rem'>\n                <div id='id-number' class=\"input-group flow\">\n                    <label class='required' for=\"id_number\">\n                        ").concat(this.idTypeLabel,"\n                    </label>\n\n                    <input aria-required='true' id=\"id_number\" name=\"id_number\"\n                        maxlength='11' placeholder='' />\n\n                    <p>\n                        <small>").concat(this.idHint,'</small>\n                    </p>\n                </div>\n\n                <button data-variant=\'solid\' id=\'query-otp-modes\' type=\'submit\'>\n                    <span class=\'text\'>Continue</span>\n                    <svg aria-hidden=\'true\' width="25" height="24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M7 12h11m0 0-4.588-4M18 12l-4.588 4" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>\n                    <span hidden class=\'spinner\'></span>\n                </button>\n            </form>\n        </div>\n\n        <div hidden class=\'flow center\' id=\'select-mode\'>\n            <div class="nav">\n                <div class="back-wrapper">\n                    <button type=\'button\' data-type=\'icon\' id="back-to-entry-button" class="back-button">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">\n                            <path fill="#DBDBC4" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z" opacity=".4"/>\n                            <path fill="').concat(this.themeColor,"\" d=\"M15.5 11.25h-5.19l1.72-1.72c.29-.29.29-.77 0-1.06a.754.754 0 0 0-1.06 0l-3 3c-.29.29-.29.77 0 1.06l3 3c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06l-1.72-1.72h5.19c.41 0 .75-.34.75-.75s-.34-.75-.75-.75Z\"/>\n                        </svg>\n                    </button>\n                    <div class=\"back-button-text\">Back</div>\n                </div>\n                <button data-type='icon' type='button' class='close-iframe'>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\">\n                        <path fill=\"#DBDBC4\" d=\"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z\" opacity=\".4\"/>\n                        <path fill=\"#91190F\" d=\"m13.06 12 2.3-2.3c.29-.29.29-.77 0-1.06a.754.754 0 0 0-1.06 0l-2.3 2.3-2.3-2.3a.754.754 0 0 0-1.06 0c-.29.29-.29.77 0 1.06l2.3 2.3-2.3 2.3c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22l2.3-2.3 2.3 2.3c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06l-2.3-2.3Z\"/>\n                    </svg>\n                    <span class='visually-hidden'>Close SmileIdentity Verification frame</span>\n                </button>\n            </div>\n            <h1>\n                Select contact method\n            </h1>\n\n            <form name='select-mode-form' novalidate style='--flow-space: 4.25rem' id='otp-entry' class='flow center'>\n                <fieldset class='flow center'>\n                    <legend class='flow' style='--flow-space: 1.5rem'>\n                        <p>\n                            NIBSS, the data custodian of BVN,&nbsp;\n                            will send you a One-Time Password (OTP) \n                        </p>\n\n                        <p>\n                            <small>\n                                The request will be from Chams Plc, who is NIBSS' technical partner.\n                            </small>\n                        </p>\n                    </legend>\n\n                    <div class='flow center'>\n                        ").concat(this.modes.length?this.modes.map(m=>'<label class=\'input-radio\'>\n                                <input type="radio" id="" name="mode" value="'.concat(Object.keys(m)[0],"\">\n                                <div class='otp-mode'>\n                                    ").concat(Object.keys(m)[0].includes("sms")?'\n                                        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="37" fill="none">\n                                            <path stroke="#2F718D" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.697 24.12c4.914 0 7.37 0 8.897-1.652 1.527-1.651 1.527-4.31 1.527-9.625 0-5.316 0-7.974-1.527-9.625-1.526-1.651-3.983-1.651-8.897-1.651h-5.211c-4.914 0-7.37 0-8.897 1.651-1.527 1.651-1.527 4.31-1.527 9.625 0 5.316 0 7.974 1.527 9.625.85.92 1.991 1.328 3.685 1.508"/>\n                                            <g filter="url(#sms)">\n                                                <path stroke="#2F718D" stroke-linecap="round" stroke-width="2" d="M16.697 24.12c-1.61 0-3.384.703-5.005 1.613-2.602 1.462-3.903 2.193-4.545 1.727-.64-.465-.52-1.91-.277-4.799l.055-.656" shape-rendering="crispEdges"/>\n                                            </g>\n                                            <defs>\n                                                <filter id="sms" width="20.023" height="15.595" x="1.675" y="21.005" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">\n                                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                                                    <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n                                                    <feOffset dy="4"/>\n                                                    <feGaussianBlur stdDeviation="2"/>\n                                                    <feComposite in2="hardAlpha" operator="out"/>\n                                                    <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n                                                    <feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2_404"/>\n                                                    <feBlend in="SourceGraphic" in2="effect1_dropShadow_2_404" result="shape"/>\n                                                </filter>\n                                            </defs>\n                                        </svg>\n                                    ':'\n                                        <svg xmlns="http://www.w3.org/2000/svg" width="35" height="24" fill="none">\n                                            <path stroke="#2F718D" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.062 4.367c0-1.437 1.221-2.603 2.727-2.603h21.815c1.506 0 2.727 1.166 2.727 2.603v15.62c0 1.438-1.221 2.604-2.727 2.604H6.789c-1.506 0-2.727-1.166-2.727-2.604V4.367Z"/>\n                                            <g filter="url(#message)">\n                                                <path stroke="#2F718D" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m5.426 3.066 8.647 7.338c2.067 1.754 5.18 1.754 7.247 0l8.648-7.338" shape-rendering="crispEdges"/>\n                                            </g>\n                                            <defs>\n                                                <filter id="message" width="34.042" height="18.154" x=".676" y="2.316" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">\n                                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                                                    <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n                                                    <feOffset dy="4"/>\n                                                    <feGaussianBlur stdDeviation="2"/>\n                                                    <feComposite in2="hardAlpha" operator="out"/>\n                                                    <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n                                                    <feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2_394"/>\n                                                    <feBlend in="SourceGraphic" in2="effect1_dropShadow_2_394" result="shape"/>\n                                                </filter>\n                                            </defs>\n                                        </svg>\n                                    ',"\n                                    <div class='flow'>\n                                        <p>\n                                            ").concat(Object.values(m)[0],"\n                                        </p>\n                                        <p>\n                                            <small>\n                                                An OTP will be sent by ").concat(Object.keys(m)[0].includes("sms")?"sms":"email"," to verify your identity\n                                            </small>\n                                        </p>\n                                    </div>\n                                </div>\n                            </label>")).join("\n"):"No modes yet","\n                    </div>\n                </fieldset>\n\n                <button data-variant='ghost' id='contact-methods-outdated' style='--flow-space: .5rem' class='' type='button'>\n                    I am no longer using any of these options\n                </button>\n\n                <button data-variant='solid' id='select-otp-mode' type='submit'>\n                    <span class='text'>Continue</span>\n                    <svg aria-hidden='true' width=\"25\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M7 12h11m0 0-4.588-4M18 12l-4.588 4\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                    </svg>\n                    <span hidden class='spinner'></span>\n                </button>\n            </form>\n        </div>\n\n        <div hidden class='flow center' id='otp-verification'>\n            <div class=\"nav justify-right\">\n                <button data-type='icon' type='button' class='close-iframe'>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\">\n                        <path fill=\"#DBDBC4\" d=\"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z\" opacity=\".4\"/>\n                        <path fill=\"#91190F\" d=\"m13.06 12 2.3-2.3c.29-.29.29-.77 0-1.06a.754.754 0 0 0-1.06 0l-2.3 2.3-2.3-2.3a.754.754 0 0 0-1.06 0c-.29.29-.29.77 0 1.06l2.3 2.3-2.3 2.3c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22l2.3-2.3 2.3 2.3c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06l-2.3-2.3Z\"/>\n                    </svg>\n                    <span class='visually-hidden'>Close SmileIdentity Verification frame</span>\n                </button>\n            </div>\n            <h1>\n                OTP Verification\n            </h1>\n\n            <div style='--flow-space: 4.25rem' id='otp-entry'>\n                <form name='otp-submission-form' novalidate style='--flow-space: 1.5rem' class='flow center'>\n                    <label for='totp-token'>\n                        Enter the OTP sent to <span class='font-weight:bold'>").concat(this.selectedOtpDeliveryMode,"</span>\n                    </label>\n                    <input type='text' id='totp-token' maxlength='6' inputmode='numeric' autocomplete='one-time-code' />\n\n                    <p>\n                        Didn't receive the OTP").concat(this.selectedOtpDeliveryMode?" at <span class='font-weight:bold'>".concat(this.selectedOtpDeliveryMode,"</span>?"):"?","\n                    </p>\n\n                    <button style='--flow-space: .5rem' data-variant='ghost' class='try-another-method' type='button'>\n                        Try another contact method\n                    </button>\n\n                    <button data-variant='solid' id='submit-otp' type='submit'>\n                        <span class='text'>Submit</span>\n                        <svg aria-hidden='true' width=\"25\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M7 12h11m0 0-4.588-4M18 12l-4.588 4\" stroke=\"#fff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                        </svg>\n                        <span hidden class='spinner'></span>\n                    </button>\n                </form>\n            </div>\n        </div>\n    ")}var w=class extends HTMLElement{constructor(){super(),this.templateString=_.bind(this),this.render=()=>this.templateString(),this.attachShadow({mode:"open"}),this.modes=[],this["otp-delivery-mode"]="",this.queryOtpModes=this.queryOtpModes.bind(this),this.selectOtpMode=this.selectOtpMode.bind(this),this.submitOtp=this.submitOtp.bind(this),this.switchContactMethod=this.switchContactMethod.bind(this),this.handleTotpConsentGrant=this.handleTotpConsentGrant.bind(this),this.handleTotpConsentContactMethodsOutdated=this.handleTotpConsentContactMethodsOutdated.bind(this),this.pages=[]}static get observedAttributes(){return["modes","otp-delivery-mode"]}attributeChangedCallback(o){switch(o){case"modes":case"otp-delivery-mode":{let u=document.createElement("template");u.innerHTML=this.render();let f=u.content.cloneNode(!0).querySelector("#".concat(this.activeScreen.id));f.hidden=!1,this.shadowRoot.replaceChild(f,this.activeScreen),this.setUpEventListeners(),this.setActiveScreen(f);break}default:break}}setUpEventListeners(){this.idEntryScreen=this.shadowRoot.querySelector("#id-entry"),this.selectModeScreen=this.shadowRoot.querySelector("#select-mode"),this.otpVerificationScreen=this.shadowRoot.querySelector("#otp-verification"),this.activeScreen||(this.activeScreen=this.idEntryScreen),this.queryOtpModesButton=this.idEntryScreen.querySelector("#query-otp-modes"),this.backButton=this.idEntryScreen.querySelector("#back-button"),this.selectOtpModeButton=this.selectModeScreen.querySelector("#select-otp-mode"),this.entryBackbutton=this.selectModeScreen.querySelector("#back-to-entry-button"),this.contactMethodsOutdatedButton=this.selectModeScreen.querySelector("#contact-methods-outdated"),this.submitOtpButton=this.otpVerificationScreen.querySelector("#submit-otp"),this.switchContactMethodButton=this.otpVerificationScreen.querySelector(".try-another-method");let o=this.shadowRoot.querySelectorAll(".close-iframe");this.idNumberInput=this.idEntryScreen.querySelector("#id_number"),this.modeInputs=this.selectModeScreen.querySelectorAll('[name="mode"]'),this.otpInput=this.otpVerificationScreen.querySelector("#totp-token"),this.queryOtpModesButton.addEventListener("click",u=>this.queryOtpModes(u)),this.selectOtpModeButton.addEventListener("click",u=>this.selectOtpMode(u)),this.submitOtpButton.addEventListener("click",u=>this.submitOtp(u)),this.switchContactMethodButton.addEventListener("click",u=>this.switchContactMethod(u)),this.contactMethodsOutdatedButton.addEventListener("click",u=>this.handleTotpConsentContactMethodsOutdated(u)),this.entryBackbutton.addEventListener("click",()=>{this.handleBackClick()}),this.backButton.addEventListener("click",()=>{this.handleBackClick()}),o.forEach(u=>{u.addEventListener("click",()=>{this.closeWindow()},!1)})}closeWindow(){let o=window.parent;[o.parent,o].forEach(u=>{u.postMessage("SmileIdentity::Close","*")})}handleBackClick(){let o=this.pages.pop();o?this.setActiveScreen(o):this.dispatchEvent(new CustomEvent("end-user-consent.totp.cancelled",{}))}connectedCallback(){let o=document.createElement("template");o.innerHTML=this.render(),this.shadowRoot.appendChild(o.content.cloneNode(!0)),this.setUpEventListeners()}switchContactMethod(){this.queryOtpModes()}resetForm(){this.activeScreen.querySelectorAll("[aria-invalid]").forEach(f=>f.removeAttribute("aria-invalid")),this.activeScreen.querySelectorAll(".validation-message").forEach(f=>f.remove())}handleIdNumberValidationErrors(o){Object.keys(o).forEach(f=>{let i=this.activeScreen.querySelector("#".concat(f));i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby","".concat(f,"-hint"));let e=document.createElement("div");e.setAttribute("id","".concat(f,"-hint")),e.setAttribute("class","validation-message"),e.textContent=o[f][0],i.insertAdjacentElement("afterend",e)})}handleActiveScreenErrors(o){let u=this.activeScreen.querySelector('[type="submit"]'),f=document.createElement("div");f.setAttribute("class","validation-message"),f.textContent=o,u.insertAdjacentElement("beforebegin",f)}validateIdNumber(o){let u={id_number:{format:new RegExp(this.idRegex),presence:{allowEmpty:!1,message:"is required"}}},f=(0,A.default)({id_number:o},u);return f&&this.handleIdNumberValidationErrors(f),f}async queryOtpModes(o){o&&(o.preventDefault(),this.resetForm());let u=this.validateIdNumber(this.idNumberInput.value);if(localStorage.setItem("idNumber",this.idNumberInput.value||this.idNumber),!u){let f={country:this.country,id_number:this.idNumber,id_type:this.idType,partner_id:this.partnerId,token:this.token},i="".concat(this.baseUrl,"/totp_consent");try{this.toggleLoading();let e=await S(i,f),t=await e.json();this.toggleLoading(),e.ok?(this.sessionId=t.session_id,this.modes=t.modes,this.setActiveScreen(this.selectModeScreen),this.setAttribute("modes",t.modes)):this.handleActiveScreenErrors(t.error)}catch(e){this.toggleLoading(),this.handleActiveScreenErrors(e.message)}}}async selectOtpMode(o){o.preventDefault(),this.resetForm(),this.mode=Array.prototype.find.call(this.modeInputs,i=>i.checked).value;let u={country:this.country,id_number:this.idNumber,id_type:this.idType,mode:this.mode,partner_id:this.partnerId,session_id:this.sessionId,token:this.token},f="".concat(this.baseUrl,"/totp_consent/mode");try{this.toggleLoading();let i=await S(f,u),e=await i.json();this.toggleLoading(),i.ok?(this.selectedOtpDeliveryMode=this.modes.filter(t=>t[this.mode])[0][this.mode],this.setActiveScreen(this.otpVerificationScreen),this.setAttribute("otp-delivery-mode",this.selectedOtpDeliveryMode)):this.handleActiveScreenErrors(e.error)}catch(i){this.toggleLoading(),this.handleActiveScreenErrors(i.message)}}async submitOtp(o){o.preventDefault(),this.resetForm(),this.otp=this.otpInput.value;let u={country:this.country,id_number:this.idNumber,id_type:this.idType,otp:this.otp,partner_id:this.partnerId,session_id:this.sessionId,token:this.token},f="".concat(this.baseUrl,"/totp_consent/otp");try{this.toggleLoading();let i=await S(f,u),e=await i.json();this.toggleLoading(),i.ok?this.handleTotpConsentGrant(o):this.handleActiveScreenErrors(e.error)}catch(i){this.toggleLoading(),this.handleActiveScreenErrors(i.message)}}toggleLoading(){let o=this.activeScreen.querySelector('button[type="submit"]'),u=o.querySelector(".text"),f=o.querySelector("svg"),i=o.querySelector(".spinner");o.toggleAttribute("disabled"),u.toggleAttribute("hidden"),f.toggleAttribute("hidden"),i.toggleAttribute("hidden")}setActiveScreen(o){this.activeScreen.hidden=!0,o.hidden=!1,this.activeScreen=o}get baseUrl(){return this.getAttribute("base-url")}get country(){return this.getAttribute("country")}get idHint(){return this.getAttribute("id-hint")||"Your BVN should be 11 digits long"}get idNumber(){return localStorage.getItem("idNumber")}get idRegex(){return this.getAttribute("id-regex")}get idType(){return this.getAttribute("id-type")}get idTypeLabel(){return this.getAttribute("id-type-label")}get partnerId(){return this.getAttribute("partner-id")}get partnerName(){return this.getAttribute("partner-name")}get token(){return this.getAttribute("token")}get themeColor(){return this.getAttribute("theme-color")||"#001096"}get hideBack(){return this.hasAttribute("hide-back")}get showNavigation(){return this.hasAttribute("show-navigation")}handleTotpConsentGrant(){let o=new CustomEvent("end-user-consent.totp.granted",{detail:{consented:{contact_information:!0,document_information:!0,personal_details:!0},id_number:this.idNumber,session_id:this.sessionId}});this.dispatchEvent(o)}handleTotpConsentContactMethodsOutdated(){let o="end-user-consent.totp.denied.contact-methods-outdated",u=new CustomEvent(o,{detail:{data:{id_number:this.idNumber,session_id:this.sessionId},message:o}});this.dispatchEvent(u)}};"customElements"in window&&!window.customElements.get("totp-consent")&&window.customElements.define("totp-consent",w);})();
/*! Bundled license information:

validate.js/validate.js:
  (*!
   * validate.js 0.13.1
   *
   * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp
   * Validate.js may be freely distributed under the MIT license.
   * For all details and documentation:
   * http://validatejs.org/
   *)
*/
//# sourceMappingURL=index.js.map
